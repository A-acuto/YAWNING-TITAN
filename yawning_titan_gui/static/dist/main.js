(self.webpackChunknetwork_editor=self.webpackChunknetwork_editor||[]).push([[179],{7195:(he,Ye,Z)=>{"use strict";function J(i){return"function"==typeof i}function me(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const _e=me(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ve(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class fe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(J(n))try{n()}catch(o){t=o instanceof _e?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{mt(o)}catch(d){t=t??[],d instanceof _e?t=[...t,...d.errors]:t.push(d)}}if(t)throw new _e(t)}}add(t){var e;if(t&&t!==this)if(this.closed)mt(t);else{if(t instanceof fe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ve(e,t)}remove(t){const{_finalizers:e}=this;e&&ve(e,t),t instanceof fe&&t._removeParent(this)}}fe.EMPTY=(()=>{const i=new fe;return i.closed=!0,i})();const ke=fe.EMPTY;function Ze(i){return i instanceof fe||i&&"closed"in i&&J(i.remove)&&J(i.add)&&J(i.unsubscribe)}function mt(i){J(i)?i():i.unsubscribe()}const _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kt={setTimeout(i,t,...e){const{delegate:n}=kt;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=kt;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Ki(i){kt.setTimeout(()=>{const{onUnhandledError:t}=_t;if(!t)throw i;t(i)})}function ni(){}const Fn=ln("C",void 0,void 0);function ln(i,t,e){return{kind:i,value:t,error:e}}let ki=null;function Ne(i){if(_t.useDeprecatedSynchronousErrorHandling){const t=!ki;if(t&&(ki={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=ki;if(ki=null,e)throw n}}else i()}class ut extends fe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ze(t)&&t.add(this)):this.destination=Vr}static create(t,e,n){return new wi(t,e,n)}next(t){this.isStopped?ia(function Bi(i){return ln("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ia(function _n(i){return ln("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ia(Fn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function Vi(i,t){return Rt.call(i,t)}class Nt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){Xi(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){Xi(n)}else Xi(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Xi(e)}}}class wi extends ut{constructor(t,e,n){let r;if(super(),J(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Vi(t.next,o),error:t.error&&Vi(t.error,o),complete:t.complete&&Vi(t.complete,o)}):r=t}this.destination=new Nt(r)}}function Xi(i){_t.useDeprecatedSynchronousErrorHandling?function at(i){_t.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=i)}(i):Ki(i)}function ia(i,t){const{onStoppedNotification:e}=_t;e&&kt.setTimeout(()=>e(i,t))}const Vr={closed:!0,next:ni,error:function _r(i){throw i},complete:ni},cn="function"==typeof Symbol&&Symbol.observable||"@@observable";function We(i){return i}let vt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function gb(i){return i&&i instanceof ut||function Je(i){return i&&J(i.next)&&J(i.error)&&J(i.complete)}(i)&&Ze(i)}(e)?e:new wi(e,n,r);return Ne(()=>{const{operator:d,source:p}=this;o.add(d?d.call(o,p):p?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=tf(n))((r,o)=>{const d=new wi({next:p=>{try{e(p)}catch(g){o(g),d.unsubscribe()}},error:o,complete:r});this.subscribe(d)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[cn](){return this}pipe(...e){return function gi(i){return 0===i.length?We:1===i.length?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}(e)(this)}toPromise(e){return new(e=tf(e))((n,r)=>{let o;this.subscribe(d=>o=d,d=>r(d),()=>n(o))})}}return i.create=t=>new i(t),i})();function tf(i){var t;return null!==(t=i??_t.Promise)&&void 0!==t?t:Promise}const wd=me(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ce=(()=>{class i extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new il(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new wd}next(e){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?ke:(this.currentObservers=null,o.push(e),new fe(()=>{this.currentObservers=null,ve(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new vt;return e.source=this,e}}return i.create=(t,e)=>new il(t,e),i})();class il extends Ce{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:ke}}function kn(i){return t=>{if(function Mh(i){return J(i?.lift)}(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function vn(i,t,e,n,r){return new _b(i,t,e,n,r)}class _b extends ut{constructor(t,e,n,r,o,d){super(t),this.onFinalize=o,this.shouldUnsubscribe=d,this._next=e?function(p){try{e(p)}catch(g){t.error(g)}}:super._next,this._error=r?function(p){try{r(p)}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ji(i,t){return kn((e,n)=>{let r=0;e.subscribe(vn(n,o=>{n.next(i.call(t,o,r++))}))})}function ss(i){return this instanceof ss?(this.v=i,this):new ss(i)}function wb(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e.apply(i,t||[]),o=[];return r={},d("next"),d("throw"),d("return"),r[Symbol.asyncIterator]=function(){return this},r;function d(P){n[P]&&(r[P]=function(B){return new Promise(function(Y,X){o.push([P,B,Y,X])>1||p(P,B)})})}function p(P,B){try{!function g(P){P.value instanceof ss?Promise.resolve(P.value.v).then(y,C):E(o[0][2],P)}(n[P](B))}catch(Y){E(o[0][3],Y)}}function y(P){p("next",P)}function C(P){p("throw",P)}function E(P,B){P(B),o.shift(),o.length&&p(o[0][0],o[0][1])}}function xb(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=function sf(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=i[o]&&function(d){return new Promise(function(p,g){!function r(o,d,p,g){Promise.resolve(g).then(function(y){o({value:y,done:p})},d)}(p,g,(d=i[o](d)).done,d.value)})}}}const ma=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function ls(i){return J(i?.then)}function Ih(i){return J(i[cn])}function nl(i){return Symbol.asyncIterator&&J(i?.[Symbol.asyncIterator])}function Ah(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rl=function cc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function uf(i){return J(i?.[rl])}function to(i){return wb(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:r}=yield ss(e.read());if(r)return yield ss(void 0);yield yield ss(n)}}finally{e.releaseLock()}})}function dc(i){return J(i?.getReader)}function or(i){if(i instanceof vt)return i;if(null!=i){if(Ih(i))return function cs(i){return new vt(t=>{const e=i[cn]();if(J(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(ma(i))return function hf(i){return new vt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(ls(i))return function kb(i){return new vt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ki)})}(i);if(nl(i))return pf(i);if(uf(i))return function mf(i){return new vt(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(dc(i))return function Mb(i){return pf(to(i))}(i)}throw Ah(i)}function pf(i){return new vt(t=>{(function Rh(i,t){var e,n,r,o;return function yb(i,t,e,n){return new(e||(e=Promise))(function(o,d){function p(C){try{y(n.next(C))}catch(E){d(E)}}function g(C){try{y(n.throw(C))}catch(E){d(E)}}function y(C){C.done?o(C.value):function r(o){return o instanceof e?o:new e(function(d){d(o)})}(C.value).then(p,g)}y((n=n.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=xb(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(d){r={error:d}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function Pa(i,t,e,n=0,r=!1){const o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function Fa(i,t,e=1/0){return J(t)?Fa((n,r)=>ji((o,d)=>t(n,o,r,d))(or(i(n,r))),e):("number"==typeof t&&(e=t),kn((n,r)=>function Cd(i,t,e,n,r,o,d,p){const g=[];let y=0,C=0,E=!1;const P=()=>{E&&!g.length&&!y&&t.complete()},B=X=>y<n?Y(X):g.push(X),Y=X=>{o&&t.next(X),y++;let ie=!1;or(e(X,C++)).subscribe(vn(t,ue=>{r?.(ue),o?B(ue):t.next(ue)},()=>{ie=!0},void 0,()=>{if(ie)try{for(y--;g.length&&y<n;){const ue=g.shift();d?Pa(t,d,()=>Y(ue)):Y(ue)}P()}catch(ue){t.error(ue)}}))};return i.subscribe(vn(t,B,()=>{E=!0,P()})),()=>{p?.()}}(n,r,i,e)))}function ds(i=1/0){return Fa(We,i)}const Yi=new vt(i=>i.complete());function ff(i){return i&&J(i.schedule)}function na(i){return i[i.length-1]}function gf(i){return J(na(i))?i.pop():void 0}function al(i){return ff(na(i))?i.pop():void 0}function Oh(i,t=0){return kn((e,n)=>{e.subscribe(vn(n,r=>Pa(n,i,()=>n.next(r),t),()=>Pa(n,i,()=>n.complete(),t),r=>Pa(n,i,()=>n.error(r),t)))})}function Nn(i,t=0){return kn((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function io(i,t){if(!i)throw new Error("Iterable cannot be null");return new vt(e=>{Pa(e,t,()=>{const n=i[Symbol.asyncIterator]();Pa(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function us(i,t){return t?function La(i,t){if(null!=i){if(Ih(i))return function So(i,t){return or(i).pipe(Nn(t),Oh(t))}(i,t);if(ma(i))return function Tb(i,t){return new vt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(ls(i))return function Ph(i,t){return or(i).pipe(Nn(t),Oh(t))}(i,t);if(nl(i))return io(i,t);if(uf(i))return function pa(i,t){return new vt(e=>{let n;return Pa(e,t,()=>{n=i[rl](),Pa(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(d){return void e.error(d)}o?e.complete():e.next(r)},0,!0)}),()=>J(n?.return)&&n.return()})}(i,t);if(dc(i))return function Ib(i,t){return io(to(i),t)}(i,t)}throw Ah(i)}(i,t):or(i)}function bn(...i){const t=al(i),e=function Sb(i,t){return"number"==typeof na(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?or(n[0]):ds(e)(us(n,t)):Yi}function hs(i={}){const{connector:t=(()=>new Ce),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let d,p,g,y=0,C=!1,E=!1;const P=()=>{p?.unsubscribe(),p=void 0},B=()=>{P(),d=g=void 0,C=E=!1},Y=()=>{const X=d;B(),X?.unsubscribe()};return kn((X,ie)=>{y++,!E&&!C&&P();const ue=g=g??t();ie.add(()=>{y--,0===y&&!E&&!C&&(p=ol(Y,r))}),ue.subscribe(ie),!d&&y>0&&(d=new wi({next:He=>ue.next(He),error:He=>{E=!0,P(),p=ol(B,e,He),ue.error(He)},complete:()=>{C=!0,P(),p=ol(B,n),ue.complete()}}),or(X).subscribe(d))})(o)}}function ol(i,t,...e){if(!0===t)return void i();if(!1===t)return;const n=new wi({next:()=>{n.unsubscribe(),i()}});return t(...e).subscribe(n)}function Hi(i){for(let t in i)if(i[t]===Hi)return t;throw Error("Could not find renamed property on target object.")}function ms(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function Ui(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ui).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Fh(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const Ab=Hi({__forward_ref__:Hi});function ti(i){return i.__forward_ref__=ti,i.toString=function(){return Ui(this())},i}function Vt(i){return Lh(i)?i():i}function Lh(i){return"function"==typeof i&&i.hasOwnProperty(Ab)&&i.__forward_ref__===ti}function Nh(i){return i&&!!i.\u0275providers}const Dd="https://g.co/ng/security#xss";class Oe extends Error{constructor(t,e){super(function kd(i,t){return`NG0${Math.abs(i)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Gt(i){return"string"==typeof i?i:null==i?"":String(i)}function no(i,t){throw new Oe(-201,!1)}function ra(i,t){null==i&&function _i(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function ze(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function it(i){return{providers:i.providers||[],imports:i.imports||[]}}function ll(i){return Md(i,hc)||Md(i,bf)}function Md(i,t){return i.hasOwnProperty(t)?i[t]:null}function Hh(i){return i&&(i.hasOwnProperty(zh)||i.hasOwnProperty(Nb))?i[zh]:null}const hc=Hi({\u0275prov:Hi}),zh=Hi({\u0275inj:Hi}),bf=Hi({ngInjectableDef:Hi}),Nb=Hi({ngInjectorDef:Hi});var Wt=(()=>((Wt=Wt||{})[Wt.Default=0]="Default",Wt[Wt.Host=1]="Host",Wt[Wt.Self=2]="Self",Wt[Wt.SkipSelf=4]="SkipSelf",Wt[Wt.Optional=8]="Optional",Wt))();let jh;function Qi(i){const t=jh;return jh=i,t}function Na(i,t,e){const n=ll(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Wt.Optional?null:void 0!==t?t:void no(Ui(i))}const $i=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ro={},mc="__NG_DI_FLAG__",fa="ngTempTokenPath",Hb=/\n/gm,sr="__source";let ul;function Io(i){const t=ul;return ul=i,t}function fc(i,t=Wt.Default){if(void 0===ul)throw new Oe(-203,!1);return null===ul?Na(i,void 0,t):ul.get(i,t&Wt.Optional?null:void 0,t)}function ae(i,t=Wt.Default){return(function Bb(){return jh}()||fc)(Vt(i),t)}function ii(i,t=Wt.Default){return ae(i,hl(t))}function hl(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function $h(i){const t=[];for(let e=0;e<i.length;e++){const n=Vt(i[e]);if(Array.isArray(n)){if(0===n.length)throw new Oe(900,!1);let r,o=Wt.Default;for(let d=0;d<n.length;d++){const p=n[d],g=yf(p);"number"==typeof g?-1===g?r=p.token:o|=g:r=p}t.push(ae(r,o))}else t.push(ae(n))}return t}function gc(i,t){return i[mc]=t,i.prototype[mc]=t,i}function yf(i){return i[mc]}function jr(i){return{toString:i}.toString()}var ga=(()=>((ga=ga||{})[ga.OnPush=0]="OnPush",ga[ga.Default=1]="Default",ga))(),_a=(()=>{return(i=_a||(_a={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",_a;var i})();const ao={},Ri=[],_c=Hi({\u0275cmp:Hi}),Gh=Hi({\u0275dir:Hi}),Wh=Hi({\u0275pipe:Hi}),Cf=Hi({\u0275mod:Hi}),oo=Hi({\u0275fac:Hi}),vc=Hi({__NG_ELEMENT_ID__:Hi});let zb=0;function Mt(i){return jr(()=>{const e=!0===i.standalone,n={},r={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ga.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Ri,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||_a.Emulated,id:"c"+zb++,styles:i.styles||Ri,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=i.dependencies,d=i.features;return r.inputs=Yh(i.inputs,n),r.outputs=Yh(i.outputs),d&&d.forEach(p=>p(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(kf).filter(Mf):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Vn).filter(Mf):null,r})}function kf(i){return vi(i)||yn(i)}function Mf(i){return null!==i}function nt(i){return jr(()=>({type:i.type,bootstrap:i.bootstrap||Ri,declarations:i.declarations||Ri,imports:i.imports||Ri,exports:i.exports||Ri,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Yh(i,t){if(null==i)return ao;const e={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,t&&(t[r]=o)}return e}const re=Mt;function vr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function vi(i){return i[_c]||null}function yn(i){return i[Gh]||null}function Vn(i){return i[Wh]||null}function Ur(i){return Array.isArray(i)&&"object"==typeof i[1]}function oa(i){return Array.isArray(i)&&!0===i[1]}function Qh(i){return 0!=(4&i.flags)}function xc(i){return i.componentOffset>-1}function Rd(i){return 1==(1&i.flags)}function Tr(i){return null!==i.template}function $b(i){return 0!=(256&i[2])}function Ba(i,t){return i.hasOwnProperty(oo)?i[oo]:null}class xi{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function zt(){return pt}function pt(i){return i.type.prototype.ngOnChanges&&(i.setInput=Jb),Jh}function Jh(){const i=Ff(this),t=i?.current;if(t){const e=i.previous;if(e===ao)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function Jb(i,t,e,n){const r=this.declaredInputs[e],o=Ff(i)||function vl(i,t){return i[Pf]=t}(i,{previous:ao,current:null}),d=o.current||(o.current={}),p=o.previous,g=p[r];d[r]=new xi(g&&g.currentValue,t,p===ao),i[n]=t}zt.ngInherit=!0;const Pf="__ngSimpleChanges__";function Ff(i){return i[Pf]||null}function Qn(i){for(;Array.isArray(i);)i=i[0];return i}function Dc(i,t){return Qn(t[i])}function $r(i,t){return Qn(t[i.index])}function Od(i,t){return i.data[t]}function bl(i,t){return i[t]}function bi(i,t){const e=t[i];return Ur(e)?e:e[0]}function Pd(i){return 64==(64&i[2])}function Oo(i,t){return null==t?null:i[t]}function so(i){i[18]=0}function Ha(i,t){i[5]+=t;let e=i,n=i[3];for(;null!==n&&(1===t&&1===e[5]||-1===t&&0===e[5]);)n[5]+=t,e=n,n=n[3]}const Pt={lFrame:Wf(null),bindingsEnabled:!0};function Hf(){return Pt.bindingsEnabled}function Ae(){return Pt.lFrame.lView}function hi(){return Pt.lFrame.tView}function ya(i){return Pt.lFrame.contextLView=i,i[8]}function Ir(i){return Pt.lFrame.contextLView=null,i}function Gi(){let i=im();for(;null!==i&&64===i.type;)i=i.parent;return i}function im(){return Pt.lFrame.currentTNode}function wa(i,t){const e=Pt.lFrame;e.currentTNode=i,e.isParent=t}function nm(){return Pt.lFrame.isParent}function Po(){Pt.lFrame.isParent=!1}function Lo(){return Pt.lFrame.bindingIndex++}function lo(i){const t=Pt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function Uf(i,t){const e=Pt.lFrame;e.bindingIndex=e.bindingRootIndex=i,Fd(t)}function Fd(i){Pt.lFrame.currentDirectiveIndex=i}function Ld(i){const t=Pt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}function $f(){return Pt.lFrame.currentQueryIndex}function _s(i){Pt.lFrame.currentQueryIndex=i}function Tc(i){const t=i[1];return 2===t.type?t.declTNode:1===t.type?i[6]:null}function am(i,t,e){if(e&Wt.SkipSelf){let r=t,o=i;for(;!(r=r.parent,null!==r||e&Wt.Host||(r=Tc(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,i=o}const n=Pt.lFrame=Gf();return n.currentTNode=t,n.lView=i,!0}function om(i){const t=Gf(),e=i[1];Pt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Gf(){const i=Pt.lFrame,t=null===i?null:i.child;return null===t?Wf(i):t}function Wf(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function Yf(){const i=Pt.lFrame;return Pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const qf=Yf;function sm(){const i=Yf();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function wr(){return Pt.lFrame.selectedIndex}function No(i){Pt.lFrame.selectedIndex=i}function an(){const i=Pt.lFrame;return Od(i.tView,i.selectedIndex)}function wl(){Pt.lFrame.currentNamespace="svg"}function Bd(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const o=i.data[e].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:p,ngAfterViewInit:g,ngAfterViewChecked:y,ngOnDestroy:C}=o;d&&(i.contentHooks||(i.contentHooks=[])).push(-e,d),p&&((i.contentHooks||(i.contentHooks=[])).push(e,p),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,p)),g&&(i.viewHooks||(i.viewHooks=[])).push(-e,g),y&&((i.viewHooks||(i.viewHooks=[])).push(e,y),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,y)),null!=C&&(i.destroyHooks||(i.destroyHooks=[])).push(e,C)}}function Ac(i,t,e){Oc(i,t,3,e)}function Rc(i,t,e,n){(3&i[2])===e&&Oc(i,t,e,n)}function lm(i,t){let e=i[2];(3&e)===t&&(e&=2047,e+=1,i[2]=e)}function Oc(i,t,e,n){const o=n??-1,d=t.length-1;let p=0;for(let g=void 0!==n?65535&i[18]:0;g<d;g++)if("number"==typeof t[g+1]){if(p=t[g],null!=n&&p>=n)break}else t[g]<0&&(i[18]+=65536),(p<o||-1==o)&&(Bo(i,e,t,g),i[18]=(4294901760&i[18])+g+2),g++}function Bo(i,t,e,n){const r=e[n]<0,o=e[n+1],p=i[r?-e[n]:e[n]];if(r){if(i[2]>>11<i[18]>>16&&(3&i[2])===t){i[2]+=2048;try{o.call(p)}finally{}}}else try{o.call(p)}finally{}}class Cl{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function kl(i,t,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],d=e[n++],p=e[n++];i.setAttribute(t,d,p,o)}else{const o=r,d=e[++n];Zf(o)?i.setProperty(t,o,d):i.setAttribute(t,o,d),n++}}return n}function Qf(i){return 3===i||4===i||6===i}function Zf(i){return 64===i.charCodeAt(0)}function Vo(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?e=r:0===e||cm(i,e,r,null,-1===e||2===e?t[++n]:null)}}return i}function cm(i,t,e,n,r){let o=0,d=i.length;if(-1===t)d=-1;else for(;o<i.length;){const p=i[o++];if("number"==typeof p){if(p===t){d=-1;break}if(p>t){d=o-1;break}}}for(;o<i.length;){const p=i[o];if("number"==typeof p)break;if(p===e){if(null===n)return void(null!==r&&(i[o+1]=r));if(n===i[o+1])return void(i[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==d&&(i.splice(d,0,t),o=d+1),i.splice(o++,0,e),null!==n&&i.splice(o++,0,n),null!==r&&i.splice(o++,0,r)}function Pc(i){return-1!==i}function bs(i){return 32767&i}function Ml(i,t){let e=function Zn(i){return i>>16}(i),n=t;for(;e>0;)n=n[15],e--;return n}let Fc=!0;function co(i){const t=Fc;return Fc=i,t}let cy=0;const Jn={};function uo(i,t){const e=dm(i,t);if(-1!==e)return e;const n=t[1];n.firstCreatePass&&(i.injectorIndex=t.length,Hn(n.data,i),Hn(t,null),Hn(n.blueprint,null));const r=Vd(i,t),o=i.injectorIndex;if(Pc(r)){const d=bs(r),p=Ml(r,t),g=p[1].data;for(let y=0;y<8;y++)t[o+y]=p[d+y]|g[d+y]}return t[o+8]=r,o}function Hn(i,t){i.push(0,0,0,0,0,0,0,0,t)}function dm(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function Vd(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;null!==r;){if(n=pm(r),null===n)return-1;if(e++,r=r[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function Hd(i,t,e){!function tg(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(vc)&&(n=e[vc]),null==n&&(n=e[vc]=cy++);const r=255&n;t.data[i+(r>>5)]|=1<<r}(i,t,e)}function um(i,t,e){if(e&Wt.Optional||void 0!==i)return i;no()}function hm(i,t,e,n){if(e&Wt.Optional&&void 0===n&&(n=null),0==(e&(Wt.Self|Wt.Host))){const r=i[9],o=Qi(void 0);try{return r?r.get(t,n,e&Wt.Optional):Na(t,n,e&Wt.Optional)}finally{Qi(o)}}return um(n,0,e)}function zn(i,t,e,n=Wt.Default,r){if(null!==i){if(1024&t[2]){const d=function uy(i,t,e,n,r){let o=i,d=t;for(;null!==o&&null!==d&&1024&d[2]&&!(256&d[2]);){const p=Wi(o,d,e,n|Wt.Self,Jn);if(p!==Jn)return p;let g=o.parent;if(!g){const y=d[21];if(y){const C=y.get(e,Jn,n);if(C!==Jn)return C}g=pm(d),d=d[15]}o=g}return r}(i,t,e,n,Jn);if(d!==Jn)return d}const o=Wi(i,t,e,n,Jn);if(o!==Jn)return o}return hm(t,e,n,r)}function Wi(i,t,e,n,r){const o=function qi(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(vc)?i[vc]:void 0;return"number"==typeof t?t>=0?255&t:El:t}(e);if("function"==typeof o){if(!am(t,i,n))return n&Wt.Host?um(r,0,n):hm(t,e,n,r);try{const d=o(n);if(null!=d||n&Wt.Optional)return d;no()}finally{qf()}}else if("number"==typeof o){let d=null,p=dm(i,t),g=-1,y=n&Wt.Host?t[16][6]:null;for((-1===p||n&Wt.SkipSelf)&&(g=-1===p?Vd(i,t):t[p+8],-1!==g&&mm(n,!1)?(d=t[1],p=bs(g),t=Ml(g,t)):p=-1);-1!==p;){const C=t[1];if(Lc(o,p,C.data)){const E=dy(p,t,e,d,n,y);if(E!==Jn)return E}g=t[p+8],-1!==g&&mm(n,t[1].data[p+8]===y)&&Lc(o,p,t)?(d=C,p=bs(g),t=Ml(g,t)):p=-1}}return r}function dy(i,t,e,n,r,o){const d=t[1],p=d.data[i+8],C=zd(p,d,e,null==n?xc(p)&&Fc:n!=d&&0!=(3&p.type),r&Wt.Host&&o===p);return null!==C?ys(t,d,C,p):Jn}function zd(i,t,e,n,r){const o=i.providerIndexes,d=t.data,p=1048575&o,g=i.directiveStart,C=o>>20,P=r?p+C:i.directiveEnd;for(let B=n?p:p+C;B<P;B++){const Y=d[B];if(B<g&&e===Y||B>=g&&Y.type===e)return B}if(r){const B=d[g];if(B&&Tr(B)&&B.type===e)return g}return null}function ys(i,t,e,n){let r=i[e];const o=t.data;if(function oy(i){return i instanceof Cl}(r)){const d=r;d.resolving&&function Rb(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${i}${e}`)}(function Fi(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Gt(i)}(o[e]));const p=co(d.canSeeViewProviders);d.resolving=!0;const g=d.injectImpl?Qi(d.injectImpl):null;am(i,n,Wt.Default);try{r=i[e]=d.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&function Kf(i,t,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){const d=pt(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,d)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,o))}(e,o[e],t)}finally{null!==g&&Qi(g),co(p),d.resolving=!1,qf()}}return r}function Lc(i,t,e){return!!(e[t+(i>>5)]&1<<i)}function mm(i,t){return!(i&Wt.Self||i&Wt.Host&&t)}class ws{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return zn(this._tNode,this._lView,t,hl(n),e)}}function El(){return new ws(Gi(),Ae())}function At(i){return jr(()=>{const t=i.prototype.constructor,e=t[oo]||xs(t),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const o=r[oo]||xs(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function xs(i){return Lh(i)?()=>{const t=xs(Vt(i));return t&&t()}:Ba(i)}function pm(i){const t=i[1],e=t.type;return 2===e?t.declTNode:1===e?i[6]:null}function Ar(i){return function ig(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(Qf(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Gi(),i)}const ho="__parameters__";function Il(i,t,e){return jr(()=>{const n=function Tl(i){return function(...e){if(i){const n=i(...e);for(const r in n)this[r]=n[r]}}}(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;const d=new r(...o);return p.annotation=d,p;function p(g,y,C){const E=g.hasOwnProperty(ho)?g[ho]:Object.defineProperty(g,ho,{value:[]})[ho];for(;E.length<=C;)E.push(null);return(E[C]=E[C]||[]).push(d),g}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}class oe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ze({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ca(i,t){i.forEach(e=>Array.isArray(e)?Ca(e,t):t(e))}function Al(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function ks(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Bc(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function Rr(i,t,e){let n=Ms(i,t);return n>=0?i[1|n]=e:(n=~n,function rg(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(1===r)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;)i[r]=i[r-2],r--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function vm(i,t){const e=Ms(i,t);if(e>=0)return i[1|e]}function Ms(i,t){return function og(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){const o=n+(r-n>>1),d=i[o<<e];if(t===d)return o<<e;d>t?r=o:n=o+1}return~(r<<e)}(i,t,1)}const Cr=gc(Il("Optional"),8),Yr=gc(Il("SkipSelf"),4);var un=(()=>((un=un||{})[un.Important=1]="Important",un[un.DashCase=2]="DashCase",un))();const zo=new Map;let Em=0;const Im="__ngContext__";function hr(i,t){Ur(t)?(i[Im]=t[20],function Iy(i){zo.set(i[20],i)}(t)):i[Im]=t}function Ts(i,t){return undefined(i,t)}function Gc(i){const t=i[3];return oa(t)?t[3]:t}function Rm(i){return Dg(i[13])}function Om(i){return Dg(i[4])}function Dg(i){for(;null!==i&&!oa(i);)i=i[4];return i}function Nl(i,t,e,n,r){if(null!=n){let o,d=!1;oa(n)?o=n:Ur(n)&&(d=!0,n=n[0]);const p=Qn(n);0===i&&null!==e?null==r?Og(t,e,p):mr(t,e,p,r||null,!0):1===i&&null!==e?mr(t,e,p,r||null,!0):2===i?function ja(i,t,e){const n=eu(i,t);n&&function Vy(i,t,e,n){i.removeChild(t,e,n)}(i,n,t,e)}(t,p,d):3===i&&t.destroyNode(p),null!=o&&function Lg(i,t,e,n,r){const o=e[7];o!==Qn(e)&&Nl(t,i,n,o,r);for(let p=10;p<e.length;p++){const g=e[p];Bl(g[1],g,i,t,n,o)}}(t,i,o,e,r)}}function Fm(i,t,e){return i.createElement(t,e)}function Tg(i,t){const e=i[9],n=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Ha(r,-1)),e.splice(n,1)}function Jd(i,t){if(i.length<=10)return;const e=10+t,n=i[e];if(n){const r=n[17];null!==r&&r!==i&&Tg(r,n),t>0&&(i[e-1][4]=n[4]);const o=ks(i,10+t);!function Mg(i,t){Bl(i,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const d=o[19];null!==d&&d.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-65}return n}function Lm(i,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Bl(i,t,e,3,null,null),function Eg(i){let t=i[13];if(!t)return Nm(i[1],i);for(;t;){let e=null;if(Ur(t))e=t[13];else{const n=t[10];n&&(e=n)}if(!e){for(;t&&!t[4]&&t!==i;)Ur(t)&&Nm(t[1],t),t=t[3];null===t&&(t=i),Ur(t)&&Nm(t[1],t),e=t&&t[4]}t=e}}(t)}}function Nm(i,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Ig(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const r=t[e[n]];if(!(r instanceof Cl)){const o=e[n+1];if(Array.isArray(o))for(let d=0;d<o.length;d+=2){const p=r[o[d]],g=o[d+1];try{g.call(p)}finally{}}else try{o.call(r)}finally{}}}}(i,t),function By(i,t){const e=i.cleanup,n=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const d=e[o+3];d>=0?n[r=d]():n[r=-d].unsubscribe(),o+=2}else{const d=n[r=e[o+1]];e[o].call(d)}if(null!==n){for(let o=r+1;o<n.length;o++)(0,n[o])();t[7]=null}}(i,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&oa(t[3])){e!==t[3]&&Tg(e,t);const n=t[19];null!==n&&n.detachView(i)}!function Xd(i){zo.delete(i[20])}(t)}}function Ag(i,t,e){return function Rg(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[0];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=i.data[n.directiveStart+r];if(o===_a.None||o===_a.Emulated)return null}return $r(n,e)}}(i,t.parent,e)}function mr(i,t,e,n,r){i.insertBefore(t,e,n,r)}function Og(i,t,e){i.appendChild(t,e)}function Pg(i,t,e,n,r){null!==n?mr(i,t,e,n,r):Og(i,t,e)}function eu(i,t){return i.parentNode(t)}function za(i,t,e){return tu(i,t,e)}let Kc,Um,tu=function Vm(i,t,e){return 40&i.type?$r(i,e):null};function fo(i,t,e,n){const r=Ag(i,n,t),o=t[11],p=za(n.parent||t[6],n,t);if(null!=r)if(Array.isArray(e))for(let g=0;g<e.length;g++)Pg(o,r,e[g],p,!1);else Pg(o,r,e,p,!1)}function Yc(i,t){if(null!==t){const e=t.type;if(3&e)return $r(t,i);if(4&e)return Hm(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return Yc(i,n);{const r=i[t.index];return oa(r)?Hm(-1,r):Qn(r)}}if(32&e)return Ts(t,i)()||Qn(i[t.index]);{const n=Or(i,t);return null!==n?Array.isArray(n)?n[0]:Yc(Gc(i[16]),n):Yc(i,t.next)}}return null}function Or(i,t){return null!==t?i[16][6].projection[t.projection]:null}function Hm(i,t){const e=10+i+1;if(e<t.length){const n=t[e],r=n[1].firstChild;if(null!==r)return Yc(n,r)}return t[7]}function iu(i,t,e,n,r,o,d){for(;null!=e;){const p=n[e.index],g=e.type;if(d&&0===t&&(p&&hr(Qn(p),n),e.flags|=2),32!=(32&e.flags))if(8&g)iu(i,t,e.child,n,r,o,!1),Nl(t,i,r,p,o);else if(32&g){const y=Ts(e,n);let C;for(;C=y();)Nl(t,i,r,C,o);Nl(t,i,r,p,o)}else 16&g?nu(i,t,n,e,r,o):Nl(t,i,r,p,o);e=d?e.projectionNext:e.next}}function Bl(i,t,e,n,r,o){iu(e,n,i.firstChild,t,r,o,!1)}function nu(i,t,e,n,r,o){const d=e[16],g=d[6].projection[n.projection];if(Array.isArray(g))for(let y=0;y<g.length;y++)Nl(t,i,r,g[y],o);else iu(i,t,g,d[3],r,o,!0)}function Ng(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function jm(i,t,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&kl(i,t,n),null!==r&&Ng(i,t,r),null!==o&&function qc(i,t,e){i.setAttribute(t,"style",e)}(i,t,o)}function Is(i){return function ru(){if(void 0===Kc&&(Kc=null,$i.trustedTypes))try{Kc=$i.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Kc}()?.createHTML(i)||i}class jo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dd})`}}class As extends jo{getTypeName(){return"HTML"}}class zy extends jo{getTypeName(){return"Style"}}class Rs extends jo{getTypeName(){return"Script"}}class l extends jo{getTypeName(){return"URL"}}class a extends jo{getTypeName(){return"ResourceURL"}}function s(i){return i instanceof jo?i.changingThisBreaksApplicationSecurity:i}function c(i,t){const e=function u(i){return i instanceof jo&&i.getTypeName()||null}(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Dd})`)}return e===t}class w{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Is(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class x{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const n=this.inertDocument.createElement("body");e.appendChild(n)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Is(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Is(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const d=e.item(r).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&t.removeAttribute(d)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const k=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function M(i){return(i=String(i)).match(k)?i:"unsafe:"+i}function S(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function T(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const R=S("area,br,col,hr,img,wbr"),O=S("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),F=S("rp,rt"),z=T(R,T(O,S("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),T(F,S("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),T(F,O)),N=S("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),H=T(N,S("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),S("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q=S("script,style,template");class ${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!z.hasOwnProperty(e))return this.sanitizedSomething=!0,!q.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),d=o.name,p=d.toLowerCase();if(!H.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let g=o.value;N[p]&&(g=M(g)),this.buf.push(" ",d,'="',Q(g),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();z.hasOwnProperty(e)&&!R.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Q(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,K=/([^\#-~ |!])/g;function Q(i){return i.replace(/&/g,"&amp;").replace(ee,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(K,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ne;function ce(i,t){let e=null;try{ne=ne||function b(i){const t=new x(i);return function D(){try{return!!(new window.DOMParser).parseFromString(Is(""),"text/html")}catch{return!1}}()?new w(t):t}(i);let n=t?String(t):"";e=ne.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=ne.getInertBodyElement(n)}while(n!==o);return Is((new $).sanitizeChildren(pe(e)||e))}finally{if(e){const n=pe(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function pe(i){return"content"in i&&function le(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var se=(()=>((se=se||{})[se.NONE=0]="NONE",se[se.HTML=1]="HTML",se[se.STYLE=2]="STYLE",se[se.SCRIPT=3]="SCRIPT",se[se.URL=4]="URL",se[se.RESOURCE_URL=5]="RESOURCE_URL",se))();const Ue=new oe("ENVIRONMENT_INITIALIZER"),Tt=new oe("INJECTOR",-1),ft=new oe("INJECTOR_DEF_TYPES");class et{get(t,e=ro){if(e===ro){const n=new Error(`NullInjectorError: No provider for ${Ui(t)}!`);throw n.name="NullInjectorError",n}return e}}function ci(...i){return{\u0275providers:Xt(0,i),\u0275fromNgModule:!0}}function Xt(i,...t){const e=[],n=new Set;let r;return Ca(t,o=>{const d=o;Le(d,e,[],n)&&(r||(r=[]),r.push(d))}),void 0!==r&&Ot(r,e),e}function Ot(i,t){for(let e=0;e<i.length;e++){const{providers:r}=i[e];de(r,o=>{t.push(o)})}}function Le(i,t,e,n){if(!(i=Vt(i)))return!1;let r=null,o=Hh(i);const d=!o&&vi(i);if(o||d){if(d&&!d.standalone)return!1;r=i}else{const g=i.ngModule;if(o=Hh(g),!o)return!1;r=g}const p=n.has(r);if(d){if(p)return!1;if(n.add(r),d.dependencies){const g="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const y of g)Le(y,t,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!p){let y;n.add(r);try{Ca(o.imports,C=>{Le(C,t,e,n)&&(y||(y=[]),y.push(C))})}finally{}void 0!==y&&Ot(y,t)}if(!p){const y=Ba(r)||(()=>new r);t.push({provide:r,useFactory:y,deps:Ri},{provide:ft,useValue:r,multi:!0},{provide:Ue,useValue:()=>ae(r),multi:!0})}const g=o.providers;null==g||p||de(g,C=>{t.push(C)})}}return r!==i&&void 0!==i.providers}function de(i,t){for(let e of i)Nh(e)&&(e=e.\u0275providers),Array.isArray(e)?de(e,t):t(e)}const Pe=Hi({provide:String,useValue:Hi});function be(i){return null!==i&&"object"==typeof i&&Pe in i}function Re(i){return"function"==typeof i}const mi=new oe("Set Injector scope."),Si={},ai={};let Ci;function Yt(){return void 0===Ci&&(Ci=new et),Ci}class qt{}class on extends qt{constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$o(t,d=>this.processProvider(d)),this.records.set(Tt,tr(void 0,this)),r.has("environment")&&this.records.set(qt,tr(void 0,this));const o=this.records.get(mi);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ft.multi,Ri,Wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Io(this),n=Qi(void 0);try{return t()}finally{Io(e),Qi(n)}}get(t,e=ro,n=Wt.Default){this.assertNotDestroyed(),n=hl(n);const r=Io(this),o=Qi(void 0);try{if(!(n&Wt.SkipSelf)){let p=this.records.get(t);if(void 0===p){const g=function Uo(i){return"function"==typeof i||"object"==typeof i&&i instanceof oe}(t)&&ll(t);p=g&&this.injectableDefInScope(g)?tr(An(t),Si):null,this.records.set(t,p)}if(null!=p)return this.hydrate(t,p)}return(n&Wt.Self?Yt():this.parent).get(t,e=n&Wt.Optional&&e===ro?null:e)}catch(d){if("NullInjectorError"===d.name){if((d[fa]=d[fa]||[]).unshift(Ui(t)),r)throw d;return function ml(i,t,e,n){const r=i[fa];throw t[sr]&&r.unshift(t[sr]),i.message=function wf(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=Ui(t);if(Array.isArray(t))r=t.map(Ui).join(" -> ");else if("object"==typeof t){let o=[];for(let d in t)if(t.hasOwnProperty(d)){let p=t[d];o.push(d+":"+("string"==typeof p?JSON.stringify(p):Ui(p)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(Hb,"\n  ")}`}("\n"+i.message,r,e,n),i.ngTokenPath=r,i[fa]=null,i}(d,t,"R3InjectorError",this.source)}throw d}finally{Qi(o),Io(r)}}resolveInjectorInitializers(){const t=Io(this),e=Qi(void 0);try{const n=this.get(Ue.multi,Ri,Wt.Self);for(const r of n)r()}finally{Io(t),Qi(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(Ui(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(t){let e=Re(t=Vt(t))?t:Vt(t&&t.provide);const n=function ka(i){return be(i)?tr(void 0,i.useValue):tr($n(i),Si)}(t);if(Re(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=tr(void 0,Si,!0),r.factory=()=>$h(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===Si&&(e.value=ai,e.value=e.factory()),"object"==typeof e.value&&e.value&&function go(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Vt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function An(i){const t=ll(i),e=null!==t?t.factory:Ba(i);if(null!==e)return e;if(i instanceof oe)throw new Oe(204,!1);if(i instanceof Function)return function Da(i){const t=i.length;if(t>0)throw Bc(t,"?"),new Oe(204,!1);const e=function cl(i){const t=i&&(i[hc]||i[bf]);if(t){const e=function Lb(i){if(i.hasOwnProperty("name"))return i.name;const t=(""+i).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new Oe(204,!1)}function $n(i,t,e){let n;if(Re(i)){const r=Vt(i);return Ba(r)||An(r)}if(be(i))n=()=>Vt(i.useValue);else if(function Qt(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...$h(i.deps||[]));else if(function we(i){return!(!i||!i.useExisting)}(i))n=()=>ae(Vt(i.useExisting));else{const r=Vt(i&&(i.useClass||i.provide));if(!function kr(i){return!!i.deps}(i))return Ba(r)||An(r);n=()=>new r(...$h(i.deps))}return n}function tr(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function $o(i,t){for(const e of i)Array.isArray(e)?$o(e,t):e&&Nh(e)?$o(e.\u0275providers,t):t(e)}class Os{}class Ps{}class pr{resolveComponentFactory(t){throw function su(i){const t=Error(`No component factory found for ${Ui(i)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=i,t}(t)}}let Rn=(()=>{class i{}return i.NULL=new pr,i})();function lu(){return Mr(Gi(),Ae())}function Mr(i,t){return new qe($r(i,t))}let qe=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=lu,i})();function jy(i){return i instanceof qe?i.nativeElement:i}class Hl{}let Fs=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Uy(){const i=Ae(),e=bi(Gi().index,i);return(Ur(e)?e:i)[11]}(),i})(),$y=(()=>{class i{}return i.\u0275prov=ze({token:i,providedIn:"root",factory:()=>null}),i})();class zl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Gy=new zl("15.0.3"),Ls={};function du(i){return i.ngOriginalError}class Ua{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&du(t);for(;e&&du(e);)e=du(e);return e||null}}function jl(i){return i.ownerDocument.defaultView}function fr(i){return i.ownerDocument}function kD(i,t,e){let n=i.length;for(;;){const r=i.indexOf(t,e);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}const MD="ng-template";function SO(i,t,e){let n=0;for(;n<i.length;){let r=i[n++];if(e&&"class"===r){if(r=i[n],-1!==kD(r.toLowerCase(),t,0))return!0}else if(1===r){for(;n<i.length&&"string"==typeof(r=i[n++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function ED(i){return 4===i.type&&i.value!==MD}function TO(i,t,e){return t===(4!==i.type||e?i.value:MD)}function IO(i,t,e){let n=4;const r=i.attrs||[],o=function OO(i){for(let t=0;t<i.length;t++)if(Qf(i[t]))return t;return i.length}(r);let d=!1;for(let p=0;p<t.length;p++){const g=t[p];if("number"!=typeof g){if(!d)if(4&n){if(n=2|1&n,""!==g&&!TO(i,g,e)||""===g&&1===t.length){if(_o(n))return!1;d=!0}}else{const y=8&n?g:t[++p];if(8&n&&null!==i.attrs){if(!SO(i.attrs,y,e)){if(_o(n))return!1;d=!0}continue}const E=AO(8&n?"class":g,r,ED(i),e);if(-1===E){if(_o(n))return!1;d=!0;continue}if(""!==y){let P;P=E>o?"":r[E+1].toLowerCase();const B=8&n?P:null;if(B&&-1!==kD(B,y,0)||2&n&&y!==P){if(_o(n))return!1;d=!0}}}}else{if(!d&&!_o(n)&&!_o(g))return!1;if(d&&_o(g))continue;d=!1,n=g|1&n}}return _o(n)||d}function _o(i){return 0==(1&i)}function AO(i,t,e,n){if(null===t)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){const d=t[r];if(d===i)return r;if(3===d||6===d)o=!0;else{if(1===d||2===d){let p=t[++r];for(;"string"==typeof p;)p=t[++r];continue}if(4===d)break;if(0===d){r+=4;continue}}r+=o?1:2}return-1}return function PO(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function SD(i,t,e=!1){for(let n=0;n<t.length;n++)if(IO(i,t[n],e))return!0;return!1}function FO(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function TD(i,t){return i?":not("+t.trim()+")":t}function LO(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let d=i[e];if("string"==typeof d)if(2&n){const p=i[++e];r+="["+d+(p.length>0?'="'+p+'"':"")+"]"}else 8&n?r+="."+d:4&n&&(r+=" "+d);else""!==r&&!_o(d)&&(t+=TD(o,r),r=""),n=d,o=o||!_o(n);e++}return""!==r&&(t+=TD(o,r)),t}const ei={};function tt(i){ID(hi(),Ae(),wr()+i,!1)}function ID(i,t,e,n){if(!n)if(3==(3&t[2])){const o=i.preOrderCheckHooks;null!==o&&Ac(t,o,e)}else{const o=i.preOrderHooks;null!==o&&Rc(t,o,0,e)}No(e)}function PD(i,t=null,e=null,n){const r=FD(i,t,e,n);return r.resolveInjectorInitializers(),r}function FD(i,t=null,e=null,n,r=new Set){const o=[e||Ri,ci(i)];return n=n||("object"==typeof i?void 0:Ui(i)),new on(o,t||Yt(),n||null,r)}let Er=(()=>{class i{static create(e,n){if(Array.isArray(e))return PD({name:""},n,e,"");{const r=e.name??"";return PD({name:r},e.parent,e.providers,r)}}}return i.THROW_IF_NOT_FOUND=ro,i.NULL=new et,i.\u0275prov=ze({token:i,providedIn:"any",factory:()=>ae(Tt)}),i.__NG_ELEMENT_ID__=-1,i})();function I(i,t=Wt.Default){const e=Ae();return null===e?ae(i,t):zn(Gi(),e,Vt(i),t)}function Ul(){throw new Error("invalid")}function jD(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const r=e[n],o=e[n+1];if(-1!==o){const d=i.data[o];_s(r),d.contentQueries(2,t[o],o)}}}function $g(i,t,e,n,r,o,d,p,g,y,C){const E=t.blueprint.slice();return E[0]=r,E[2]=76|n,(null!==C||i&&1024&i[2])&&(E[2]|=1024),so(E),E[3]=E[15]=i,E[8]=e,E[10]=d||i&&i[10],E[11]=p||i&&i[11],E[12]=g||i&&i[12]||null,E[9]=y||i&&i[9]||null,E[6]=o,E[20]=function _g(){return Em++}(),E[21]=C,E[16]=2==t.type?i[16]:E,E}function mu(i,t,e,n,r){let o=i.data[t];if(null===o)o=function Zy(i,t,e,n,r){const o=im(),d=nm(),g=i.data[t]=function lP(i,t,e,n,r,o){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?o:o&&o.parent,e,t,n,r);return null===i.firstChild&&(i.firstChild=g),null!==o&&(d?null==o.child&&null!==g.parent&&(o.child=g):null===o.next&&(o.next=g)),g}(i,t,e,n,r),function jf(){return Pt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const d=function yl(){const i=Pt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();o.injectorIndex=null===d?-1:d.injectorIndex}return wa(o,!0),o}function Wm(i,t,e,n){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function Jy(i,t,e){om(t);try{const n=i.viewQuery;null!==n&&d0(1,n,e);const r=i.template;null!==r&&UD(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jD(i,t),i.staticViewQueries&&d0(2,i.viewQuery,e);const o=i.components;null!==o&&function aP(i,t){for(let e=0;e<t.length;e++)EP(i,t[e])}(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[2]&=-5,sm()}}function Gg(i,t,e,n){const r=t[2];if(128!=(128&r)){om(t);try{so(t),function Ec(i){return Pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&UD(i,t,e,2,n);const d=3==(3&r);if(d){const y=i.preOrderCheckHooks;null!==y&&Ac(t,y,null)}else{const y=i.preOrderHooks;null!==y&&Rc(t,y,0,null),lm(t,0)}if(function kP(i){for(let t=Rm(i);null!==t;t=Om(t)){if(!t[2])continue;const e=t[9];for(let n=0;n<e.length;n++){const r=e[n],o=r[3];0==(512&r[2])&&Ha(o,1),r[2]|=512}}}(t),function DP(i){for(let t=Rm(i);null!==t;t=Om(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];Pd(n)&&Gg(r,n,r.template,n[8])}}(t),null!==i.contentQueries&&jD(i,t),d){const y=i.contentCheckHooks;null!==y&&Ac(t,y)}else{const y=i.contentHooks;null!==y&&Rc(t,y,1),lm(t,1)}!function nP(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const r=e[n];if(r<0)No(~r);else{const o=r,d=e[++n],p=e[++n];Uf(d,o),p(2,t[o])}}}finally{No(-1)}}(i,t);const p=i.components;null!==p&&function rP(i,t){for(let e=0;e<t.length;e++)MP(i,t[e])}(t,p);const g=i.viewQuery;if(null!==g&&d0(2,g,n),d){const y=i.viewCheckHooks;null!==y&&Ac(t,y)}else{const y=i.viewHooks;null!==y&&Rc(t,y,2),lm(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Ha(t[3],-1))}finally{sm()}}}function UD(i,t,e,n,r){const o=wr(),d=2&n;try{No(-1),d&&t.length>22&&ID(i,t,22,!1),e(n,r)}finally{No(o)}}function e0(i,t,e){if(Qh(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const d=i.data[o];d.contentQueries&&d.contentQueries(1,e[o],o)}}}function t0(i,t,e){!Hf()||(function pP(i,t,e,n){const r=e.directiveStart,o=e.directiveEnd;xc(e)&&function wP(i,t,e){const n=$r(t,i),r=$D(e),o=i[10],d=Wg(i,$g(i,r,null,e.onPush?32:16,n,t,o,o.createRenderer(n,e),null,null,null));i[t.index]=d}(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||uo(e,t),hr(n,t);const d=e.initialInputs;for(let p=r;p<o;p++){const g=i.data[p],y=ys(t,i,p,e);hr(y,t),null!==d&&xP(0,p-r,y,g,0,d),Tr(g)&&(bi(e.index,t)[8]=ys(t,i,p,e))}}(i,t,e,$r(e,t)),64==(64&e.flags)&&XD(i,t,e))}function n0(i,t,e=$r){const n=t.localNames;if(null!==n){let r=t.index+1;for(let o=0;o<n.length;o+=2){const d=n[o+1],p=-1===d?e(t,i):i[d];i[r++]=p}}}function $D(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=r0(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):t}function r0(i,t,e,n,r,o,d,p,g,y){const C=22+n,E=C+r,P=function oP(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:ei);return e}(C,E),B="function"==typeof y?y():y;return P[1]={type:i,blueprint:P,template:e,queries:null,viewQuery:p,declTNode:t,data:P.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:g,consts:B,incompleteFirstPass:!1}}function GD(i,t,e,n){const r=ZD(t);null===e?r.push(n):(r.push(e),i.firstCreatePass&&JD(i).push(n,r.length-1))}function WD(i,t,e,n){for(let r in i)if(i.hasOwnProperty(r)){e=null===e?{}:e;const o=i[r];null===n?YD(e,t,r,o):n.hasOwnProperty(r)&&YD(e,t,n[r],o)}return e}function YD(i,t,e,n){i.hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}function Ea(i,t,e,n,r,o,d,p){const g=$r(t,e);let C,y=t.inputs;!p&&null!=y&&(C=y[n])?(u0(i,e,C,n,r),xc(t)&&qD(e,t.index)):3&t.type&&(n=function dP(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=d?d(r,t.value||"",n):r,o.setProperty(g,n,r))}function qD(i,t){const e=bi(t,i);16&e[2]||(e[2]|=32)}function a0(i,t,e,n){let r=!1;if(Hf()){const o=null===n?null:{"":-1},d=function gP(i,t){const e=i.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const d=e[o];if(SD(t,d.selectors,!1))if(n||(n=[]),Tr(d))if(null!==d.findHostDirectiveDefs){const p=[];r=r||new Map,d.findHostDirectiveDefs(d,p,r),n.unshift(...p,d),o0(i,t,p.length)}else n.unshift(d),o0(i,t,0);else r=r||new Map,d.findHostDirectiveDefs?.(d,n,r),n.push(d)}return null===n?null:[n,r]}(i,e);let p,g;null===d?p=g=null:[p,g]=d,null!==p&&(r=!0,KD(i,t,e,p,o,g)),o&&function _P(i,t,e){if(t){const n=i.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new Oe(-301,!1);n.push(t[r],o)}}}(e,n,o)}return e.mergedAttrs=Vo(e.mergedAttrs,e.attrs),r}function KD(i,t,e,n,r,o){for(let y=0;y<n.length;y++)Hd(uo(e,t),i,n[y].type);!function bP(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}(e,i.data.length,n.length);for(let y=0;y<n.length;y++){const C=n[y];C.providersResolver&&C.providersResolver(C)}let d=!1,p=!1,g=Wm(i,t,n.length,null);for(let y=0;y<n.length;y++){const C=n[y];e.mergedAttrs=Vo(e.mergedAttrs,C.hostAttrs),yP(i,e,t,g,C),vP(g,C,r),null!==C.contentQueries&&(e.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(e.flags|=64);const E=C.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),d=!0),!p&&(E.ngOnChanges||E.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),p=!0),g++}!function cP(i,t,e){const r=t.directiveEnd,o=i.data,d=t.attrs,p=[];let g=null,y=null;for(let C=t.directiveStart;C<r;C++){const E=o[C],P=e?e.get(E):null,Y=P?P.outputs:null;g=WD(E.inputs,C,g,P?P.inputs:null),y=WD(E.outputs,C,y,Y);const X=null===g||null===d||ED(t)?null:CP(g,C,d);p.push(X)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=8),g.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=g,t.outputs=y}(i,e,o)}function XD(i,t,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,d=function Sc(){return Pt.lFrame.currentDirectiveIndex}();try{No(o);for(let p=n;p<r;p++){const g=i.data[p],y=t[p];Fd(p),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&fP(g,y)}}finally{No(-1),Fd(d)}}function fP(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function o0(i,t,e){t.componentOffset=e,(i.components||(i.components=[])).push(t.index)}function vP(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Tr(t)&&(e[""]=i)}}function yP(i,t,e,n,r){i.data[n]=r;const o=r.factory||(r.factory=Ba(r.type)),d=new Cl(o,Tr(r),I);i.blueprint[n]=d,e[n]=d,function hP(i,t,e,n,r){const o=r.hostBindings;if(o){let d=i.hostBindingOpCodes;null===d&&(d=i.hostBindingOpCodes=[]);const p=~t.index;(function mP(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(d)!=p&&d.push(p),d.push(e,n,o)}}(i,t,n,Wm(i,e,r.hostVars,ei),r)}function Wo(i,t,e,n,r,o){const d=$r(i,t);!function s0(i,t,e,n,r,o,d){if(null==o)i.removeAttribute(t,r,e);else{const p=null==d?Gt(o):d(o,n||"",r);i.setAttribute(t,r,p,e)}}(t[11],d,o,i.value,e,n,r)}function xP(i,t,e,n,r,o){const d=o[t];if(null!==d){const p=n.setInput;for(let g=0;g<d.length;){const y=d[g++],C=d[g++],E=d[g++];null!==p?n.setInput(e,E,y,C):e[C]=E}}}function CP(i,t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(i.hasOwnProperty(o)){null===n&&(n=[]);const d=i[o];for(let p=0;p<d.length;p+=2)if(d[p]===t){n.push(o,d[p+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function QD(i,t,e,n){return[i,!0,!1,t,null,0,n,e,null,null]}function MP(i,t){const e=bi(t,i);if(Pd(e)){const n=e[1];48&e[2]?Gg(n,e,n.template,e[8]):e[5]>0&&l0(e)}}function l0(i){for(let n=Rm(i);null!==n;n=Om(n))for(let r=10;r<n.length;r++){const o=n[r];if(Pd(o))if(512&o[2]){const d=o[1];Gg(d,o,d.template,o[8])}else o[5]>0&&l0(o)}const e=i[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=bi(e[n],i);Pd(r)&&r[5]>0&&l0(r)}}function EP(i,t){const e=bi(t,i),n=e[1];(function SP(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])})(n,e),Jy(n,e,e[8])}function Wg(i,t){return i[13]?i[14][4]=t:i[13]=t,i[14]=t,t}function c0(i){for(;i;){i[2]|=32;const t=Gc(i);if($b(i)&&!t)return i;i=t}return null}function Yg(i,t,e,n=!0){const r=t[10];r.begin&&r.begin();try{Gg(i,t,i.template,e)}catch(d){throw n&&tk(t,d),d}finally{r.end&&r.end()}}function d0(i,t,e){_s(0),t(i,e)}function ZD(i){return i[7]||(i[7]=[])}function JD(i){return i.cleanup||(i.cleanup=[])}function ek(i,t,e){return(null===i||Tr(i))&&(e=function ey(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(e[t.index])),e[11]}function tk(i,t){const e=i[9],n=e?e.get(Ua,null):null;n&&n.handleError(t)}function u0(i,t,e,n,r){for(let o=0;o<e.length;){const d=e[o++],p=e[o++],g=t[d],y=i.data[d];null!==y.setInput?y.setInput(g,r,n,p):g[p]=r}}function qg(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?o=p:1==o?r=Fh(r,p):2==o&&(n=Fh(n,p+": "+t[++d]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}function Kg(i,t,e,n,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&n.push(Qn(o)),oa(o))for(let p=10;p<o.length;p++){const g=o[p],y=g[1].firstChild;null!==y&&Kg(g[1],g,y,n)}const d=e.type;if(8&d)Kg(i,t,e.child,n);else if(32&d){const p=Ts(e,t);let g;for(;g=p();)n.push(g)}else if(16&d){const p=Or(t,e);if(Array.isArray(p))n.push(...p);else{const g=Gc(t[16]);Kg(g[1],g,p,n,!0)}}e=r?e.projectionNext:e.next}return n}class Ym{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Kg(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(oa(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Jd(t,n),ks(e,n))}this._attachedToViewContainer=!1}Lm(this._lView[1],this._lView)}onDestroy(t){GD(this._lView[1],this._lView,null,t)}markForCheck(){c0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Yg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ny(i,t){Bl(i,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=t}}class TP extends Ym{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Yg(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class ik extends Rn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=vi(t);return new qm(e,this.ngModule)}}function nk(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class AP{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=hl(n);const r=this.injector.get(t,Ls,n);return r!==Ls||e===Ls?r:this.parentInjector.get(t,e,n)}}class qm extends Ps{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function NO(i){return i.map(LO).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return nk(this.componentDef.inputs)}get outputs(){return nk(this.componentDef.outputs)}create(t,e,n,r){let o=(r=r||this.ngModule)instanceof qt?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const d=o?new AP(t,o):t,p=d.get(Hl,null);if(null===p)throw new Oe(407,!1);const g=d.get($y,null),y=p.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",E=n?function sP(i,t,e){return i.selectRootElement(t,e===_a.ShadowDom)}(y,n,this.componentDef.encapsulation):Fm(y,C,function IP(i){const t=i.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(C)),P=this.componentDef.onPush?288:272,B=r0(0,null,null,1,0,null,null,null,null,null),Y=$g(null,B,null,P,null,null,p,y,g,d,null);let X,ie;om(Y);try{const ue=this.componentDef;let He,ge=null;ue.findHostDirectiveDefs?(He=[],ge=new Map,ue.findHostDirectiveDefs(ue,He,ge),He.push(ue)):He=[ue];const lt=function OP(i,t){const e=i[1];return i[22]=t,mu(e,22,2,"#host",null)}(Y,E),Ii=function PP(i,t,e,n,r,o,d,p){const g=r[1];!function FP(i,t,e,n){for(const r of i)t.mergedAttrs=Vo(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(qg(t,t.mergedAttrs,!0),null!==e&&jm(n,e,t))}(n,i,t,d);const y=o.createRenderer(t,e),C=$g(r,$D(e),null,e.onPush?32:16,r[i.index],i,o,y,p||null,null,null);return g.firstCreatePass&&o0(g,i,n.length-1),Wg(r,C),r[i.index]=C}(lt,E,ue,He,Y,p,y);ie=Od(B,22),E&&function NP(i,t,e,n){if(n)kl(i,e,["ng-version",Gy.full]);else{const{attrs:r,classes:o}=function BO(i){const t=[],e=[];let n=1,r=2;for(;n<i.length;){let o=i[n];if("string"==typeof o)2===r?""!==o&&t.push(o,i[++n]):8===r&&e.push(o);else{if(!_o(r))break;r=o}n++}return{attrs:t,classes:e}}(t.selectors[0]);r&&kl(i,e,r),o&&o.length>0&&Ng(i,e,o.join(" "))}}(y,ue,E,n),void 0!==e&&function BP(i,t,e){const n=i.projection=[];for(let r=0;r<t.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(ie,this.ngContentSelectors,e),X=function LP(i,t,e,n,r,o){const d=Gi(),p=r[1],g=$r(d,r);KD(p,r,d,e,null,n);for(let C=0;C<e.length;C++)hr(ys(r,p,d.directiveStart+C,d),r);XD(p,r,d),g&&hr(g,r);const y=ys(r,p,d.directiveStart+d.componentOffset,d);if(i[8]=r[8]=y,null!==o)for(const C of o)C(y,t);return e0(p,d,i),y}(Ii,ue,He,ge,Y,[VP]),Jy(B,Y,null)}finally{sm()}return new RP(this.componentType,X,Mr(ie,Y),Y,ie)}}class RP extends Os{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new TP(r),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){const o=this._rootLView;u0(o[1],o,r,t,e),qD(o,this._tNode.index)}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function VP(){const i=Gi();Bd(Ae()[1],i)}function Te(i){let t=function rk(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let r;if(Tr(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Oe(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);const d=i;d.inputs=h0(i.inputs),d.declaredInputs=h0(i.declaredInputs),d.outputs=h0(i.outputs);const p=r.hostBindings;p&&UP(i,p);const g=r.viewQuery,y=r.contentQueries;if(g&&zP(i,g),y&&jP(i,y),ms(i.inputs,r.inputs),ms(i.declaredInputs,r.declaredInputs),ms(i.outputs,r.outputs),Tr(r)&&r.data.animation){const C=i.data;C.animation=(C.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let d=0;d<o.length;d++){const p=o[d];p&&p.ngInherit&&p(i),p===Te&&(e=!1)}}t=Object.getPrototypeOf(t)}!function HP(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Vo(r.hostAttrs,e=Vo(e,r.hostAttrs))}}(n)}function h0(i){return i===ao?{}:i===Ri?[]:i}function zP(i,t){const e=i.viewQuery;i.viewQuery=e?(n,r)=>{t(n,r),e(n,r)}:t}function jP(i,t){const e=i.contentQueries;i.contentQueries=e?(n,r,o)=>{t(n,r,o),e(n,r,o)}:t}function UP(i,t){const e=i.hostBindings;i.hostBindings=e?(n,r)=>{t(n,r),e(n,r)}:t}let Xg=null;function Zc(){if(!Xg){const i=$i.Symbol;if(i&&i.iterator)Xg=i.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Xg=n)}}}return Xg}function Km(i){return!!m0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Zc()in i)}function m0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Pr(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Et(i,t,e,n){const r=Ae();return Pr(r,Lo(),t)&&(hi(),Wo(an(),r,i,t,e,n)),Et}function bt(i,t,e,n,r,o,d,p){const g=Ae(),y=hi(),C=i+22,E=y.firstCreatePass?function JP(i,t,e,n,r,o,d,p,g){const y=t.consts,C=mu(t,i,4,d||null,Oo(y,p));a0(t,e,C,Oo(y,g)),Bd(t,C);const E=C.tViews=r0(2,C,n,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,y);return null!==t.queries&&(t.queries.template(t,C),E.queries=t.queries.embeddedTView(C)),C}(C,y,g,t,e,n,r,o,d):y.data[C];wa(E,!1);const P=g[11].createComment("");fo(y,g,P,E),hr(P,g),Wg(g,g[C]=QD(P,g,P,E)),Rd(E)&&t0(y,g,E),null!=d&&n0(g,E,p)}function Kr(i){return bl(function Fo(){return Pt.lFrame.contextLView}(),22+i)}function je(i,t,e){const n=Ae();return Pr(n,Lo(),t)&&Ea(hi(),an(),n,i,t,n[11],e,!1),je}function p0(i,t,e,n,r){const d=r?"class":"style";u0(i,e,t.inputs[d],d,n)}function De(i,t,e,n){const r=Ae(),o=hi(),d=22+i,p=r[11],g=r[d]=Fm(p,t,function Nd(){return Pt.lFrame.currentNamespace}()),y=o.firstCreatePass?function tF(i,t,e,n,r,o,d){const p=t.consts,y=mu(t,i,2,r,Oo(p,o));return a0(t,e,y,Oo(p,d)),null!==y.attrs&&qg(y,y.attrs,!1),null!==y.mergedAttrs&&qg(y,y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,y),y}(d,o,r,0,t,e,n):o.data[d];return wa(y,!0),jm(p,g,y),32!=(32&y.flags)&&fo(o,r,g,y),0===function tm(){return Pt.lFrame.elementDepthCount}()&&hr(g,r),function Bf(){Pt.lFrame.elementDepthCount++}(),Rd(y)&&(t0(o,r,y),e0(o,y,r)),null!==n&&n0(r,y),De}function Fe(){let i=Gi();nm()?Po():(i=i.parent,wa(i,!1));const t=i;!function Vf(){Pt.lFrame.elementDepthCount--}();const e=hi();return e.firstCreatePass&&(Bd(e,i),Qh(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function Xf(i){return 0!=(8&i.flags)}(t)&&p0(e,t,Ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Mi(i){return 0!=(16&i.flags)}(t)&&p0(e,t,Ae(),t.stylesWithoutHost,!1),Fe}function It(i,t,e,n){return De(i,t,e,n),Fe(),It}function Vs(i,t,e){const n=Ae(),r=hi(),o=i+22,d=r.firstCreatePass?function iF(i,t,e,n,r){const o=t.consts,d=Oo(o,n),p=mu(t,i,8,"ng-container",d);return null!==d&&qg(p,d,!0),a0(t,e,p,Oo(o,r)),null!==t.queries&&t.queries.elementStart(t,p),p}(o,r,n,t,e):r.data[o];wa(d,!0);const p=n[o]=n[11].createComment("");return fo(r,n,p,d),hr(p,n),Rd(d)&&(t0(r,n,d),e0(r,d,n)),null!=e&&n0(n,d),Vs}function Hs(){let i=Gi();const t=hi();return nm()?Po():(i=i.parent,wa(i,!1)),t.firstCreatePass&&(Bd(t,i),Qh(i)&&t.queries.elementEnd(i)),Hs}function Cu(){return Ae()}function Zg(i){return!!i&&"function"==typeof i.then}const vk=function _k(i){return!!i&&"function"==typeof i.subscribe};function Ct(i,t,e,n){const r=Ae(),o=hi(),d=Gi();return bk(o,r,r[11],d,i,t,n),Ct}function f0(i,t){const e=Gi(),n=Ae(),r=hi();return bk(r,n,ek(Ld(r.data),e,n),e,i,t),f0}function bk(i,t,e,n,r,o,d){const p=Rd(n),y=i.firstCreatePass&&JD(i),C=t[8],E=ZD(t);let P=!0;if(3&n.type||d){const X=$r(n,t),ie=d?d(X):X,ue=E.length,He=d?lt=>d(Qn(lt[n.index])):n.index;let ge=null;if(!d&&p&&(ge=function nF(i,t,e,n){const r=i.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const d=r[o];if(d===e&&r[o+1]===n){const p=t[7],g=r[o+2];return p.length>g?p[g]:null}"string"==typeof d&&(o+=2)}return null}(i,t,r,n.index)),null!==ge)(ge.__ngLastListenerFn__||ge).__ngNextListenerFn__=o,ge.__ngLastListenerFn__=o,P=!1;else{o=wk(n,t,C,o,!1);const lt=e.listen(ie,r,o);E.push(o,lt),y&&y.push(r,He,ue,ue+1)}}else o=wk(n,t,C,o,!1);const B=n.outputs;let Y;if(P&&null!==B&&(Y=B[r])){const X=Y.length;if(X)for(let ie=0;ie<X;ie+=2){const Ii=t[Y[ie]][Y[ie+1]].subscribe(o),Li=E.length;E.push(o,Ii),y&&y.push(r,n.index,Li,-(Li+1))}}}function yk(i,t,e,n){try{return!1!==e(n)}catch(r){return tk(i,r),!1}}function wk(i,t,e,n,r){return function o(d){if(d===Function)return n;c0(i.componentOffset>-1?bi(i.index,t):t);let g=yk(t,0,n,d),y=o.__ngNextListenerFn__;for(;y;)g=yk(t,0,y,d)&&g,y=y.__ngNextListenerFn__;return r&&!1===g&&(d.preventDefault(),d.returnValue=!1),g}}function di(i=1){return function ny(i){return(Pt.lFrame.contextLView=function ry(i,t){for(;i>0;)t=t[15],i--;return t}(i,Pt.lFrame.contextLView))[8]}(i)}function rF(i,t){let e=null;const n=function RO(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(i);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===n?SD(i,o,!0):FO(n,o))return r}else e=r}return e}function Di(i){const t=Ae()[16][6];if(!t.projection){const n=t.projection=Bc(i?i.length:1,null),r=n.slice();let o=t.child;for(;null!==o;){const d=i?rF(o,i):0;null!==d&&(r[d]?r[d].projectionNext=o:n[d]=o,r[d]=o),o=o.next}}}function ct(i,t=0,e){const n=Ae(),r=hi(),o=mu(r,22+i,16,null,e||null);null===o.projection&&(o.projection=t),Po(),32!=(32&o.flags)&&function zm(i,t,e){nu(t[11],0,t,e,Ag(i,e,t),za(e.parent||t[6],e,t))}(r,n,o)}function Jg(i,t){return i<<17|t<<2}function $l(i){return i>>17&32767}function _0(i){return 2|i}function ed(i){return(131068&i)>>2}function v0(i,t){return-131069&i|t<<2}function b0(i){return 1|i}function Ak(i,t,e,n,r){const o=i[e+1],d=null===t;let p=n?$l(o):ed(o),g=!1;for(;0!==p&&(!1===g||d);){const C=i[p+1];dF(i[p],t)&&(g=!0,i[p+1]=n?b0(C):_0(C)),p=n?$l(C):ed(C)}g&&(i[e+1]=n?_0(o):b0(o))}function dF(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&Ms(i,t)>=0}const ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rk(i){return i.substring(ir.key,ir.keyEnd)}function uF(i){return i.substring(ir.value,ir.valueEnd)}function Ok(i,t){const e=ir.textEnd;return e===t?-1:(t=ir.keyEnd=function pF(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}(i,ir.key=t,e),Du(i,t,e))}function Pk(i,t){const e=ir.textEnd;let n=ir.key=Du(i,t,e);return e===n?-1:(n=ir.keyEnd=function fF(i,t,e){let n;for(;t<e&&(45===(n=i.charCodeAt(t))||95===n||(-33&n)>=65&&(-33&n)<=90||n>=48&&n<=57);)t++;return t}(i,n,e),n=Lk(i,n,e),n=ir.value=Du(i,n,e),n=ir.valueEnd=function gF(i,t,e){let n=-1,r=-1,o=-1,d=t,p=d;for(;d<e;){const g=i.charCodeAt(d++);if(59===g)return p;34===g||39===g?p=d=Nk(i,g,d,e):t===d-4&&85===o&&82===r&&76===n&&40===g?p=d=Nk(i,41,d,e):g>32&&(p=d),o=r,r=n,n=-33&g}return p}(i,n,e),Lk(i,n,e))}function Fk(i){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=i.length}function Du(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function Lk(i,t,e,n){return(t=Du(i,t,e))<e&&t++,t}function Nk(i,t,e,n){let r=-1,o=e;for(;o<n;){const d=i.charCodeAt(o++);if(d==t&&92!==r)return o;r=92==d&&92===r?0:d}throw new Error}function Sa(i,t,e){return bo(i,t,e,!1),Sa}function St(i,t){return bo(i,t,null,!0),St}function _F(i,t){for(let e=function mF(i){return Fk(i),Pk(i,Du(i,0,ir.textEnd))}(t);e>=0;e=Pk(t,e))zk(i,Rk(t),uF(t))}function qo(i,t){for(let e=function hF(i){return Fk(i),Ok(i,Du(i,0,ir.textEnd))}(t);e>=0;e=Ok(t,e))Rr(i,Rk(t),!0)}function bo(i,t,e,n){const r=Ae(),o=hi(),d=lo(2);o.firstUpdatePass&&Hk(o,i,d,n),t!==ei&&Pr(r,d,t)&&jk(o,o.data[wr()],r,r[11],i,r[d+1]=function DF(i,t){return null==i||("string"==typeof t?i+=t:"object"==typeof i&&(i=Ui(s(i)))),i}(t,e),n,d)}function yo(i,t,e,n){const r=hi(),o=lo(2);r.firstUpdatePass&&Hk(r,null,o,n);const d=Ae();if(e!==ei&&Pr(d,o,e)){const p=r.data[wr()];if($k(p,n)&&!Vk(r,o)){let g=n?p.classesWithoutHost:p.stylesWithoutHost;null!==g&&(e=Fh(g,e||"")),p0(r,p,d,e,n)}else!function CF(i,t,e,n,r,o,d,p){r===ei&&(r=Ri);let g=0,y=0,C=0<r.length?r[0]:null,E=0<o.length?o[0]:null;for(;null!==C||null!==E;){const P=g<r.length?r[g+1]:void 0,B=y<o.length?o[y+1]:void 0;let X,Y=null;C===E?(g+=2,y+=2,P!==B&&(Y=E,X=B)):null===E||null!==C&&C<E?(g+=2,Y=C):(y+=2,Y=E,X=B),null!==Y&&jk(i,t,e,n,Y,X,d,p),C=g<r.length?r[g]:null,E=y<o.length?o[y]:null}}(r,p,d,d[11],d[o+1],d[o+1]=function xF(i,t,e){if(null==e||""===e)return Ri;const n=[],r=s(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(n,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&i(n,o,r[o]);else"string"==typeof r&&t(n,r);return n}(i,t,e),n,o)}}function Vk(i,t){return t>=i.expandoStartIndex}function Hk(i,t,e,n){const r=i.data;if(null===r[e+1]){const o=r[wr()],d=Vk(i,e);$k(o,n)&&null===t&&!d&&(t=!1),t=function vF(i,t,e,n){const r=Ld(i);let o=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(e=Qm(e=y0(null,i,t,e,n),t.attrs,n),o=null);else{const d=t.directiveStylingLast;if(-1===d||i[d]!==r)if(e=y0(r,i,t,e,n),null===o){let g=function bF(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==ed(n))return i[$l(n)]}(i,t,n);void 0!==g&&Array.isArray(g)&&(g=y0(null,i,t,g[1],n),g=Qm(g,t.attrs,n),function yF(i,t,e,n){i[$l(e?t.classBindings:t.styleBindings)]=n}(i,t,n,g))}else o=function wF(i,t,e){let n;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)n=Qm(n,i[o].hostAttrs,e);return Qm(n,t.attrs,e)}(i,t,n)}return void 0!==o&&(n?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,n),function lF(i,t,e,n,r,o){let d=o?t.classBindings:t.styleBindings,p=$l(d),g=ed(d);i[n]=e;let C,y=!1;if(Array.isArray(e)){const E=e;C=E[1],(null===C||Ms(E,C)>0)&&(y=!0)}else C=e;if(r)if(0!==g){const P=$l(i[p+1]);i[n+1]=Jg(P,p),0!==P&&(i[P+1]=v0(i[P+1],n)),i[p+1]=function oF(i,t){return 131071&i|t<<17}(i[p+1],n)}else i[n+1]=Jg(p,0),0!==p&&(i[p+1]=v0(i[p+1],n)),p=n;else i[n+1]=Jg(g,0),0===p?p=n:i[g+1]=v0(i[g+1],n),g=n;y&&(i[n+1]=_0(i[n+1])),Ak(i,C,n,!0),Ak(i,C,n,!1),function cF(i,t,e,n,r){const o=r?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof t&&Ms(o,t)>=0&&(e[n+1]=b0(e[n+1]))}(t,C,i,n,o),d=Jg(p,g),o?t.classBindings=d:t.styleBindings=d}(r,o,t,e,d,n)}}function y0(i,t,e,n,r){let o=null;const d=e.directiveEnd;let p=e.directiveStylingLast;for(-1===p?p=e.directiveStart:p++;p<d&&(o=t[p],n=Qm(n,o.hostAttrs,r),o!==i);)p++;return null!==i&&(e.directiveStylingLast=p),n}function Qm(i,t,e){const n=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const d=t[o];"number"==typeof d?r=d:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Rr(i,d,!!e||t[++o]))}return void 0===i?null:i}function zk(i,t,e){Rr(i,t,s(e))}function jk(i,t,e,n,r,o,d,p){if(!(3&t.type))return;const g=i.data,y=g[p+1],C=function sF(i){return 1==(1&i)}(y)?Uk(g,t,e,r,ed(y),d):void 0;e_(C)||(e_(o)||function aF(i){return 2==(2&i)}(y)&&(o=Uk(g,null,e,r,p,d)),function Vl(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:un.DashCase;null==r?i.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=un.Important),i.setStyle(e,n,r,o))}}(n,d,Dc(wr(),e),r,o))}function Uk(i,t,e,n,r,o){const d=null===t;let p;for(;r>0;){const g=i[r],y=Array.isArray(g),C=y?g[1]:g,E=null===C;let P=e[r+1];P===ei&&(P=E?Ri:void 0);let B=E?vm(P,n):C===n?P:void 0;if(y&&!e_(B)&&(B=vm(g,n)),e_(B)&&(p=B,d))return p;const Y=i[r+1];r=d?$l(Y):ed(Y)}if(null!==t){let g=o?t.residualClasses:t.residualStyles;null!=g&&(p=vm(g,n))}return p}function e_(i){return void 0!==i}function $k(i,t){return 0!=(i.flags&(t?8:16))}function hn(i,t=""){const e=Ae(),n=hi(),r=i+22,o=n.firstCreatePass?mu(n,r,1,t,null):n.data[r],d=e[r]=function Pm(i,t){return i.createText(t)}(e[11],t);fo(n,e,d,o),wa(o,!1)}function Gl(i){return td("",i,""),Gl}function td(i,t,e){const n=Ae(),r=function fu(i,t,e,n){return Pr(i,Lo(),e)?t+Gt(e)+n:ei}(n,i,t,e);return r!==ei&&function Bs(i,t,e){const n=Dc(t,i);!function kg(i,t,e){i.setValue(t,e)}(i[11],n,e)}(n,wr(),r),td}function Fr(i,t,e){const n=Ae();return Pr(n,Lo(),t)&&Ea(hi(),an(),n,i,t,n[11],e,!0),Fr}function w0(i,t,e){const n=Ae();if(Pr(n,Lo(),t)){const o=hi(),d=an();Ea(o,d,n,i,t,ek(Ld(o.data),d,n),e,!0)}return w0}const Mu="en-US";let dM=Mu;function D0(i,t,e,n,r){if(i=Vt(i),Array.isArray(i))for(let o=0;o<i.length;o++)D0(i[o],t,e,n,r);else{const o=hi(),d=Ae();let p=Re(i)?i:Vt(i.provide),g=$n(i);const y=Gi(),C=1048575&y.providerIndexes,E=y.directiveStart,P=y.providerIndexes>>20;if(Re(i)||!i.multi){const B=new Cl(g,r,I),Y=M0(p,t,r?C:C+P,E);-1===Y?(Hd(uo(y,d),o,p),k0(o,i,t.length),t.push(p),y.directiveStart++,y.directiveEnd++,r&&(y.providerIndexes+=1048576),e.push(B),d.push(B)):(e[Y]=B,d[Y]=B)}else{const B=M0(p,t,C+P,E),Y=M0(p,t,C,C+P),X=B>=0&&e[B],ie=Y>=0&&e[Y];if(r&&!ie||!r&&!X){Hd(uo(y,d),o,p);const ue=function U2(i,t,e,n,r){const o=new Cl(i,e,I);return o.multi=[],o.index=t,o.componentProviders=0,FM(o,r,n&&!e),o}(r?j2:z2,e.length,r,n,g);!r&&ie&&(e[Y].providerFactory=ue),k0(o,i,t.length,0),t.push(p),y.directiveStart++,y.directiveEnd++,r&&(y.providerIndexes+=1048576),e.push(ue),d.push(ue)}else k0(o,i,B>-1?B:Y,FM(e[r?Y:B],g,!r&&n));!r&&n&&ie&&e[Y].componentProviders++}}}function k0(i,t,e,n){const r=Re(t),o=function yt(i){return!!i.useClass}(t);if(r||o){const g=(o?Vt(t.useClass):t).prototype.ngOnDestroy;if(g){const y=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){const C=y.indexOf(e);-1===C?y.push(e,[n,g]):y[C+1].push(n,g)}else y.push(e,g)}}}function FM(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function M0(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function z2(i,t,e,n){return E0(this.multi,[])}function j2(i,t,e,n){const r=this.multi;let o;if(this.providerFactory){const d=this.providerFactory.componentProviders,p=ys(e,e[1],this.providerFactory.index,n);o=p.slice(0,d),E0(r,o);for(let g=d;g<p.length;g++)o.push(p[g])}else o=[],E0(r,o);return o}function E0(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function Ve(i,t=[]){return e=>{e.providersResolver=(n,r)=>function H2(i,t,e){const n=hi();if(n.firstCreatePass){const r=Tr(i);D0(e,n.data,n.blueprint,r,!0),D0(t,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,t)}}class Eu{}class $2{}class LM extends Eu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ik(this);const n=function br(i,t){const e=i[Cf]||null;if(!e&&!0===t)throw new Error(`Type ${Ui(i)} does not have '\u0275mod' property.`);return e}(t);this._bootstrapComponents=function Ns(i){return i instanceof Function?i():i}(n.bootstrap),this._r3Injector=FD(t,e,[{provide:Eu,useValue:this},{provide:Rn,useValue:this.componentFactoryResolver}],Ui(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class S0 extends $2{constructor(t){super(),this.moduleType=t}create(t){return new LM(this.moduleType,t)}}function $M(i,t,e,n,r,o){const d=t+e;return Pr(i,d,r)?function Yo(i,t,e){return i[t]=e}(i,d+1,o?n.call(o,r):n(r)):function np(i,t){const e=i[t];return e===ei?void 0:e}(i,d+1)}function XM(i,t,e){const n=i+22,r=Ae(),o=bl(r,n);return function rp(i,t){return i[1].data[t].pure}(r,n)?$M(r,function wn(){const i=Pt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}(),t,o.transform,e,o):o.transform(e)}function I0(i){return t=>{setTimeout(i,void 0,t)}}const rt=class vL extends Ce{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,o=e||(()=>null),d=n;if(t&&"object"==typeof t){const g=t;r=g.next?.bind(g),o=g.error?.bind(g),d=g.complete?.bind(g)}this.__isAsync&&(o=I0(o),r&&(r=I0(r)),d&&(d=I0(d)));const p=super.subscribe({next:r,error:o,complete:d});return t instanceof fe&&t.add(p),p}};function bL(){return this._results[Zc()]()}class zs{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Zc(),n=zs.prototype;n[e]||(n[e]=bL)}get changes(){return this._changes||(this._changes=new rt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=function Un(i){return i.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function hy(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=t[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xn=(()=>{class i{}return i.__NG_ELEMENT_ID__=xL,i})();const yL=xn,wL=class extends yL{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t,e){const n=this._declarationTContainer.tViews,r=$g(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(n)),Jy(n,r,t),new Ym(r)}};function xL(){return a_(Gi(),Ae())}function a_(i,t){return 4&i.type?new wL(t,i,Mr(i,t)):null}let mn=(()=>{class i{}return i.__NG_ELEMENT_ID__=CL,i})();function CL(){return JM(Gi(),Ae())}const DL=mn,QM=class extends DL{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Mr(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vd(this._hostTNode,this._hostLView);if(Pc(t)){const e=Ml(t,this._hostLView),n=bs(t);return new ws(e[1].data[n+8],e)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ZM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const d=t.createEmbeddedView(e||{},o);return this.insert(d,r),d}createComponent(t,e,n,r,o){const d=t&&!function Nc(i){return"function"==typeof i}(t);let p;if(d)p=e;else{const E=e||{};p=E.index,n=E.injector,r=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const g=d?t:new qm(vi(t)),y=n||this.parentInjector;if(!o&&null==g.ngModule){const P=(d?y:this.parentInjector).get(qt,null);P&&(o=P)}const C=g.create(y,r,void 0,o);return this.insert(C.hostView,p),C}insert(t,e){const n=t._lView,r=n[1];if(function iy(i){return oa(i[3])}(n)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const E=n[3],P=new QM(E,E[6],E[3]);P.detach(P.indexOf(t))}}const o=this._adjustIndex(e),d=this._lContainer;!function er(i,t,e,n){const r=10+n,o=e.length;n>0&&(e[r-1][4]=t),n<o-10?(t[4]=e[r],Al(e,10+n,t)):(e.push(t),t[4]=null),t[3]=e;const d=t[17];null!==d&&e!==d&&function Sg(i,t){const e=i[9];t[16]!==t[3][3][16]&&(i[2]=!0),null===e?i[9]=[t]:e.push(t)}(d,t);const p=t[19];null!==p&&p.insertView(i),t[2]|=64}(r,n,d,o);const p=Hm(o,d),g=n[11],y=eu(g,d[7]);return null!==y&&function Ly(i,t,e,n,r,o){n[0]=r,n[6]=t,Bl(i,n,e,1,r,o)}(r,d[6],g,n,y,p),t.attachToViewContainerRef(),Al(A0(d),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ZM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Jd(this._lContainer,e);n&&(ks(A0(this._lContainer),e),Lm(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Jd(this._lContainer,e);return n&&null!=ks(A0(this._lContainer),e)?new Ym(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function ZM(i){return i[8]}function A0(i){return i[8]||(i[8]=[])}function JM(i,t){let e;const n=t[i.index];if(oa(n))e=n;else{let r;if(8&i.type)r=Qn(n);else{const o=t[11];r=o.createComment("");const d=$r(i,t);mr(o,eu(o,d),r,function Bm(i,t){return i.nextSibling(t)}(o,d),!1)}t[i.index]=e=QD(n,t,r,i),Wg(t,e)}return new QM(e,i,t)}class R0{constructor(t){this.queryList=t,this.matches=null}clone(){return new R0(this.queryList)}setDirty(){this.queryList.setDirty()}}class O0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const d=e.getByIndex(o);r.push(this.queries[d.indexInDeclarationView].clone())}return new O0(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==rE(t,e).matches&&this.queries[e].setDirty()}}class eE{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class P0{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new P0(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class F0{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new F0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(t,e,kL(e,o)),this.matchTNodeWithReadOption(t,e,zd(e,t,o,!1,!1))}else n===xn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,zd(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===qe||r===mn||r===xn&&4&e.type)this.addMatch(e.index,-2);else{const o=zd(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function kL(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function EL(i,t,e,n){return-1===e?function ML(i,t){return 11&i.type?Mr(i,t):4&i.type?a_(i,t):null}(t,i):-2===e?function SL(i,t,e){return e===qe?Mr(t,i):e===xn?a_(t,i):e===mn?JM(t,i):void 0}(i,t,n):ys(i,i[1],e,t)}function tE(i,t,e,n){const r=t[19].queries[n];if(null===r.matches){const o=i.data,d=e.matches,p=[];for(let g=0;g<d.length;g+=2){const y=d[g];p.push(y<0?null:EL(t,o[y],d[g+1],e.metadata.read))}r.matches=p}return r.matches}function L0(i,t,e,n){const r=i.queries.getByIndex(e),o=r.matches;if(null!==o){const d=tE(i,t,r,e);for(let p=0;p<o.length;p+=2){const g=o[p];if(g>0)n.push(d[p/2]);else{const y=o[p+1],C=t[-g];for(let E=10;E<C.length;E++){const P=C[E];P[17]===P[3]&&L0(P[1],P,y,n)}if(null!==C[9]){const E=C[9];for(let P=0;P<E.length;P++){const B=E[P];L0(B[1],B,y,n)}}}}}return n}function $e(i){const t=Ae(),e=hi(),n=$f();_s(n+1);const r=rE(e,n);if(i.dirty&&function Ji(i){return 4==(4&i[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const o=r.crossesNgTemplate?L0(e,t,n,[]):tE(e,t,r,n);i.reset(o,jy),i.notifyOnChanges()}return!0}return!1}function oi(i,t,e){const n=hi();n.firstCreatePass&&(nE(n,new eE(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),iE(n,Ae(),t)}function Kt(i,t,e,n){const r=hi();if(r.firstCreatePass){const o=Gi();nE(r,new eE(t,e,n),o.index),function IL(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(r,i),2==(2&e)&&(r.staticContentQueries=!0)}iE(r,Ae(),e)}function Ge(){return function TL(i,t){return i[19].queries[t].queryList}(Ae(),$f())}function iE(i,t,e){const n=new zs(4==(4&e));GD(i,t,n,n.destroy),null===t[19]&&(t[19]=new O0),t[19].queries.push(new R0(n))}function nE(i,t,e){null===i.queries&&(i.queries=new P0),i.queries.track(new F0(t,e))}function rE(i,t){return i.queries.getByIndex(t)}function nd(i,t){return a_(i,t)}function s_(...i){}const z0=new oe("Application Initializer");let l_=(()=>{class i{constructor(e){this.appInits=e,this.resolve=s_,this.reject=s_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Zg(o))e.push(o);else if(vk(o)){const d=new Promise((p,g)=>{o.subscribe({complete:p,error:g})});e.push(d)}}Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(ae(z0,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Iu=new oe("AppId",{providedIn:"root",factory:function CE(){return`${j0()}${j0()}${j0()}`}});function j0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DE=new oe("Platform Initializer"),c_=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XL=new oe("appBootstrapListener"),En=new oe("AnimationModuleType"),Ko=new oe("LocaleId",{providedIn:"root",factory:()=>ii(Ko,Wt.Optional|Wt.SkipSelf)||function QL(){return typeof $localize<"u"&&$localize.locale||Mu}()}),iN=(()=>Promise.resolve(0))();function U0(i){typeof Zone>"u"?iN.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ht{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function nN(){let i=$i.requestAnimationFrame,t=$i.cancelAnimationFrame;if(typeof Zone<"u"&&i&&t){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function oN(i){const t=()=>{!function aN(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call($i,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,G0(i),i.isCheckStableRunning=!0,$0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),G0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,d,p)=>{try{return EE(i),e.invokeTask(r,o,d,p)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&t(),SE(i)}},onInvoke:(e,n,r,o,d,p,g)=>{try{return EE(i),e.invoke(r,o,d,p,g)}finally{i.shouldCoalesceRunChangeDetection&&t(),SE(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,G0(i),$0(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ht.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(ht.isInAngularZone())throw new Oe(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,d=o.scheduleEventTask("NgZoneEvent: "+r,t,rN,s_,s_);try{return o.runTask(d,e,n)}finally{o.cancelTask(d)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const rN={};function $0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function G0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function EE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function SE(i){i._nesting--,$0(i)}class sN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}const TE=new oe(""),d_=new oe("");let q0,W0=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,q0||(function lN(i){q0=i}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ht.assertNotInAngularZone(),U0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())U0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==o),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}}return i.\u0275fac=function(e){return new(e||i)(ae(ht),ae(Y0),ae(d_))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})(),Y0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return q0?.findTestabilityInTree(this,e,n)??null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Wl=null;const IE=new oe("AllowMultipleToken"),K0=new oe("PlatformDestroyListeners");function RE(i,t,e=[]){const n=`Platform: ${t}`,r=new oe(n);return(o=[])=>{let d=X0();if(!d||d.injector.get(IE,!1)){const p=[...e,...o,{provide:r,useValue:!0}];i?i(p):function uN(i){if(Wl&&!Wl.get(IE,!1))throw new Oe(400,!1);Wl=i;const t=i.get(PE);(function AE(i){const t=i.get(DE,null);t&&t.forEach(e=>e())})(i)}(function OE(i=[],t){return Er.create({name:t,providers:[{provide:mi,useValue:"platform"},{provide:K0,useValue:new Set([()=>Wl=null])},...i]})}(p,n))}return function mN(i){const t=X0();if(!t)throw new Oe(401,!1);return t}()}}function X0(){return Wl?.get(PE)??null}let PE=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function LE(i,t){let e;return e="noop"===i?new sN:("zone.js"===i?void 0:i)||new ht(t),e}(n?.ngZone,function FE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(n)),o=[{provide:ht,useValue:r}];return r.run(()=>{const d=Er.create({providers:o,parent:this.injector,name:e.moduleType.name}),p=e.create(d),g=p.injector.get(Ua,null);if(!g)throw new Oe(402,!1);return r.runOutsideAngular(()=>{const y=r.onError.subscribe({next:C=>{g.handleError(C)}});p.onDestroy(()=>{u_(this._modules,p),y.unsubscribe()})}),function NE(i,t,e){try{const n=e();return Zg(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(g,r,()=>{const y=p.injector.get(l_);return y.runInitializers(),y.donePromise.then(()=>(function uM(i){ra(i,"Expected localeId to be defined"),"string"==typeof i&&(dM=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ko,Mu)||Mu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(e,n=[]){const r=BE({},n);return function cN(i,t,e){const n=new S0(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(op);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Oe(403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(K0,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(ae(Er))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function BE(i,t){return Array.isArray(t)?t.reduce(BE,i):{...i,...t}}let op=(()=>{class i{constructor(e,n,r){this._zone=e,this._injector=n,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new vt(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),d=new vt(p=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{ht.assertNotInAngularZone(),U0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{ht.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});this.isStable=bn(o,d.pipe(hs()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof Ps;if(!this._injector.get(l_).done)throw!r&&function bc(i){const t=vi(i)||yn(i)||Vn(i);return null!==t&&t.standalone}(e),new Oe(405,false);let d;d=r?e:this._injector.get(Rn).resolveComponentFactory(e),this.componentTypes.push(d.componentType);const p=function dN(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Eu),y=d.create(Er.NULL,[],n||d.selector,p),C=y.location.nativeElement,E=y.injector.get(TE,null);return E?.registerApplication(C),y.onDestroy(()=>{this.detachView(y.hostView),u_(this.components,y),E?.unregisterApplication(C)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;u_(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(XL,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>u_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Oe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(e){return new(e||i)(ae(ht),ae(qt),ae(Ua))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function u_(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}let Ti=(()=>{class i{}return i.__NG_ELEMENT_ID__=fN,i})();function fN(i){return function gN(i,t,e){if(xc(i)&&!e){const n=bi(i.index,t);return new Ym(n,n)}return 47&i.type?new Ym(t[16],t):null}(Gi(),Ae(),16==(16&i))}class $E{constructor(){}supports(t){return Km(t)}create(t){return new xN(t)}}const wN=(i,t)=>t;class xN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wN}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const d=!n||e&&e.currentIndex<WE(n,r,o)?e:n,p=WE(d,r,o),g=d.currentIndex;if(d===n)r--,n=n._nextRemoved;else if(e=e._next,null==d.previousIndex)r++;else{o||(o=[]);const y=p-r,C=g-r;if(y!=C){for(let P=0;P<y;P++){const B=P<o.length?o[P]:o[P]=0,Y=B+P;C<=Y&&Y<y&&(o[P]=B+1)}o[d.previousIndex]=C-y}}p!==g&&t(d,p,g)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Km(t))throw new Oe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,d,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)o=t[p],d=this._trackByFn(p,o),null!==e&&Object.is(e.trackById,d)?(n&&(e=this._verifyReinsertion(e,o,d,p)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,d,p),n=!0),e=e._next}else r=0,function XP(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Zc()]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,p=>{d=this._trackByFn(r,p),null!==e&&Object.is(e.trackById,d)?(n&&(e=this._verifyReinsertion(e,p,d,r)),Object.is(e.item,p)||this._addIdentityChange(e,p)):(e=this._mismatch(e,p,d,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new CN(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new GE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CN{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class GE{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new DN,this.map.set(e,n)),n.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WE(i,t,e){const n=i.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}class YE{constructor(){}supports(t){return t instanceof Map||m0(t)}create(){return new kN}}class kN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||m0(t)))throw new Oe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,d=r._next;return o&&(o._next=d),d&&(d._prev=o),r._next=null,r._prev=null,r}const n=new MN(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class MN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qE(){return new Wa([new $E])}let Wa=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||qE()),deps:[[i,new Yr,new Cr]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new Oe(901,!1)}}return i.\u0275prov=ze({token:i,providedIn:"root",factory:qE}),i})();function KE(){return new sp([new YE])}let sp=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||KE()),deps:[[i,new Yr,new Cr]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new Oe(901,!1)}}return i.\u0275prov=ze({token:i,providedIn:"root",factory:KE}),i})();const TN=RE(null,"core",[]);let IN=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(ae(op))},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})(),iw=null;function Xo(){return iw}class ON{}const Ft=new oe("DocumentToken");let XE=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:function(){return function PN(){return ae(QE)}()},providedIn:"platform"}),i})(),QE=(()=>{class i extends XE{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xo().getBaseHref(this._doc)}onPopState(e){const n=Xo().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Xo().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,r){ZE()?this._history.pushState(e,n,r):this.location.hash=r}replaceState(e,n,r){ZE()?this._history.replaceState(e,n,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft))},i.\u0275prov=ze({token:i,factory:function(){return function FN(){return new QE(ae(Ft))}()},providedIn:"platform"}),i})();function ZE(){return!!window.history.pushState}function JE(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function eS(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ad(i){return i&&"?"!==i[0]?"?"+i:i}let nw=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:function(){return ii(NN)},providedIn:"root"}),i})();const LN=new oe("appBaseHref");let NN=(()=>{class i extends nw{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??ii(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return JE(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+ad(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const d=this.prepareExternalUrl(r+ad(o));this._platformLocation.pushState(e,n,d)}replaceState(e,n,r,o){const d=this.prepareExternalUrl(r+ad(o));this._platformLocation.replaceState(e,n,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(ae(XE),ae(LN,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rw=(()=>{class i{constructor(e){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function HN(i){if(/^(https?:)?\/\//.test(i)){const[,t]=i.split(/\/\/[^\/]+/);return t}return i}(eS(tS(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+ad(n))}normalize(e){return i.stripTrailingSlash(function VN(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._basePath,tS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ad(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ad(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}}return i.normalizeQueryParams=ad,i.joinWithSlash=JE,i.stripTrailingSlash=eS,i.\u0275fac=function(e){return new(e||i)(ae(nw))},i.\u0275prov=ze({token:i,factory:function(){return function BN(){return new rw(ae(nw))}()},providedIn:"root"}),i})();function tS(i){return i.replace(/\/index.html$/,"")}function dS(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let pw=(()=>{class i{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Km(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ui(n.item)}`);this._toggleClass(n.item,!0)}),e.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!0)):Object.keys(e).forEach(n=>this._toggleClass(n,!!e[n])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!1)):Object.keys(e).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(e,n){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return i.\u0275fac=function(e){return new(e||i)(I(Wa),I(sp),I(qe),I(Fs))},i.\u0275dir=re({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),i})();class DB{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let C_=(()=>{class i{constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,o,d)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new DB(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)n.remove(null===o?void 0:o);else if(null!==o){const p=n.get(o);n.move(p,d),mS(p,r)}});for(let r=0,o=n.length;r<o;r++){const p=n.get(r).context;p.index=r,p.count=o,p.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{mS(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(I(mn),I(xn),I(Wa))},i.\u0275dir=re({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function mS(i,t){i.context.$implicit=t.item}let ua=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new MB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(I(mn),I(xn))},i.\u0275dir=re({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class MB{constructor(){this.$implicit=null,this.ngIf=null}}function pS(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Ui(t)}'.`)}class fw{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dp=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),gw=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new fw(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(I(mn),I(xn),I(dp,9))},i.\u0275dir=re({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),_w=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:d}=this;this._viewRef=n.createEmbeddedView(r,o,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(I(mn))},i.\u0275dir=re({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[zt]}),i})(),pn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();const _S="browser";class bS{}class IV extends ON{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xw extends IV{static makeCurrent(){!function RN(i){iw||(iw=i)}(new xw)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function AV(){return hp=hp||document.querySelector("base"),hp?hp.getAttribute("href"):null}();return null==e?null:function RV(i){k_=k_||document.createElement("a"),k_.setAttribute("href",i);const t=k_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){hp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return dS(document.cookie,t)}}let k_,hp=null;const kS=new oe("TRANSITION_ID"),PV=[{provide:z0,useFactory:function OV(i,t,e){return()=>{e.get(l_).donePromise.then(()=>{const n=Xo(),r=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let o=0;o<r.length;o++)n.remove(r[o])})}},deps:[kS,Ft,Er],multi:!0}];let LV=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();const M_=new oe("EventManagerPlugins");let E_=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}addGlobalEventListener(e,n,r){return this._findPluginFor(n).addGlobalEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const r=this._plugins;for(let o=0;o<r.length;o++){const d=r[o];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(ae(M_),ae(ht))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();class MS{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Xo().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ES=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),n.add(r))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})(),mp=(()=>{class i extends ES{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,n,r){e.forEach(o=>{const d=this._doc.createElement("style");d.textContent=o,r.push(n.appendChild(d))})}addHost(e){const n=[];this._addStylesToHost(this._stylesSet,e,n),this._hostNodes.set(e,n)}removeHost(e){const n=this._hostNodes.get(e);n&&n.forEach(SS),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((n,r)=>{this._addStylesToHost(e,r,n)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(SS))}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();function SS(i){Xo().remove(i)}const Cw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dw=/%COMP%/g;function kw(i,t){return t.flat(100).map(e=>e.replace(Dw,i))}function AS(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let S_=(()=>{class i{constructor(e,n,r){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Mw(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case _a.Emulated:{let r=this.rendererByCompId.get(n.id);return r||(r=new jV(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,r)),r.applyToHost(e),r}case 1:case _a.ShadowDom:return new UV(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const r=kw(n.id,n.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(ae(E_),ae(mp),ae(Iu))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();class Mw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Cw[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(OS(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(OS(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=Cw[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Cw[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(un.DashCase|un.Important)?t.style.setProperty(e,n,r&un.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&un.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,AS(n)):this.eventManager.addEventListener(t,e,AS(n))}}function OS(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class jV extends Mw{constructor(t,e,n,r){super(t),this.component=n;const o=kw(r+"-"+n.id,n.styles);e.addStyles(o),this.contentAttr=function VV(i){return"_ngcontent-%COMP%".replace(Dw,i)}(r+"-"+n.id),this.hostAttr=function HV(i){return"_nghost-%COMP%".replace(Dw,i)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class UV extends Mw{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=kw(r.id,r.styles);for(let d=0;d<o.length;d++){const p=document.createElement("style");p.textContent=o[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let $V=(()=>{class i extends MS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();const PS=["alt","control","meta","shift"],GV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WV={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let YV=(()=>{class i extends MS{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),d=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xo().onAndCancel(e,o.domEventName,d))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let d="",p=n.indexOf("code");if(p>-1&&(n.splice(p,1),d="code."),PS.forEach(y=>{const C=n.indexOf(y);C>-1&&(n.splice(C,1),d+=y+".")}),d+=o,0!=n.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=d,g}static matchEventFullKeyCode(e,n){let r=GV[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),PS.forEach(d=>{d!==r&&(0,WV[d])(e)&&(o+=d+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();const QV=RE(TN,"browser",[{provide:c_,useValue:_S},{provide:DE,useValue:function qV(){xw.makeCurrent()},multi:!0},{provide:Ft,useFactory:function XV(){return function Vg(i){Um=i}(document),document},deps:[]}]),NS=new oe(""),BS=[{provide:d_,useClass:class FV{addToWindow(t){$i.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new Error("Could not find testability for element.");return o},$i.getAllAngularTestabilities=()=>t.getAllTestabilities(),$i.getAllAngularRootElements=()=>t.getAllRootElements(),$i.frameworkStabilizers||($i.frameworkStabilizers=[]),$i.frameworkStabilizers.push(n=>{const r=$i.getAllAngularTestabilities();let o=r.length,d=!1;const p=function(g){d=d||g,o--,0==o&&n(d)};r.forEach(function(g){g.whenStable(p)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?Xo().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:TE,useClass:W0,deps:[ht,Y0,d_]},{provide:W0,useClass:W0,deps:[ht,Y0,d_]}],VS=[{provide:mi,useValue:"root"},{provide:Ua,useFactory:function KV(){return new Ua},deps:[]},{provide:M_,useClass:$V,multi:!0,deps:[Ft,ht,c_]},{provide:M_,useClass:YV,multi:!0,deps:[Ft]},{provide:S_,useClass:S_,deps:[E_,mp,Iu]},{provide:Hl,useExisting:S_},{provide:ES,useExisting:mp},{provide:mp,useClass:mp,deps:[Ft]},{provide:E_,useClass:E_,deps:[M_,ht]},{provide:bS,useClass:LV,deps:[]},[]];let HS=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:Iu,useValue:e.appId},{provide:kS,useExisting:Iu},PV]}}}return i.\u0275fac=function(e){return new(e||i)(ae(NS,12))},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[...VS,...BS],imports:[pn,IN]}),i})();typeof window<"u"&&window;let Tw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:function(e){let n=null;return n=e?new(e||i):ae(US),n},providedIn:"root"}),i})(),US=(()=>{class i extends Tw{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case se.NONE:return n;case se.HTML:return c(n,"HTML")?s(n):ce(this._doc,String(n)).toString();case se.STYLE:return c(n,"Style")?s(n):n;case se.SCRIPT:if(c(n,"Script"))return s(n);throw new Error("unsafe value used in a script context");case se.URL:return c(n,"URL")?s(n):M(String(n));case se.RESOURCE_URL:if(c(n,"ResourceURL"))return s(n);throw new Error(`unsafe value used in a resource URL context (see ${Dd})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Dd})`)}}bypassSecurityTrustHtml(e){return function h(i){return new As(i)}(e)}bypassSecurityTrustStyle(e){return function m(i){return new zy(i)}(e)}bypassSecurityTrustScript(e){return function f(i){return new Rs(i)}(e)}bypassSecurityTrustUrl(e){return function v(i){return new l(i)}(e)}bypassSecurityTrustResourceUrl(e){return function _(i){return new a(i)}(e)}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft))},i.\u0275prov=ze({token:i,factory:function(e){let n=null;return n=e?new e:function oH(i){return new US(i.get(Ft))}(ae(Er)),n},providedIn:"root"}),i})();class $S{}class sH{}const $s="*";function fn(i,t){return{type:7,name:i,definitions:t,options:{}}}function pi(i,t=null){return{type:4,styles:t,timings:i}}function GS(i,t=null){return{type:2,steps:i,options:t}}function dt(i){return{type:6,styles:i,offset:null}}function si(i,t,e){return{type:0,name:i,styles:t,options:e}}function ui(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function WS(i){Promise.resolve().then(i)}class fp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class YS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?WS(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==o&&this._onFinish()}),d.onDestroy(()=>{++n==o&&this._onDestroy()}),d.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function qS(i){return new Oe(3e3,!1)}function jH(){return typeof window<"u"&&typeof window.document<"u"}function Aw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ql(i){switch(i.length){case 0:return new fp;case 1:return i[0];default:return new YS(i)}}function KS(i,t,e,n,r=new Map,o=new Map){const d=[],p=[];let g=-1,y=null;if(n.forEach(C=>{const E=C.get("offset"),P=E==g,B=P&&y||new Map;C.forEach((Y,X)=>{let ie=X,ue=Y;if("offset"!==X)switch(ie=t.normalizePropertyName(ie,d),ue){case"!":ue=r.get(X);break;case $s:ue=o.get(X);break;default:ue=t.normalizeStyleValue(X,ie,ue,d)}B.set(ie,ue)}),P||p.push(B),y=B,g=E}),d.length)throw function IH(i){return new Oe(3502,!1)}();return p}function Rw(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Ow(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Ow(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Ow(e,"destroy",i)))}}function Ow(i,t,e){const o=Pw(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),d=i._data;return null!=d&&(o._data=d),o}function Pw(i,t,e,n,r="",o=0,d){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!d}}function Ta(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function XS(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}let Fw=(i,t)=>!1,QS=(i,t,e)=>[],ZS=null;function Lw(i){const t=i.parentNode||i.host;return t===ZS?null:t}(Aw()||typeof Element<"u")&&(jH()?(ZS=(()=>document.documentElement)(),Fw=(i,t)=>{for(;t;){if(t===i)return!0;t=Lw(t)}return!1}):Fw=(i,t)=>i.contains(t),QS=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]});let od=null,JS=!1;const e1=Fw,t1=QS;let n1=(()=>{class i{validateStyleProperty(e){return function $H(i){od||(od=function GH(){return typeof document<"u"?document.body:null}()||{},JS=!!od.style&&"WebkitAppearance"in od.style);let t=!0;return od.style&&!function UH(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in od.style,!t&&JS&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in od.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return e1(e,n)}getParentElement(e){return Lw(e)}query(e,n,r){return t1(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,d,p=[],g){return new fp(r,o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})(),Nw=(()=>{class i{}return i.NOOP=new n1,i})();const Bw="ng-enter",T_="ng-leave",I_="ng-trigger",A_=".ng-trigger",a1="ng-animating",Vw=".ng-animating";function Gs(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Hw(parseFloat(t[1]),t[2])}function Hw(i,t){return"s"===t?1e3*i:i}function R_(i,t,e){return i.hasOwnProperty("duration")?i:function qH(i,t,e){let r,o=0,d="";if("string"==typeof i){const p=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(qS()),{duration:0,delay:0,easing:""};r=Hw(parseFloat(p[1]),p[2]);const g=p[3];null!=g&&(o=Hw(parseFloat(g),p[4]));const y=p[5];y&&(d=y)}else r=i;if(!e){let p=!1,g=t.length;r<0&&(t.push(function lH(){return new Oe(3100,!1)}()),p=!0),o<0&&(t.push(function cH(){return new Oe(3101,!1)}()),p=!0),p&&t.splice(g,0,qS())}return{duration:r,delay:o,easing:d}}(i,t,e)}function gp(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function o1(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function Kl(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function l1(i,t,e){return e?t+":"+e+";":""}function c1(i){let t="";for(let e=0;e<i.style.length;e++){const n=i.style.item(e);t+=l1(0,n,i.style.getPropertyValue(n))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=l1(0,ZH(e),i.style[e]));i.setAttribute("style",t)}function Qo(i,t,e){i.style&&(t.forEach((n,r)=>{const o=jw(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n}),Aw()&&c1(i))}function sd(i,t){i.style&&(t.forEach((e,n)=>{const r=jw(n);i.style[r]=""}),Aw()&&c1(i))}function _p(i){return Array.isArray(i)?1==i.length?i[0]:GS(i):i}const zw=new RegExp("{{\\s*(.+?)\\s*}}","g");function d1(i){let t=[];if("string"==typeof i){let e;for(;e=zw.exec(i);)t.push(e[1]);zw.lastIndex=0}return t}function vp(i,t,e){const n=i.toString(),r=n.replace(zw,(o,d)=>{let p=t[d];return null==p&&(e.push(function uH(i){return new Oe(3003,!1)}()),p=""),p.toString()});return r==n?i:r}function O_(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const QH=/-+([a-z0-9])/g;function jw(i){return i.replace(QH,(...t)=>t[1].toUpperCase())}function ZH(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ia(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function hH(i){return new Oe(3004,!1)}()}}function u1(i,t){return window.getComputedStyle(i)[t]}function rz(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function az(i,t,e){if(":"==i[0]){const g=function oz(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function MH(i){return new Oe(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof g)return void t.push(g);i=g}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function kH(i){return new Oe(3015,!1)}()),t;const r=n[1],o=n[2],d=n[3];t.push(h1(r,d));"<"==o[0]&&!("*"==r&&"*"==d)&&t.push(h1(d,r))}(n,e,t)):e.push(i),e}const N_=new Set(["true","1"]),B_=new Set(["false","0"]);function h1(i,t){const e=N_.has(i)||B_.has(i),n=N_.has(t)||B_.has(t);return(r,o)=>{let d="*"==i||i==r,p="*"==t||t==o;return!d&&e&&"boolean"==typeof r&&(d=r?N_.has(i):B_.has(i)),!p&&n&&"boolean"==typeof o&&(p=o?N_.has(t):B_.has(t)),d&&p}}const sz=new RegExp("s*:selfs*,?","g");function Uw(i,t,e,n){return new lz(i).build(t,e,n)}class lz{constructor(t){this._driver=t}build(t,e,n){const r=new uz(e);return this._resetContextStyleTimingState(r),Ia(this,_p(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function pH(){return new Oe(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const g=p,y=g.name;y.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,o.push(this.visitState(g,e))}),g.name=y}else if(1==p.type){const g=this.visitTransition(p,e);n+=g.queryCount,r+=g.depCount,d.push(g)}else e.errors.push(function fH(){return new Oe(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:d,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,d=r||{};n.styles.forEach(p=>{p instanceof Map&&p.forEach(g=>{d1(g).forEach(y=>{d.hasOwnProperty(y)||o.add(y)})})}),o.size&&(O_(o.values()),e.errors.push(function gH(i,t){return new Oe(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ia(this,_p(t.animation),e);return{type:1,matchers:rz(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ld(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>Ia(this,n,e)),options:ld(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(d=>{e.currentTime=n;const p=Ia(this,d,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:o,options:ld(t.options)}}visitAnimate(t,e){const n=function mz(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return $w(R_(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=$w(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=R_(e,t);return $w(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:dt({});if(5==o.type)r=this.visitKeyframes(o,e);else{let d=t.styles,p=!1;if(!d){p=!0;const y={};n.easing&&(y.easing=n.easing),d=dt(y)}e.currentTime+=n.duration+n.delay;const g=this.visitStyle(d,e);g.isEmptyStep=p,r=g}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of r)"string"==typeof p?p===$s?n.push(p):e.errors.push(new Oe(3002,!1)):n.push(o1(p));let o=!1,d=null;return n.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(d=p.get("easing"),p.delete("easing")),!o))for(let g of p.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:d,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,g)=>{const y=e.collectedStyles.get(e.currentQuerySelector),C=y.get(g);let E=!0;C&&(o!=r&&o>=C.startTime&&r<=C.endTime&&(e.errors.push(function vH(i,t,e,n,r){return new Oe(3010,!1)}()),E=!1),o=C.startTime),E&&y.set(g,{startTime:o,endTime:r}),e.options&&function XH(i,t,e){const n=t.params||{},r=d1(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function dH(i){return new Oe(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bH(){return new Oe(3011,!1)}()),n;let o=0;const d=[];let p=!1,g=!1,y=0;const C=t.steps.map(ue=>{const He=this._makeStyleAst(ue,e);let ge=null!=He.offset?He.offset:function hz(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(He.styles),lt=0;return null!=ge&&(o++,lt=He.offset=ge),g=g||lt<0||lt>1,p=p||lt<y,y=lt,d.push(lt),He});g&&e.errors.push(function yH(){return new Oe(3012,!1)}()),p&&e.errors.push(function wH(){return new Oe(3200,!1)}());const E=t.steps.length;let P=0;o>0&&o<E?e.errors.push(function xH(){return new Oe(3202,!1)}()):0==o&&(P=1/(E-1));const B=E-1,Y=e.currentTime,X=e.currentAnimateTimings,ie=X.duration;return C.forEach((ue,He)=>{const ge=P>0?He==B?1:P*He:d[He],lt=ge*ie;e.currentTime=Y+X.delay+lt,X.duration=lt,this._validateStyleAst(ue,e),ue.offset=ge,n.styles.push(ue)}),n}visitReference(t,e){return{type:8,animation:Ia(this,_p(t.animation),e),options:ld(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ld(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ld(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,d]=function cz(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(sz,"")),i=i.replace(/@\*/g,A_).replace(/@\w+/g,e=>A_+"-"+e.slice(1)).replace(/:animating/g,Vw),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const p=Ia(this,_p(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:ld(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function CH(){return new Oe(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:R_(t.timings,e.errors,!0);return{type:12,animation:Ia(this,_p(t.animation),e),timings:n,options:null}}}class uz{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ld(i){return i?(i=gp(i)).params&&(i.params=function dz(i){return i?gp(i):null}(i.params)):i={},i}function $w(i,t,e){return{duration:i,delay:t,easing:e}}function Gw(i,t,e,n,r,o,d=null,p=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:d,subTimeline:p}}class V_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gz=new RegExp(":enter","g"),vz=new RegExp(":leave","g");function Ww(i,t,e,n,r,o=new Map,d=new Map,p,g,y=[]){return(new bz).buildKeyframes(i,t,e,n,r,o,d,p,g,y)}class bz{buildKeyframes(t,e,n,r,o,d,p,g,y,C=[]){y=y||new V_;const E=new Yw(t,e,y,r,o,C,[]);E.options=g;const P=g.delay?Gs(g.delay):0;E.currentTimeline.delayNextStep(P),E.currentTimeline.setStyles([d],null,E.errors,g),Ia(this,n,E);const B=E.timelines.filter(Y=>Y.containsAnimation());if(B.length&&p.size){let Y;for(let X=B.length-1;X>=0;X--){const ie=B[X];if(ie.element===e){Y=ie;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([p],null,E.errors,g)}return B.length?B.map(Y=>Y.buildKeyframes()):[Gw(e,[],[],[],0,P,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,d=this._visitSubInstructions(n,r,r.options);o!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const d="number"==typeof o?o:Gs(vp(o,r?.params??{},e.errors));n.delayNextStep(d)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const d=null!=n.duration?Gs(n.duration):null,p=null!=n.delay?Gs(n.delay):null;return 0!==d&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,d,p);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ia(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=H_);const d=Gs(o.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Ia(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Gs(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);o&&p.delayNextStep(o),Ia(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),n.push(p.currentTimeline)}),n.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return R_(e.params?vp(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,p=e.createSubContext().currentTimeline;p.easing=n.easing,t.styles.forEach(g=>{p.forwardTime((g.offset||0)*o),p.setStyles(g.styles,g.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Gs(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=H_);let d=n;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let g=null;p.forEach((y,C)=>{e.currentQueryIndex=C;const E=e.createSubContext(t.options,y);o&&E.delayNextStep(o),y===e.element&&(g=E.currentTimeline),Ia(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,d=Math.abs(o.duration),p=d*(e.currentQueryTotal-1);let g=d*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=p-g;break;case"full":g=n.currentStaggerTime}const C=e.currentTimeline;g&&C.delayNextStep(g);const E=C.currentTime;Ia(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-E+(r.startTime-n.currentTimeline.startTime)}}const H_={};class Yw{constructor(t,e,n,r,o,d,p,g){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=H_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new z_(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Gs(n.duration)),null!=n.delay&&(r.delay=Gs(n.delay));const o=n.params;if(o){let d=r.params;d||(d=this.options.params={}),Object.keys(o).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=vp(o[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new Yw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=H_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new yz(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,d){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(gz,"."+this._enterClassName)).replace(vz,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=n);0!==n&&(y=n<0?y.slice(y.length+n,y.length):y.slice(0,n)),p.push(...y)}return!o&&0==p.length&&d.push(function DH(i){return new Oe(3014,!1)}()),p}}class z_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new z_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||$s),this._currentKeyframe.set(e,$s);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},d=function wz(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,$s)}else Kl(r,e)}),e}(t,this._globalTimelineStyles);for(let[p,g]of d){const y=vp(g,o,n);this._pendingStyles.set(p,y),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??$s),this._updateStyle(p,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,g)=>{const y=Kl(p,new Map,this._backFill);y.forEach((C,E)=>{"!"===C?t.add(E):C===$s&&e.add(E)}),n||y.set("offset",g/this.duration),r.push(y)});const o=t.size?O_(t.values()):[],d=e.size?O_(e.values()):[];if(n){const p=r[0],g=new Map(p);p.set("offset",0),g.set("offset",1),r=[p,g]}return Gw(this.element,r,o,d,this.duration,this.startTime,this.easing,!1)}}class yz extends z_{constructor(t,e,n,r,o,d,p=!1){super(t,e,d.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],d=n+e,p=e/d,g=Kl(t[0]);g.set("offset",0),o.push(g);const y=Kl(t[0]);y.set("offset",f1(p)),o.push(y);const C=t.length-1;for(let E=1;E<=C;E++){let P=Kl(t[E]);const B=P.get("offset");P.set("offset",f1((e+B*n)/d)),o.push(P)}n=d,e=0,r="",t=o}return Gw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function f1(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class qw{}const xz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cz extends qw{normalizePropertyName(t,e){return jw(t)}normalizeStyleValue(t,e,n,r){let o="";const d=n.toString().trim();if(xz.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const p=n.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function mH(i,t){return new Oe(3005,!1)}())}return d+o}}function g1(i,t,e,n,r,o,d,p,g,y,C,E,P){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:d,timelines:p,queriedElements:g,preStyleProps:y,postStyleProps:C,totalTime:E,errors:P}}const Kw={};class _1{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function Dz(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,d,p,g,y,C){const E=[],P=this.ast.options&&this.ast.options.params||Kw,Y=this.buildStyles(n,p&&p.params||Kw,E),X=g&&g.params||Kw,ie=this.buildStyles(r,X,E),ue=new Set,He=new Map,ge=new Map,lt="void"===r,Ii={params:kz(X,P),delay:this.ast.options?.delay},Li=C?[]:Ww(t,e,this.ast.animation,o,d,Y,ie,Ii,y,E);let Nr=0;if(Li.forEach(el=>{Nr=Math.max(el.duration+el.delay,Nr)}),E.length)return g1(e,this._triggerName,n,r,lt,Y,ie,[],[],He,ge,Nr,E);Li.forEach(el=>{const tl=el.element,xO=Ta(He,tl,new Set);el.preStyleProps.forEach(bd=>xO.add(bd));const ef=Ta(ge,tl,new Set);el.postStyleProps.forEach(bd=>ef.add(bd)),tl!==e&&ue.add(tl)});const Js=O_(ue.values());return g1(e,this._triggerName,n,r,lt,Y,ie,Li,Js,He,ge,Nr)}}function kz(i,t){const e=gp(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class Mz{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=gp(this.defaultParams);return Object.keys(t).forEach(o=>{const d=t[o];null!==d&&(r[o]=d)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((d,p)=>{d&&(d=vp(d,r,e));const g=this.normalizer.normalizePropertyName(p,e);d=this.normalizer.normalizeStyleValue(p,g,d,e),n.set(g,d)})}),n}}class Sz{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Mz(r.style,r.options&&r.options.params||{},n))}),v1(this.states,"true","1"),v1(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new _1(t,r,this.states))}),this.fallbackTransition=function Tz(i,t,e){return new _1(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(d=>d.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function v1(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const Iz=new V_;class Az{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=Uw(this._driver,e,n,[]);if(n.length)throw function AH(i){return new Oe(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=KS(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let d;const p=new Map;if(o?(d=Ww(this._driver,e,o,Bw,T_,new Map,new Map,n,Iz,r),d.forEach(C=>{const E=Ta(p,C.element,new Map);C.postStyleProps.forEach(P=>E.set(P,null))})):(r.push(function RH(){return new Oe(3300,!1)}()),d=[]),r.length)throw function OH(i){return new Oe(3504,!1)}();p.forEach((C,E)=>{C.forEach((P,B)=>{C.set(B,this._driver.computeStyle(E,B,$s))})});const y=ql(d.map(C=>{const E=p.get(C.element);return this._buildPlayer(C,new Map,E)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function PH(i){return new Oe(3301,!1)}();return e}listen(t,e,n,r){const o=Pw(e,"","","");return Rw(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const b1="ng-animate-queued",Xw="ng-animate-disabled",Lz=[],y1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ka="__ng_removed";class Qw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function zz(i){return i??null}(n?t.value:t),n){const o=gp(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const bp="void",Zw=new Qw(bp);class Bz{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Xa(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function FH(i,t){return new Oe(3302,!1)}();if(null==n||0==n.length)throw function LH(i){return new Oe(3303,!1)}();if(!function jz(i){return"start"==i||"done"==i}(n))throw function NH(i,t){return new Oe(3400,!1)}();const o=Ta(this._elementListeners,t,[]),d={name:e,phase:n,callback:r};o.push(d);const p=Ta(this._engine.statesByElement,t,new Map);return p.has(e)||(Xa(t,I_),Xa(t,I_+"-"+e),p.set(e,Zw)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(d);g>=0&&o.splice(g,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function BH(i){return new Oe(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),d=new Jw(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Xa(t,I_),Xa(t,I_+"-"+e),this._engine.statesByElement.set(t,p=new Map));let g=p.get(e);const y=new Qw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),p.set(e,y),g||(g=Zw),y.value!==bp&&g.value===y.value){if(!function Gz(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(g.params,y.params)){const X=[],ie=o.matchStyles(g.value,g.params,X),ue=o.matchStyles(y.value,y.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{sd(t,ie),Qo(t,ue)})}return}const P=Ta(this._engine.playersByElement,t,[]);P.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let B=o.matchTransition(g.value,y.value,t,y.params),Y=!1;if(!B){if(!r)return;B=o.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:g,toState:y,player:d,isFallbackTransition:Y}),Y||(Xa(t,b1),d.onStart(()=>{Pu(t,b1)})),d.onDone(()=>{let X=this.players.indexOf(d);X>=0&&this.players.splice(X,1);const ie=this._engine.playersByElement.get(t);if(ie){let ue=ie.indexOf(d);ue>=0&&ie.splice(ue,1)}}),this.players.push(d),P.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,A_,!0);n.forEach(r=>{if(r[Ka])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),d=new Map;if(o){const p=[];if(o.forEach((g,y)=>{if(d.set(y,g.value),this._triggers.has(y)){const C=this.trigger(t,y,bp,r);C&&p.push(C)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),n&&ql(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const d=o.name;if(r.has(d))return;r.add(d);const g=this._triggers.get(d).fallbackTransition,y=n.get(d)||Zw,C=new Qw(bp),E=new Jw(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:g,fromState:y,toState:C,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(n.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ka];(!o||o===y1)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Xa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,d=this._elementListeners.get(o);d&&d.forEach(p=>{if(p.name==n.triggerName){const g=Pw(o,n.triggerName,n.fromState.value,n.toState.value);g._data=t,Rw(n.player,p.phase,g,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,d=r.transition.ast.depCount;return 0==o||0==d?o-d:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class Vz{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new Bz(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let d=!1,p=this.driver.getParentElement(e);for(;p;){const g=r.get(p);if(g){const y=n.indexOf(g);n.splice(y+1,0,t),d=!0;break}p=this.driver.getParentElement(p)}d||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(j_(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!j_(e))return;const o=e[Ka];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xa(t,Xw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Pu(t,Xw))}removeNode(t,e,n,r){if(j_(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[Ka]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return j_(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,A_,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Vw,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ql(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ka];if(e&&e.setForRemoval){if(t[Ka]=y1,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Xw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Xa(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?ql(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function VH(i){return new Oe(3402,!1)}()}_flushAnimations(t,e){const n=new V_,r=[],o=new Map,d=[],p=new Map,g=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(Dt=>{C.add(Dt);const Lt=this.driver.query(Dt,".ng-animate-queued",!0);for(let $t=0;$t<Lt.length;$t++)C.add(Lt[$t])});const E=this.bodyNode,P=Array.from(this.statesByElement.keys()),B=C1(P,this.collectedEnterElements),Y=new Map;let X=0;B.forEach((Dt,Lt)=>{const $t=Bw+X++;Y.set(Lt,$t),Dt.forEach(Oi=>Xa(Oi,$t))});const ie=[],ue=new Set,He=new Set;for(let Dt=0;Dt<this.collectedLeaveElements.length;Dt++){const Lt=this.collectedLeaveElements[Dt],$t=Lt[Ka];$t&&$t.setForRemoval&&(ie.push(Lt),ue.add(Lt),$t.hasAnimation?this.driver.query(Lt,".ng-star-inserted",!0).forEach(Oi=>ue.add(Oi)):He.add(Lt))}const ge=new Map,lt=C1(P,Array.from(ue));lt.forEach((Dt,Lt)=>{const $t=T_+X++;ge.set(Lt,$t),Dt.forEach(Oi=>Xa(Oi,$t))}),t.push(()=>{B.forEach((Dt,Lt)=>{const $t=Y.get(Lt);Dt.forEach(Oi=>Pu(Oi,$t))}),lt.forEach((Dt,Lt)=>{const $t=ge.get(Lt);Dt.forEach(Oi=>Pu(Oi,$t))}),ie.forEach(Dt=>{this.processLeaveNode(Dt)})});const Ii=[],Li=[];for(let Dt=this._namespaceList.length-1;Dt>=0;Dt--)this._namespaceList[Dt].drainQueuedTransitions(e).forEach($t=>{const Oi=$t.player,gr=$t.element;if(Ii.push(Oi),this.collectedEnterElements.length){const Br=gr[Ka];if(Br&&Br.setForMove){if(Br.previousTriggersValues&&Br.previousTriggersValues.has($t.triggerName)){const yd=Br.previousTriggersValues.get($t.triggerName),eo=this.statesByElement.get($t.element);if(eo&&eo.has($t.triggerName)){const fb=eo.get($t.triggerName);fb.value=yd,eo.set($t.triggerName,fb)}}return void Oi.destroy()}}const os=!E||!this.driver.containsElement(E,gr),Oa=ge.get(gr),lc=Y.get(gr),Dn=this._buildInstruction($t,n,lc,Oa,os);if(Dn.errors&&Dn.errors.length)return void Li.push(Dn);if(os)return Oi.onStart(()=>sd(gr,Dn.fromStyles)),Oi.onDestroy(()=>Qo(gr,Dn.toStyles)),void r.push(Oi);if($t.isFallbackTransition)return Oi.onStart(()=>sd(gr,Dn.fromStyles)),Oi.onDestroy(()=>Qo(gr,Dn.toStyles)),void r.push(Oi);const kO=[];Dn.timelines.forEach(Br=>{Br.stretchStartingKeyframe=!0,this.disabledNodes.has(Br.element)||kO.push(Br)}),Dn.timelines=kO,n.append(gr,Dn.timelines),d.push({instruction:Dn,player:Oi,element:gr}),Dn.queriedElements.forEach(Br=>Ta(p,Br,[]).push(Oi)),Dn.preStyleProps.forEach((Br,yd)=>{if(Br.size){let eo=g.get(yd);eo||g.set(yd,eo=new Set),Br.forEach((fb,UC)=>eo.add(UC))}}),Dn.postStyleProps.forEach((Br,yd)=>{let eo=y.get(yd);eo||y.set(yd,eo=new Set),Br.forEach((fb,UC)=>eo.add(UC))})});if(Li.length){const Dt=[];Li.forEach(Lt=>{Dt.push(function HH(i,t){return new Oe(3505,!1)}())}),Ii.forEach(Lt=>Lt.destroy()),this.reportError(Dt)}const Nr=new Map,Js=new Map;d.forEach(Dt=>{const Lt=Dt.element;n.has(Lt)&&(Js.set(Lt,Lt),this._beforeAnimationBuild(Dt.player.namespaceId,Dt.instruction,Nr))}),r.forEach(Dt=>{const Lt=Dt.element;this._getPreviousPlayers(Lt,!1,Dt.namespaceId,Dt.triggerName,null).forEach(Oi=>{Ta(Nr,Lt,[]).push(Oi),Oi.destroy()})});const el=ie.filter(Dt=>k1(Dt,g,y)),tl=new Map;x1(tl,this.driver,He,y,$s).forEach(Dt=>{k1(Dt,g,y)&&el.push(Dt)});const ef=new Map;B.forEach((Dt,Lt)=>{x1(ef,this.driver,new Set(Dt),g,"!")}),el.forEach(Dt=>{const Lt=tl.get(Dt),$t=ef.get(Dt);tl.set(Dt,new Map([...Array.from(Lt?.entries()??[]),...Array.from($t?.entries()??[])]))});const bd=[],CO=[],DO={};d.forEach(Dt=>{const{element:Lt,player:$t,instruction:Oi}=Dt;if(n.has(Lt)){if(C.has(Lt))return $t.onDestroy(()=>Qo(Lt,Oi.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Oi.totalTime),void r.push($t);let gr=DO;if(Js.size>1){let Oa=Lt;const lc=[];for(;Oa=Oa.parentNode;){const Dn=Js.get(Oa);if(Dn){gr=Dn;break}lc.push(Oa)}lc.forEach(Dn=>Js.set(Dn,gr))}const os=this._buildAnimation($t.namespaceId,Oi,Nr,o,ef,tl);if($t.setRealPlayer(os),gr===DO)bd.push($t);else{const Oa=this.playersByElement.get(gr);Oa&&Oa.length&&($t.parentPlayer=ql(Oa)),r.push($t)}}else sd(Lt,Oi.fromStyles),$t.onDestroy(()=>Qo(Lt,Oi.toStyles)),CO.push($t),C.has(Lt)&&r.push($t)}),CO.forEach(Dt=>{const Lt=o.get(Dt.element);if(Lt&&Lt.length){const $t=ql(Lt);Dt.setRealPlayer($t)}}),r.forEach(Dt=>{Dt.parentPlayer?Dt.syncPlayerEvents(Dt.parentPlayer):Dt.destroy()});for(let Dt=0;Dt<ie.length;Dt++){const Lt=ie[Dt],$t=Lt[Ka];if(Pu(Lt,T_),$t&&$t.hasAnimation)continue;let Oi=[];if(p.size){let os=p.get(Lt);os&&os.length&&Oi.push(...os);let Oa=this.driver.query(Lt,Vw,!0);for(let lc=0;lc<Oa.length;lc++){let Dn=p.get(Oa[lc]);Dn&&Dn.length&&Oi.push(...Dn)}}const gr=Oi.filter(os=>!os.destroyed);gr.length?Uz(this,Lt,gr):this.processLeaveNode(Lt)}return ie.length=0,bd.forEach(Dt=>{this.players.push(Dt),Dt.onDone(()=>{Dt.destroy();const Lt=this.players.indexOf(Dt);this.players.splice(Lt,1)}),Dt.play()}),bd}elementContainsData(t,e){let n=!1;const r=e[Ka];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const g=!o||o==bp;p.forEach(y=>{y.queued||!g&&y.triggerName!=r||d.push(y)})}}return(n||r)&&(d=d.filter(p=>!(n&&n!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(t,e,n){const o=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,C=y!==o,E=Ta(n,y,[]);this._getPreviousPlayers(y,C,d,p,e.toState).forEach(B=>{const Y=B.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),B.destroy(),E.push(B)})}sd(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,d){const p=e.triggerName,g=e.element,y=[],C=new Set,E=new Set,P=e.timelines.map(Y=>{const X=Y.element;C.add(X);const ie=X[Ka];if(ie&&ie.removedBeforeQueried)return new fp(Y.duration,Y.delay);const ue=X!==g,He=function $z(i){const t=[];return D1(i,t),t}((n.get(X)||Lz).map(Nr=>Nr.getRealPlayer())).filter(Nr=>!!Nr.element&&Nr.element===X),ge=o.get(X),lt=d.get(X),Ii=KS(0,this._normalizer,0,Y.keyframes,ge,lt),Li=this._buildPlayer(Y,Ii,He);if(Y.subTimeline&&r&&E.add(X),ue){const Nr=new Jw(t,p,X);Nr.setRealPlayer(Li),y.push(Nr)}return Li});y.forEach(Y=>{Ta(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function Hz(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,Y.element,Y))}),C.forEach(Y=>Xa(Y,a1));const B=ql(P);return B.onDestroy(()=>{C.forEach(Y=>Pu(Y,a1)),Qo(g,e.toStyles)}),E.forEach(Y=>{Ta(r,Y,[]).push(B)}),B}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new fp(t.duration,t.delay)}}class Jw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new fp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Rw(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function j_(i){return i&&1===i.nodeType}function w1(i,t){const e=i.style.display;return i.style.display=t??"none",e}function x1(i,t,e,n,r){const o=[];e.forEach(g=>o.push(w1(g)));const d=[];n.forEach((g,y)=>{const C=new Map;g.forEach(E=>{const P=t.computeStyle(y,E,r);C.set(E,P),(!P||0==P.length)&&(y[Ka]=Nz,d.push(y))}),i.set(y,C)});let p=0;return e.forEach(g=>w1(g,o[p++])),d}function C1(i,t){const e=new Map;if(i.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),o=new Map;function d(p){if(!p)return 1;let g=o.get(p);if(g)return g;const y=p.parentNode;return g=e.has(y)?y:r.has(y)?1:d(y),o.set(p,g),g}return t.forEach(p=>{const g=d(p);1!==g&&e.get(g).push(p)}),e}function Xa(i,t){i.classList?.add(t)}function Pu(i,t){i.classList?.remove(t)}function Uz(i,t,e){ql(e).onDone(()=>i.processLeaveNode(t))}function D1(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof YS?D1(n.players,t):t.push(n)}}function k1(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class U_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Vz(t,e,n),this._timelineEngine=new Az(t,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const d=t+"-"+r;let p=this._triggerCache[d];if(!p){const g=[],C=Uw(this._driver,o,g,[]);if(g.length)throw function TH(i,t){return new Oe(3404,!1)}();p=function Ez(i,t,e){return new Sz(i,t,e)}(r,C,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,d]=XS(n);this._timelineEngine.command(o,e,d,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[d,p]=XS(n);return this._timelineEngine.listen(d,e,p,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Yz=(()=>{class i{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qo(this._element,this._initialStyles),this._endStyles&&(Qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(sd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sd(this._element,this._endStyles),this._endStyles=null),Qo(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function ex(i){let t=null;return i.forEach((e,n)=>{(function qz(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class M1{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:u1(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Kz{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return e1(t,e)}getParentElement(t){return Lw(t)}query(t,e,n){return t1(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,d=[]){const g={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const y=new Map,C=d.filter(B=>B instanceof M1);(function JH(i,t){return 0===i||0===t})(n,r)&&C.forEach(B=>{B.currentSnapshot.forEach((Y,X)=>y.set(X,Y))});let E=function KH(i){return i.length?i[0]instanceof Map?i:i.map(t=>o1(t)):[]}(e).map(B=>Kl(B));E=function ez(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,d)=>{n.has(d)||r.push(d),n.set(d,o)}),r.length)for(let o=1;o<t.length;o++){let d=t[o];r.forEach(p=>d.set(p,u1(i,p)))}}return t}(t,E,y);const P=function Wz(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=ex(t[0]),t.length>1&&(n=ex(t[t.length-1]))):t instanceof Map&&(e=ex(t)),e||n?new Yz(i,e,n):null}(t,E);return new M1(t,E,g,P)}}let Xz=(()=>{class i extends $S{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:_a.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?GS(e):e;return E1(this._renderer,null,n,"register",[r]),new Qz(n,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(ae(Hl),ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();class Qz extends sH{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Zz(this._id,t,e||{},this._renderer)}}class Zz{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return E1(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function E1(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const S1="@.disabled";let Jz=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,d)=>{const p=d?.parentNode(o);p&&d.removeChild(p,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let C=this._rendererCache.get(o);return C||(C=new T1("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,C)),C}const d=n.id,p=n.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(d,p,e,C.name,C)};return n.data.animation.forEach(g),new e5(this,p,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[d,p]=o;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(ae(Hl),ae(U_),ae(ht))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();class T1{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==S1?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class e5 extends T1{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==S1?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function t5(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),d="";return"@"!=o.charAt(0)&&([o,d]=function n5(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,n,p)})}return this.delegate.listen(t,e,n)}}const I1=[{provide:$S,useClass:Xz},{provide:qw,useFactory:function a5(){return new Cz}},{provide:U_,useClass:(()=>{class i extends U_{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(Nw),ae(qw),ae(op))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})()},{provide:Hl,useFactory:function o5(i,t,e){return new Jz(i,t,e)},deps:[S_,U_,ht]}],tx=[{provide:Nw,useFactory:()=>new Kz},{provide:En,useValue:"BrowserAnimations"},...I1],A1=[{provide:Nw,useClass:n1},{provide:En,useValue:"NoopAnimations"},...I1];let s5=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?A1:tx}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:tx,imports:[HS]}),i})();var Do=(()=>{return(i=Do||(Do={})).NODE="node",i.EDGE="edge",Do;var i})();const R1=new oe("UPDATE_NETWORK_LAYOUT_URL"),O1=new oe("DJANGO_SAVE_URL"),ix=new oe("NODE_KEY_CONFIG");function Xl(i,t,e){const n=J(i)||t||e?{next:i,error:t,complete:e}:i;return n?kn((r,o)=>{var d;null===(d=n.subscribe)||void 0===d||d.call(n);let p=!0;r.subscribe(vn(o,g=>{var y;null===(y=n.next)||void 0===y||y.call(n,g),o.next(g)},()=>{var g;p=!1,null===(g=n.complete)||void 0===g||g.call(n),o.complete()},g=>{var y;p=!1,null===(y=n.error)||void 0===y||y.call(n,g),o.error(g)},()=>{var g,y;p&&(null===(g=n.unsubscribe)||void 0===g||g.call(n)),null===(y=n.finalize)||void 0===y||y.call(n)}))}):We}class l5 extends fe{constructor(t,e){super()}schedule(t,e=0){return this}}const G_={setInterval(i,t,...e){const{delegate:n}=G_;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=G_;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};class nx extends l5{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return G_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&G_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ve(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const P1={now:()=>(P1.delegate||Date).now(),delegate:void 0};class yp{constructor(t,e=yp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}yp.now=P1.now;class rx extends yp{constructor(t,e=yp.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const wp=new rx(nx),c5=wp;function Fu(i,t=wp){return kn((e,n)=>{let r=null,o=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,n.next(y)}};function g(){const y=d+i,C=t.now();if(C<y)return r=this.schedule(void 0,y-C),void n.add(r);p()}e.subscribe(vn(n,y=>{o=y,d=t.now(),r||(r=t.schedule(g,i),n.add(r))},()=>{p(),n.complete()},void 0,()=>{o=r=null}))})}function Zr(...i){return us(i,al(i))}function zi(i,t){return kn((e,n)=>{let r=0;e.subscribe(vn(n,o=>i.call(t,o,r++)&&n.next(o)))})}class W_{}class ax{}class Ws{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),d=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(d):this.headers.set(o,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ws;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ws?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===o.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class u5{encodeKey(t){return F1(t)}encodeValue(t){return F1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const m5=/%(\d[a-f0-9])/gi,p5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function F1(i){return encodeURIComponent(i).replace(m5,(t,e)=>p5[e]??t)}function Y_(i){return`${i}`}class Ql{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new u5,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function h5(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[d,p]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],g=e.get(d)||[];g.push(p),e.set(d,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(Y_):[Y_(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ql({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Y_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(Y_(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class f5{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function L1(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function N1(i){return typeof Blob<"u"&&i instanceof Blob}function B1(i){return typeof FormData<"u"&&i instanceof FormData}class xp{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function g5(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ws),this.context||(this.context=new f5),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new Ql,this.urlWithParams=e}serializeBody(){return null===this.body?null:L1(this.body)||N1(this.body)||B1(this.body)||function _5(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ql?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||B1(this.body)?null:N1(this.body)?this.body.type||null:L1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ql?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,y=t.params||this.params;const C=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((E,P)=>E.set(P,t.setHeaders[P]),g)),t.setParams&&(y=Object.keys(t.setParams).reduce((E,P)=>E.set(P,t.setParams[P]),y)),new xp(e,n,o,{params:y,headers:g,context:C,reportProgress:p,responseType:r,withCredentials:d})}}var Yn=(()=>((Yn=Yn||{})[Yn.Sent=0]="Sent",Yn[Yn.UploadProgress=1]="UploadProgress",Yn[Yn.ResponseHeader=2]="ResponseHeader",Yn[Yn.DownloadProgress=3]="DownloadProgress",Yn[Yn.Response=4]="Response",Yn[Yn.User=5]="User",Yn))();class ox{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ws,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class sx extends ox{constructor(t={}){super(t),this.type=Yn.ResponseHeader}clone(t={}){return new sx({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class q_ extends ox{constructor(t={}){super(t),this.type=Yn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new q_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class V1 extends ox{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function lx(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Lu=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof xp)o=e;else{let g,y;g=r.headers instanceof Ws?r.headers:new Ws(r.headers),r.params&&(y=r.params instanceof Ql?r.params:new Ql({fromObject:r.params})),o=new xp(e,n,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Zr(o).pipe(function d5(i,t){return J(t)?Fa(i,t,1):Fa(i,1)}(g=>this.handler.handle(g)));if(e instanceof xp||"events"===r.observe)return d;const p=d.pipe(zi(g=>g instanceof q_));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return p.pipe(ji(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe(ji(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe(ji(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe(ji(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new Ql).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,lx(r,n))}post(e,n,r={}){return this.request("POST",e,lx(r,n))}put(e,n,r={}){return this.request("PUT",e,lx(r,n))}}return i.\u0275fac=function(e){return new(e||i)(ae(W_))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();function H1(i,t){return t(i)}function v5(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const y5=new oe("HTTP_INTERCEPTORS"),Cp=new oe("HTTP_INTERCEPTOR_FNS");function w5(){let i=null;return(t,e)=>(null===i&&(i=(ii(y5,{optional:!0})??[]).reduceRight(v5,H1)),i(t,e))}let z1=(()=>{class i extends W_{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=Array.from(new Set(this.injector.get(Cp)));this.chain=n.reduceRight((r,o)=>function b5(i,t,e){return(n,r)=>e.runInContext(()=>t(n,o=>i(o,r)))}(r,o,this.injector),H1)}return this.chain(e,n=>this.backend.handle(n))}}return i.\u0275fac=function(e){return new(e||i)(ae(ax),ae(qt))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();const k5=/^\)\]\}',?\n/;let U1=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt(n=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,Y)=>r.setRequestHeader(B,Y.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const o=e.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const B=r.statusText||"OK",Y=new Ws(r.getAllResponseHeaders()),X=function M5(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new sx({headers:Y,status:r.status,statusText:B,url:X}),d},g=()=>{let{headers:B,status:Y,statusText:X,url:ie}=p(),ue=null;204!==Y&&(ue=typeof r.response>"u"?r.responseText:r.response),0===Y&&(Y=ue?200:0);let He=Y>=200&&Y<300;if("json"===e.responseType&&"string"==typeof ue){const ge=ue;ue=ue.replace(k5,"");try{ue=""!==ue?JSON.parse(ue):null}catch(lt){ue=ge,He&&(He=!1,ue={error:lt,text:ue})}}He?(n.next(new q_({body:ue,headers:B,status:Y,statusText:X,url:ie||void 0})),n.complete()):n.error(new V1({error:ue,headers:B,status:Y,statusText:X,url:ie||void 0}))},y=B=>{const{url:Y}=p(),X=new V1({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Y||void 0});n.error(X)};let C=!1;const E=B=>{C||(n.next(p()),C=!0);let Y={type:Yn.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(Y.total=B.total),"text"===e.responseType&&!!r.responseText&&(Y.partialText=r.responseText),n.next(Y)},P=B=>{let Y={type:Yn.UploadProgress,loaded:B.loaded};B.lengthComputable&&(Y.total=B.total),n.next(Y)};return r.addEventListener("load",g),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",E),null!==o&&r.upload&&r.upload.addEventListener("progress",P)),r.send(o),n.next({type:Yn.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",g),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",E),null!==o&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(ae(bS))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();const cx=new oe("XSRF_ENABLED"),$1="XSRF-TOKEN",G1=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>$1}),W1="X-XSRF-TOKEN",Y1=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>W1});class q1{}let E5=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=dS(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(c_),ae(G1))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();function S5(i,t){const e=i.url.toLowerCase();if(!ii(cx)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=ii(q1).getToken(),r=ii(Y1);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var Pn=(()=>((Pn=Pn||{})[Pn.Interceptors=0]="Interceptors",Pn[Pn.LegacyInterceptors=1]="LegacyInterceptors",Pn[Pn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pn[Pn.NoXsrfProtection=3]="NoXsrfProtection",Pn[Pn.JsonpSupport=4]="JsonpSupport",Pn[Pn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pn))();function Nu(i,t){return{\u0275kind:i,\u0275providers:t}}function T5(...i){const t=[Lu,U1,z1,{provide:W_,useExisting:z1},{provide:ax,useExisting:U1},{provide:Cp,useValue:S5,multi:!0},{provide:cx,useValue:!0},{provide:q1,useClass:E5}];for(const e of i)t.push(...e.\u0275providers);return function xt(i){return{\u0275providers:i}}(t)}const K1=new oe("LEGACY_INTERCEPTOR_FN");function A5({cookieName:i,headerName:t}){const e=[];return void 0!==i&&e.push({provide:G1,useValue:i}),void 0!==t&&e.push({provide:Y1,useValue:t}),Nu(Pn.CustomXsrfConfiguration,e)}let R5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[T5(Nu(Pn.LegacyInterceptors,[{provide:K1,useFactory:w5},{provide:Cp,useExisting:K1,multi:!0}]),A5({cookieName:$1,headerName:W1}))]}),i})();class Dp extends Ce{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}var K_=(()=>{return(i=K_||(K_={})).CENTRAL="CENTRAL",i.EDGE="EDGE",i.NONE="NONE",K_;var i})(),X_=(()=>{return(i=X_||(X_={})).FURTHEST_AWAY_FROM_ENTRY="FURTHEST_AWAY_FROM_ENTRY",i.NONE="NONE",X_;var i})();const X1={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Q_;const O5=new Uint8Array(16);function P5(){if(!Q_&&(Q_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q_(O5)}const Sr=[];for(let i=0;i<256;++i)Sr.push((i+256).toString(16).slice(1));const Z_=function F5(i,t,e){if(X1.randomUUID&&!t&&!i)return X1.randomUUID();const n=(i=i||{}).random||(i.rng||P5)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=n[r];return t}return function Q1(i,t=0){return(Sr[i[t+0]]+Sr[i[t+1]]+Sr[i[t+2]]+Sr[i[t+3]]+"-"+Sr[i[t+4]]+Sr[i[t+5]]+"-"+Sr[i[t+6]]+Sr[i[t+7]]+"-"+Sr[i[t+8]]+Sr[i[t+9]]+"-"+Sr[i[t+10]]+Sr[i[t+11]]+Sr[i[t+12]]+Sr[i[t+13]]+Sr[i[t+14]]+Sr[i[t+15]]).toLowerCase()}(n)};function Qa(i,t=2){if(null!=i)return("string"==typeof i||i instanceof String)&&(i=Number(i)),Number(i.toFixed(t))}class J_{constructor(t){this.nodeList=[],this.edgeList=[],t?this.loadFromJson(t):this.setDefaultValues()}get networkSettings(){return this._networkSettings}get documentMetadata(){return this._documentMetadata}getNodeById(t){return this.nodeList&&this.nodeList.length?this.nodeList.find(e=>e.uuid==t):null}loadFromJson(t){!t.nodes||!t._doc_metadata||(this.loadNetworkSettings(t),this.loadNodesFromJson(t?.nodes),this.loadEdgesFromJson(t?.edges),this.loadNetworkDocMetadataFromJson(t?._doc_metadata))}setDefaultValues(){this._networkSettings={entryNode:{set_random_entry_nodes:!1,random_entry_node_preference:K_.NONE,num_of_random_entry_nodes:0},highValueNode:{set_random_high_value_nodes:!1,random_high_value_node_preference:X_.NONE,num_of_random_high_value_nodes:0},vulnerability:{set_random_vulnerabilities:!1,node_vulnerability_upper_bound:1,node_vulnerability_lower_bound:0}},this._documentMetadata={uuid:Z_(),created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),name:"",description:"",author:"",locked:!1}}updateNetworkSettings(t){this._networkSettings=t}updateNetworkDocMetadata(t){!t||(this._documentMetadata={author:t.author?t.author:this._documentMetadata.author,created_at:t.created_at?t.created_at:this._documentMetadata.created_at,description:t.description?t.description:this._documentMetadata.description,locked:t.locked?t.locked:this._documentMetadata.locked,name:t.name?t.name:this._documentMetadata.name,updated_at:(new Date).toISOString(),uuid:t.uuid?t.uuid:this._documentMetadata.uuid})}loadNetworkSettings(t){this._networkSettings={entryNode:{set_random_entry_nodes:t?.set_random_entry_nodes,random_entry_node_preference:t?.random_entry_node_preference,num_of_random_entry_nodes:t?.num_of_random_entry_nodes},highValueNode:{set_random_high_value_nodes:t?.set_random_high_value_nodes,random_high_value_node_preference:t?.random_high_value_node_preference,num_of_random_high_value_nodes:t?.num_of_random_high_value_nodes},vulnerability:{set_random_vulnerabilities:t?.set_random_vulnerabilities,node_vulnerability_lower_bound:t?.node_vulnerability_lower_bound,node_vulnerability_upper_bound:t?.node_vulnerability_upper_bound}}}loadNodesFromJson(t={}){const e=Object.keys(t||{});!e?.length||e.forEach(n=>{this.nodeList.push({uuid:t[`${n}`]?.uuid,name:t[`${n}`]?.name,high_value_node:t[`${n}`]?.high_value_node,entry_node:t[`${n}`]?.entry_node,x_pos:Qa(t[`${n}`]?.x_pos,0),y_pos:Qa(t[`${n}`]?.y_pos,0),vulnerability:Qa(t[`${n}`]?.vulnerability)})})}loadEdgesFromJson(t){const e=Object.keys(t||{});!e?.length||e.forEach(n=>{Object.keys(t[`${n}`]?t[`${n}`]:{}).forEach(r=>this.addEgde({edgeId:Z_(),nodeA:n,nodeB:r}))})}loadNetworkDocMetadataFromJson(t){!t||(this._documentMetadata={uuid:t.uuid,created_at:t.created_at,updated_at:t.updatedAt?t.updated_at:(new Date).toISOString(),name:t.name,description:t.description,author:t.author,locked:t.locked})}addEgde(t){const e=this.nodeList.find(p=>p.uuid==t?.nodeA),n=this.nodeList.find(p=>p.uuid==t?.nodeB);if(!e||!n||e==n)return;const r=this.edgeList.find(p=>p.nodeA===e.uuid&&p.nodeB==n.uuid),o=this.edgeList.find(p=>p.nodeB===e.uuid&&p.nodeA==n.uuid);if(r||o)return;const d={edgeId:t?.edgeId?t.edgeId:Z_(),nodeA:e.uuid,nodeB:n.uuid};return this.edgeList.push(d),d}addNode(t,e,n,r){if(r||(r={uuid:Z_(),name:`node ${n}`,entry_node:!1,high_value_node:!1,x_pos:Qa(t,0),y_pos:Qa(e,0),vulnerability:0}),!r||!r.uuid||this.nodeList.find(d=>d.uuid===r.uuid))return;const o={uuid:r.uuid,name:r.name,high_value_node:r.high_value_node,entry_node:r.entry_node,x_pos:r.x_pos,y_pos:r.y_pos,vulnerability:r.vulnerability};return this.nodeList.push(o),o}editNodeDetails(t){const e=this.nodeList.findIndex(n=>n.uuid===t?.uuid);if(!(e<0))return this.nodeList[e]={uuid:t.uuid,name:t.name,entry_node:t.entry_node,high_value_node:t.high_value_node,vulnerability:Qa(t?.vulnerability,6),x_pos:Qa(t?.x_pos),y_pos:Qa(t?.y_pos)},this.nodeList[e]}removeEdge(t){this.edgeList=this.edgeList.filter(e=>t!=e.edgeId)}removeNode(t){this.nodeList=this.nodeList.filter(e=>t!=e.uuid),this.edgeList=this.edgeList.filter(e=>e.nodeA!=t&&e.nodeB!=t)}toJson(){return{set_random_entry_nodes:this._networkSettings.entryNode.set_random_entry_nodes,random_entry_node_preference:this._networkSettings.entryNode.random_entry_node_preference,num_of_random_entry_nodes:this._networkSettings.entryNode.num_of_random_entry_nodes,set_random_high_value_nodes:this._networkSettings.highValueNode.set_random_high_value_nodes,random_high_value_node_preference:this._networkSettings.highValueNode.random_high_value_node_preference,num_of_random_high_value_nodes:this._networkSettings.highValueNode.num_of_random_high_value_nodes,set_random_vulnerabilities:this._networkSettings.vulnerability.set_random_vulnerabilities,node_vulnerability_lower_bound:this._networkSettings.vulnerability.node_vulnerability_lower_bound,node_vulnerability_upper_bound:this._networkSettings.vulnerability.node_vulnerability_upper_bound,nodes:this.nodesToJson(),edges:this.edgesToJson(),_doc_metadata:this.docMetadataToJson()}}docMetadataToJson(){return{author:this._documentMetadata.author,created_at:this._documentMetadata.created_at?this._documentMetadata.created_at:(new Date).toISOString(),description:this._documentMetadata.description,locked:this._documentMetadata.locked,name:this._documentMetadata.name,updated_at:(new Date).toISOString(),uuid:this._documentMetadata.uuid}}nodesToJson(){const t={};return this.nodeList.forEach(e=>t[`${e.uuid}`]=e),t}edgesToJson(){const t={};return this.nodeList.forEach(e=>{const n=this.edgeList.filter(o=>o.nodeA==e.uuid||o.nodeB==e.uuid);if(!n||!n.length)return;const r={};n.forEach(o=>{o.nodeA!=e.uuid?r[`${o.nodeA}`]={}:r[`${o.nodeB}`]={}}),t[`${e.uuid}`]=r}),t}}var dx=Z(6864);class Za{constructor(t){this.nodeKey=t,this.CYTOSCAPE_GRAPH_PADDING=100,this._cy=dx(),this.cytoscapeInstanceUpdate=new Ce,this.doubleClickSubject=new Ce,this.singleClickSubject=new Ce,this.dragSubject=new Ce}get graphPadding(){return this.CYTOSCAPE_GRAPH_PADDING}get cy(){return this._cy}get cytoscapeInstance(){return this.cytoscapeInstanceUpdate.asObservable()}get doubleClickEvent(){return this.doubleClickSubject.asObservable()}get singleClickEvent(){return this.singleClickSubject.asObservable()}get dragEvent(){return this.dragSubject.asObservable()}init(t){this.renderElement=t,this.renderUpdate()}loadNetwork(t){!t||(this._cy.elements().remove(),t.nodeList.forEach(e=>this.createCytoscapeNode(e.x_pos,e.y_pos,e)),t.edgeList.forEach(e=>this.createCytoscapeEdge(e.edgeId,e.nodeA,e.nodeB)),this._cy.fit(null,this.CYTOSCAPE_GRAPH_PADDING))}renderUpdate(){this._cy=dx({headless:!1,container:this.renderElement,elements:[],style:this.nodeKey.map(t=>t.cytoscapeStyleSheet)}),this.cytoscapeInstanceUpdate.next(this._cy),dx.warnings(!1),this.listenToCanvasDoubleClick(),this.listenToSingleClick(),this.listenToDragEvent()}listenToDragEvent(){this._cy.on("drag",t=>{this.dragSubject.next(t)})}listenToCanvasDoubleClick(){this._cy.on("dbltap",t=>{this.doubleClickSubject.next(t)})}listenToSingleClick(){this._cy.bind("tap",t=>{this.singleClickSubject.next(t)})}resetView(){this.cy.resize(),this.cy.fit(null,this.CYTOSCAPE_GRAPH_PADDING)}createCytoscapeNode(t,e,n){this._cy.add({data:{id:n?.uuid,name:n?.name},position:{x:t,y:e}})}removeCytoscapeNode(t){const e=this._cy.$id(t);e.connectedEdges().remove(),e.remove()}updateCytoscapeNode(t){const e=this._cy.$id(t.uuid);e.position("x",Number(t.x_pos)),e.position("y",Number(t.y_pos)),Object.keys(t).forEach(r=>e.data(r,t[`${r}`]))}createCytoscapeEdge(t,e,n){this._cy.add({data:{id:t,source:e,target:n}})}removeCytoscapeEdge(t){this._cy.$id(t).remove()}selectNode(t){this._cy.nodes().unselect(),this._cy.$id(t).select(),this._cy.animation({zoom:2,center:{eles:`#${t}`},easing:"ease-out-circ"}).play()}}Za.\u0275fac=function(t){return new(t||Za)(ae(ix))},Za.\u0275prov=ze({token:Za,factory:Za.\u0275fac});class ko{constructor(t){this.cytoscapeService=t,this._network=new J_,this.nodeCount=0,this._networkSubject=new Dp(this._network),this._networkSettingsSubject=new Dp(this._network?.networkSettings)}get networkObservable(){return this._networkSubject.asObservable()}get networkSettingsObservable(){return this._networkSettingsSubject.asObservable()}loadNetwork(t){this.nodeCount=0,this._network=t,this.cytoscapeService.loadNetwork(t),this._networkSubject.next(this._network)}updateNetworkSettings(t){!t||(this._network.updateNetworkSettings(t),this.applyNetworkSettingsToNodes(t),this._networkSettingsSubject.next(t))}updateNetworkDocMetadata(t){!t||(this._network.updateNetworkDocMetadata(t),this._networkSubject.next(this._network))}applyNetworkSettingsToNodes(t){this._network.nodeList.forEach(e=>{this.editNodeDetails(e={uuid:e.uuid,name:e.name,x_pos:e.x_pos,y_pos:e.y_pos,vulnerability:t.vulnerability.set_random_vulnerabilities?t.vulnerability.node_vulnerability_lower_bound:e.vulnerability,entry_node:!t.entryNode.set_random_entry_nodes&&e.entry_node,high_value_node:!t.highValueNode.set_random_high_value_nodes&&e.high_value_node})})}addNode(t,e,n){const r=this._network.addNode(t,e,this.nodeCount,n);if(r)return this.nodeCount++,this.cytoscapeService.createCytoscapeNode(r.x_pos,r.y_pos,r),this._networkSubject.next(this._network),r}editNodeDetails(t){const e=this._network.editNodeDetails(t);if(e)return this.cytoscapeService.updateCytoscapeNode(e),this._networkSubject.next(this._network),e}removeItem(t){if(t)switch(t.type){case Do.EDGE:this.removeEdge(t.id);break;case Do.NODE:this.removeNode(t.id)}}removeNode(t){this._network.removeNode(t),this._networkSubject.next(this._network),this.cytoscapeService.removeCytoscapeNode(t)}getNodeById(t){return this._network.getNodeById(t)}addEdge(t){const e=this._network.addEgde(t);if(e)return this.cytoscapeService.createCytoscapeEdge(e.edgeId,e.nodeA,e.nodeB),this._networkSubject.next(this._network),e}removeEdge(t){this._network.removeEdge(t),this._networkSubject.next(this._network),this.cytoscapeService.removeCytoscapeEdge(t)}getNetworkJson(){return this._network.toJson()}}ko.\u0275fac=function(t){return new(t||ko)(ae(Za))},ko.\u0275prov=ze({token:ko,factory:ko.\u0275fac,providedIn:"root"});class Ys{constructor(t,e){this.networkService=t,this.cytoscapeService=e,this._selectedItem=null,this.selectedItemSubject=new Ce,this.dragSubject=new Ce,this.cytoscapeService.doubleClickEvent.subscribe(n=>this.handleDoubleClick(n)),this.cytoscapeService.singleClickEvent.subscribe(n=>this.handleSingleClick(n)),this.cytoscapeService.dragEvent.subscribe(n=>this.handleDrag(n))}get selectedItem(){return this.selectedItemSubject.asObservable()}get dragEvent(){return this.dragSubject.asObservable()}handleDoubleClick(t){!t||Array.isArray(t.target)||t.target.length||this.networkService.addNode(t.position.x,t.position.y)}handleSingleClick(t){if(t?.target?.isNode&&t?.target?.isNode()&&this.handleEdgeCreation(t),!(t&&t.target&&t.target.isNode&&t.target.isEdge))return this._selectedItem=null,void this.selectedItemSubject.next(this._selectedItem);this._selectedItem={id:t.target?.id(),type:t.target.isNode()?Do.NODE:Do.EDGE},this.selectedItemSubject.next(this._selectedItem)}handleEdgeCreation(t){if(this._selectedItem?.type==Do.NODE){if(!this.networkService.addEdge({edgeId:null,nodeA:this._selectedItem.id,nodeB:t.target?.id()}))return;this._selectedItem=null,this.selectedItemSubject.next(this._selectedItem)}}handleDrag(t){if(!t)return;const e=this.networkService.getNodeById(t?.target?.id());e.x_pos=Number(t.target.position().x.toFixed()),e.y_pos=Number(t.target.position().y.toFixed()),this.networkService.editNodeDetails(e),this.dragSubject.next({id:e.uuid,position:{x:e.x_pos,y:e.y_pos}})}setInputFocusStatus(t){this.inputFocus=t}keyInput(t){if(!this.inputFocus)switch(t.shiftKey&&this.handleShiftKeyInput(t),t.ctrlKey&&this.handleControlKeyInput(t),t.key){case"Delete":case"Backspace":this.deleteItem()}}handleShiftKeyInput(t){}handleControlKeyInput(t){}processNetworkSettingsChanges(t){const e={entryNode:{set_random_entry_nodes:"on"==t?.set_random_entry_nodes,num_of_random_entry_nodes:Number(t?.num_of_random_entry_nodes),random_entry_node_preference:t?.random_entry_node_preference},highValueNode:{set_random_high_value_nodes:"on"==t?.set_random_high_value_nodes,num_of_random_high_value_nodes:Number(t?.num_of_random_high_value_nodes),random_high_value_node_preference:t?.random_high_value_node_preference},vulnerability:{set_random_vulnerabilities:"on"==t?.set_random_vulnerabilities,node_vulnerability_upper_bound:Number(t?.node_vulnerability_upper_bound),node_vulnerability_lower_bound:Number(t?.node_vulnerability_lower_bound)}};this.networkService.updateNetworkSettings(e)}processNetworkMetadataChanges(t){this.networkService.updateNetworkDocMetadata({author:t?.author,description:t?.description,name:t?.name,uuid:t?._network_id})}processNodeSelected(t){this._selectedItem={id:t,type:Do.NODE},this.selectedItemSubject.next(this._selectedItem),this.cytoscapeService.selectNode(t)}processNodeDelete(t){this.networkService.removeItem({id:t,type:Do.NODE})}deleteItem(){this.networkService.removeItem(this._selectedItem)}resizeWindow(){this.cytoscapeService.resetView()}}function Qe(i){return null!=i&&"false"!=`${i}`}function tn(i,t=0){return function L5(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function kp(i){return Array.isArray(i)?i:[i]}function qn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Sn(i){return i instanceof qe?i.nativeElement:i}Ys.\u0275fac=function(t){return new(t||Ys)(ae(ko),ae(Za))},Ys.\u0275prov=ze({token:Ys,factory:Ys.\u0275fac,providedIn:"root"});const{isArray:N5}=Array;function ux(i){return ji(t=>function B5(i,t){return N5(t)?i(...t):i(t)}(i,t))}const V5=["addListener","removeListener"],H5=["addEventListener","removeEventListener"],z5=["on","off"];function Aa(i,t,e,n){if(J(e)&&(n=e,e=void 0),n)return Aa(i,t,e).pipe(ux(n));const[r,o]=function $5(i){return J(i.addEventListener)&&J(i.removeEventListener)}(i)?H5.map(d=>p=>i[d](t,p,e)):function j5(i){return J(i.addListener)&&J(i.removeListener)}(i)?V5.map(Z1(i,t)):function U5(i){return J(i.on)&&J(i.off)}(i)?z5.map(Z1(i,t)):[];if(!r&&ma(i))return Fa(d=>Aa(d,t,e))(or(i));if(!r)throw new TypeError("Invalid event target");return new vt(d=>{const p=(...g)=>d.next(1<g.length?g:g[0]);return r(p),()=>o(p)})}function Z1(i,t){return e=>n=>i[e](t,n)}const Mp={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Mp;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new fe(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=Mp;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=Mp;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0},J1=new class W5 extends rx{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class G5 extends nx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Mp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Mp.cancelAnimationFrame(e),t._scheduled=void 0)}});let hx,Y5=1;const ev={};function eT(i){return i in ev&&(delete ev[i],!0)}const q5={setImmediate(i){const t=Y5++;return ev[t]=!0,hx||(hx=Promise.resolve()),hx.then(()=>eT(t)&&i()),t},clearImmediate(i){eT(i)}},{setImmediate:K5,clearImmediate:X5}=q5,tv={setImmediate(...i){const{delegate:t}=tv;return(t?.setImmediate||K5)(...i)},clearImmediate(i){const{delegate:t}=tv;return(t?.clearImmediate||X5)(i)},delegate:void 0},mx=new class Z5 extends rx{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class Q5 extends nx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=tv.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(tv.clearImmediate(e),t._scheduled=void 0)}});function px(i=0,t,e=c5){let n=-1;return null!=t&&(ff(t)?e=t:n=t),new vt(r=>{let o=function e4(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function tT(i,t=wp){return function J5(i){return kn((t,e)=>{let n=!1,r=null,o=null,d=!1;const p=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const y=r;r=null,e.next(y)}d&&e.complete()},g=()=>{o=null,d&&e.complete()};t.subscribe(vn(e,y=>{n=!0,r=y,o||or(i(y)).subscribe(o=vn(e,p,g))},()=>{d=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>px(i,t))}function gt(i){return kn((t,e)=>{or(i).subscribe(vn(e,()=>e.complete(),ni)),!e.closed&&t.subscribe(e)})}let fx;try{fx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fx=!1}let Bu,gn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function iV(i){return i===_S}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(ae(c_))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iT=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nT(){if(Bu)return Bu;if("object"!=typeof document||!document)return Bu=new Set(iT),Bu;let i=document.createElement("input");return Bu=new Set(iT.filter(t=>(i.setAttribute("type",t),i.type===t))),Bu}let Ep,iv,cd,gx;function Mo(i){return function t4(){if(null==Ep&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ep=!0}))}finally{Ep=Ep||!1}return Ep}()?i:!!i.capture}function rT(){if(null==cd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cd=!1,cd;if("scrollBehavior"in document.documentElement.style)cd=!0;else{const i=Element.prototype.scrollTo;cd=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return cd}function Sp(){if("object"!=typeof document||!document)return 0;if(null==iv){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),iv=0,0===i.scrollLeft&&(i.scrollLeft=1,iv=0===i.scrollLeft?1:2),i.remove()}return iv}function _x(i){if(function n4(){if(null==gx){const i=typeof document<"u"?document.head:null;gx=!(!i||!i.createShadowRoot&&!i.attachShadow)}return gx}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function nv(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Jr(i){return i.composedPath?i.composedPath()[0]:i.target}function vx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const r4=new oe("cdk-dir-doc",{providedIn:"root",factory:function a4(){return ii(Ft)}}),o4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Kn=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new rt,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function s4(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?o4.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(ae(r4,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Vu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})(),Hu=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new Ce,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vt(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(tT(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Zr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(zi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Sn(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Aa(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(ae(ht),ae(gn),ae(Ft,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Tp=(()=>{class i{constructor(e,n,r,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new Ce,this._elementScrolled=new vt(d=>this.ngZone.runOutsideAngular(()=>Aa(this.elementRef.nativeElement,"scroll").pipe(gt(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&0!=Sp()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Sp()?e.left=e.right:1==Sp()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;rT()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:n:"end"==e&&(e=d?n:r),d&&2==Sp()?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:d&&1==Sp()?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(Hu),I(ht),I(Kn,8))},i.\u0275dir=re({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),zu=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new Ce,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(tT(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(ae(gn),ae(ht),ae(Ft,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Zo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})(),rv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[Vu,Zo,Vu,Zo]}),i})();function nn(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function sn(i){return i<=0?()=>Yi:kn((t,e)=>{let n=0;t.subscribe(vn(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function yx(i){return zi((t,e)=>i<=e)}function av(i,t=We){return i=i??C4,kn((e,n)=>{let r,o=!0;e.subscribe(vn(n,d=>{const p=t(d);(o||!i(r,p))&&(o=!1,r=p,n.next(d))}))})}function C4(i,t){return i===t}let oT=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),D4=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=Sn(e);return new vt(r=>{const d=this._observeElement(n).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new Ce,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(ae(oT))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),sT=(()=>{class i{constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new rt,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qe(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=tn(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Fu(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(I(D4),I(qe),I(ht))},i.\u0275dir=re({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),ov=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[oT]}),i})();const{isArray:k4}=Array,{getPrototypeOf:M4,prototype:E4,keys:S4}=Object;function lT(i){if(1===i.length){const t=i[0];if(k4(t))return{args:t,keys:null};if(function T4(i){return i&&"object"==typeof i&&M4(i)===E4}(t)){const e=S4(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}function cT(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function dT(i,t,e){i?Pa(e,i,t):t()}function sv(...i){return function R4(){return ds(1)}()(us(i,al(i)))}function Tn(...i){const t=al(i);return kn((e,n)=>{(t?sv(i,e,t):sv(i,e)).subscribe(n)})}const uT=new Set;let $u,O4=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):F4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function P4(i){if(!uT.has(i))try{$u||($u=document.createElement("style"),$u.setAttribute("type","text/css"),document.head.appendChild($u)),$u.sheet&&($u.sheet.insertRule(`@media ${i} {body{ }}`,0),uT.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(ae(gn))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function F4(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let L4=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Ce}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hT(kp(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=function I4(...i){const t=al(i),e=gf(i),{args:n,keys:r}=lT(i);if(0===n.length)return us([],t);const o=new vt(function A4(i,t,e=We){return n=>{dT(t,()=>{const{length:r}=i,o=new Array(r);let d=r,p=r;for(let g=0;g<r;g++)dT(t,()=>{const y=us(i[g],t);let C=!1;y.subscribe(vn(n,E=>{o[g]=E,C||(C=!0,p--),p||n.next(e(o.slice()))},()=>{--d||n.complete()}))},n)},n)}}(n,t,r?d=>cT(r,d):We));return e?o.pipe(ux(e)):o}(hT(kp(e)).map(d=>this._registerQuery(d).observable));return o=sv(o.pipe(sn(1)),o.pipe(yx(1),Fu(0))),o.pipe(ji(d=>{const p={matches:!1,breakpoints:{}};return d.forEach(({matches:g,query:y})=>{p.matches=p.matches||g,p.breakpoints[y]=g}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new vt(d=>{const p=g=>this._zone.run(()=>d.next(g));return n.addListener(p),()=>{n.removeListener(p)}}).pipe(Tn(n),ji(({matches:d})=>({query:e,matches:d})),gt(this._destroySubject)),mql:n};return this._queries.set(e,o),o}}return i.\u0275fac=function(e){return new(e||i)(ae(O4),ae(ht))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hT(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function lv(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const pT="cdk-describedby-message",cv="cdk-describedby-host";let wx=0,V4=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+wx++,this._document=e,this._id=ii(Iu)+"-"+wx++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const o=xx(n,r);"string"!=typeof n?(fT(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const o=xx(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof n){const d=this._messageRegistry.get(o);d&&0===d.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${cv}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(cv);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");fT(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(xx(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=lv(e,"aria-describedby").filter(r=>0!=r.indexOf(pT));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);(function N4(i,t,e){const n=lv(i,t);n.some(r=>r.trim()==e.trim())||(n.push(e.trim()),i.setAttribute(t,n.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(cv,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,function B4(i,t,e){const r=lv(i,t).filter(o=>o!=e.trim());r.length?i.setAttribute(t,r.join(" ")):i.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(cv)}_isElementDescribedByMessage(e,n){const r=lv(e,"aria-describedby"),o=this._messageRegistry.get(n),d=o&&o.messageElement.id;return!!d&&-1!=r.indexOf(d)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(gn))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function xx(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function fT(i,t){i.id||(i.id=`${pT}-${t}-${wx++}`)}class H4{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ce,this._typeaheadSubscription=fe.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ce,this.change=new Ce,t instanceof zs&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Xl(e=>this._pressedLetters.push(e)),Fu(t),zi(()=>this._pressedLetters.length>0),ji(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const o=(this._activeItemIndex+r)%n.length,d=n[o];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(o<d?o:d-1,-1);break}return;default:return void((r||nn(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof zs?this._items.toArray():this._items}}class Ip extends H4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ap=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function j4(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function z4(i){try{return i.frameElement}catch{return null}}(function X4(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===_T(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=_T(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function q4(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function K4(i){return!function $4(i){return function W4(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function U4(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function G4(i){return function Y4(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||gT(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(ae(gn))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gT(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function _T(i){if(!gT(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Q4{constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(sn(1)).subscribe(t)}}let dv=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new Q4(e,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(e){return new(e||i)(ae(Ap),ae(ht),ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function uv(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function hv(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Z4=new oe("cdk-input-modality-detector-options"),J4={ignoreKeys:[18,17,224,91,16]},Gu=Mo({passive:!0,capture:!0});let e3=(()=>{class i{constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Dp(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(p=>p===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Jr(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(uv(d)?"keyboard":"mouse"),this._mostRecentTarget=Jr(d))},this._onTouchstart=d=>{hv(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Jr(d))},this._options={...J4,...o},this.modalityDetected=this._modality.pipe(yx(1)),this.modalityChanged=this.modalityDetected.pipe(av()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gu),r.addEventListener("mousedown",this._onMousedown,Gu),r.addEventListener("touchstart",this._onTouchstart,Gu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gu),document.removeEventListener("mousedown",this._onMousedown,Gu),document.removeEventListener("touchstart",this._onTouchstart,Gu))}}return i.\u0275fac=function(e){return new(e||i)(ae(gn),ae(ht),ae(Ft),ae(Z4,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const n3=new oe("cdk-focus-monitor-default-options"),mv=Mo({passive:!0,capture:!0});let ha=(()=>{class i{constructor(e,n,r,o,d){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ce,this._rootNodeFocusAndBlurListener=p=>{for(let y=Jr(p);y;y=y.parentElement)"focus"===p.type?this._onFocus(p,y):this._onBlur(p,y)},this._document=o,this._detectionMode=d?.detectionMode||0}monitor(e,n=!1){const r=Sn(e);if(!this._platform.isBrowser||1!==r.nodeType)return Zr(null);const o=_x(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return n&&(d.checkChildren=!0),d.subject;const p={checkChildren:n,subject:new Ce,rootNode:o};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const n=Sn(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=Sn(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([p,g])=>this._originChanged(p,n,g)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=Jr(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,mv),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,mv)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mv),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mv),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let d=0;d<o.length;d++)if(o[d].contains(n))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(ae(ht),ae(gn),ae(e3),ae(Ft,8),ae(n3,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bT="cdk-high-contrast-black-on-white",yT="cdk-high-contrast-white-on-black",Cx="cdk-high-contrast-active";let wT=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ii(L4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Cx,bT,yT),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(Cx,bT):2===n&&e.add(Cx,yT)}}}return i.\u0275fac=function(e){return new(e||i)(ae(gn),ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Wu=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(ae(wT))},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[ov]}),i})();const a3=new oe("mat-sanity-checks",{providedIn:"root",factory:function r3(){return!0}});let wt=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!vx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(ae(wT),ae(a3,8),ae(Ft))},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[Vu,Vu]}),i})();function Yu(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Qe(t)}}}function qu(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function tc(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qe(t)}}}function ic(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?tn(e):this.defaultTabIndex}}}function DT(i){return class extends i{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const o3=new oe("MAT_DATE_LOCALE",{providedIn:"root",factory:function s3(){return ii(Ko)}});class es{constructor(){this._localeChanges=new Ce,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const Mx=new oe("mat-date-formats"),l3=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ex(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let c3=(()=>{class i extends es{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Ex(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ex(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Ex(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth(),o}today(){return new Date}parse(e,n){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(l3.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,r){const o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}}return i.\u0275fac=function(e){return new(e||i)(ae(o3,8),ae(gn))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();const d3={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let u3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[{provide:es,useClass:c3}]}),i})(),h3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[{provide:Mx,useValue:d3}],imports:[u3]}),i})(),pv=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,wt]}),i})();class m3{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const MT=Mo({passive:!0,capture:!0});class p3{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Jr(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const d=o.get(n);d?d.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,MT)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);!o||(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,MT)))}}const ET={enterDuration:225,exitDuration:150},ST=Mo({passive:!0,capture:!0}),TT=["mousedown","touchstart"],IT=["mouseup","mouseleave","touchend","touchcancel"];class Ku{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Sn(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...ET,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=n.radius||function g3(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),p=t-r.left,g=e-r.top,y=o.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=p-d+"px",C.style.top=g-d+"px",C.style.height=2*d+"px",C.style.width=2*d+"px",null!=n.color&&(C.style.backgroundColor=n.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C);const E=window.getComputedStyle(C),B=E.transitionDuration,Y="none"===E.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,X=new m3(this,C,n,Y);C.style.transform="scale3d(1, 1, 1)",X.state=0,n.persistent||(this._mostRecentTransientRipple=X);let ie=null;return!Y&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ue=()=>this._finishRippleTransition(X),He=()=>this._destroyRipple(X);C.addEventListener("transitionend",ue),C.addEventListener("transitioncancel",He),ie={onTransitionEnd:ue,onTransitionCancel:He}}),this._activeRipples.set(X,ie),(Y||!y)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...ET,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Sn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,TT.forEach(n=>{Ku._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{IT.forEach(e=>{this._triggerElement.addEventListener(e,this,ST)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=uv(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!hv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(TT.forEach(e=>Ku._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&IT.forEach(e=>t.removeEventListener(e,this,ST)))}}Ku._eventManager=new p3;const Xu=new oe("mat-ripple-global-options");let ea=(()=>{class i{constructor(e,n,r,o,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Ku(this,n,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(ht),I(gn),I(Xu,8),I(En,8))},i.\u0275dir=re({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&St("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Ra=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,wt]}),i})(),AT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt]}),i})(),fv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[Ra,pn,wt,AT]}),i})();function Qu(i){return ji(()=>i)}const gv=["*"],y3=["content"];function w3(i,t){if(1&i){const e=Cu();De(0,"div",2),Ct("click",function(){return ya(e),Ir(di()._onBackdropClicked())}),Fe()}2&i&&St("mat-drawer-shown",di()._isShowingBackdrop())}function x3(i,t){1&i&&(De(0,"mat-drawer-content"),ct(1,2),Fe())}const C3=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],D3=["mat-drawer","mat-drawer-content","*"];function k3(i,t){if(1&i){const e=Cu();De(0,"div",2),Ct("click",function(){return ya(e),Ir(di()._onBackdropClicked())}),Fe()}2&i&&St("mat-drawer-shown",di()._isShowingBackdrop())}function M3(i,t){1&i&&(De(0,"mat-sidenav-content"),ct(1,2),Fe())}const E3=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],S3=["mat-sidenav","mat-sidenav-content","*"],RT={transformDrawer:fn("transform",[si("open, open-instant",dt({transform:"none",visibility:"visible"})),si("void",dt({"box-shadow":"none",visibility:"hidden"})),ui("void => open-instant",pi("0ms")),ui("void <=> open, open-instant => void",pi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},I3=new oe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function A3(){return!1}}),Sx=new oe("MAT_DRAWER_CONTAINER");let _v=(()=>{class i extends Tp{constructor(e,n,r,o,d){super(r,o,d),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(I(Ti),I(ti(()=>PT)),I(qe),I(Hu),I(ht))},i.\u0275cmp=Mt({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&Sa("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[Ve([{provide:Tp,useExisting:i}]),Te],ngContentSelectors:gv,decls:1,vars:0,template:function(e,n){1&e&&(Di(),ct(0))},encapsulation:2,changeDetection:0}),i})(),OT=(()=>{class i{constructor(e,n,r,o,d,p,g,y){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=o,this._ngZone=d,this._interactivityChecker=p,this._doc=g,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ce,this._animationEnd=new Ce,this._animationState="void",this.openedChange=new rt(!0),this._openedStream=this.openedChange.pipe(zi(C=>C),ji(()=>{})),this.openedStart=this._animationStarted.pipe(zi(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),Qu(void 0)),this._closedStream=this.openedChange.pipe(zi(C=>!C),ji(()=>{})),this.closedStart=this._animationStarted.pipe(zi(C=>C.fromState!==C.toState&&"void"===C.toState),Qu(void 0)),this._destroyed=new Ce,this.onPositionChanged=new rt,this._modeChanged=new Ce,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Aa(this._elementRef.nativeElement,"keydown").pipe(zi(C=>27===C.keyCode&&!this.disableClose&&!nn(C)),gt(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe(av((C,E)=>C.fromState===E.fromState&&C.toState===E.toState)).subscribe(C=>{const{fromState:E,toState:P}=C;(0===P.indexOf("open")&&"void"===E||"void"===P&&0===E.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Qe(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Qe(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Qe(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,n,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(sn(1)).subscribe(d=>o(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,r=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(dv),I(ha),I(gn),I(ht),I(Ap),I(Ft,8),I(Sx,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&oi(y3,5),2&e){let r;$e(r=Ge())&&(n._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&f0("@transform.start",function(o){return n._animationStarted.next(o)})("@transform.done",function(o){return n._animationEnd.next(o)}),2&e&&(Et("align",null),w0("@transform",n._animationState),St("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:gv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(Di(),De(0,"div",0,1),ct(2),Fe())},dependencies:[Tp],encapsulation:2,data:{animation:[RT.transformDrawer]},changeDetection:0}),i})(),PT=(()=>{class i{constructor(e,n,r,o,d,p=!1,g){this._dir=e,this._element=n,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=g,this._drawers=new zs,this.backdropClick=new rt,this._destroyed=new Ce,this._doCheckSubject=new Ce,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ce,e&&e.change.pipe(gt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe(gt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Qe(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Qe(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Tn(this._allDrawers),gt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Tn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Fu(10),gt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,e-=r}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(zi(n=>n.fromState!==n.toState),gt(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(gt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(gt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(sn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(gt(bn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(I(Kn,8),I(qe),I(ht),I(Ti),I(zu),I(I3),I(En,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,r){if(1&e&&(Kt(r,_v,5),Kt(r,OT,5)),2&e){let o;$e(o=Ge())&&(n._content=o.first),$e(o=Ge())&&(n._allDrawers=o)}},viewQuery:function(e,n){if(1&e&&oi(_v,5),2&e){let r;$e(r=Ge())&&(n._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&St("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ve([{provide:Sx,useExisting:i}])],ngContentSelectors:D3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(Di(C3),bt(0,w3,1,2,"div",0),ct(1),ct(2,1),bt(3,x3,2,0,"mat-drawer-content",1)),2&e&&(je("ngIf",n.hasBackdrop),tt(3),je("ngIf",!n._content))},dependencies:[ua,_v],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),Tx=(()=>{class i extends _v{constructor(e,n,r,o,d){super(e,n,r,o,d)}}return i.\u0275fac=function(e){return new(e||i)(I(Ti),I(ti(()=>LT)),I(qe),I(Hu),I(ht))},i.\u0275cmp=Mt({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,n){2&e&&Sa("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[Ve([{provide:Tp,useExisting:i}]),Te],ngContentSelectors:gv,decls:1,vars:0,template:function(e,n){1&e&&(Di(),ct(0))},encapsulation:2,changeDetection:0}),i})(),FT=(()=>{class i extends OT{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Qe(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=tn(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=tn(e)}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=At(i)))(n||i)}}(),i.\u0275cmp=Mt({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,n){2&e&&(Et("align",null),Sa("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),St("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Te],ngContentSelectors:gv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(Di(),De(0,"div",0,1),ct(2),Fe())},dependencies:[Tp],encapsulation:2,data:{animation:[RT.transformDrawer]},changeDetection:0}),i})(),LT=(()=>{class i extends PT{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=At(i)))(n||i)}}(),i.\u0275cmp=Mt({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(e,n,r){if(1&e&&(Kt(r,Tx,5),Kt(r,FT,5)),2&e){let o;$e(o=Ge())&&(n._content=o.first),$e(o=Ge())&&(n._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,n){2&e&&St("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ve([{provide:Sx,useExisting:i}]),Te],ngContentSelectors:S3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(Di(E3),bt(0,k3,1,2,"div",0),ct(1),ct(2,1),bt(3,M3,2,0,"mat-sidenav-content",1)),2&e&&(je("ngIf",n.hasBackdrop),tt(3),je("ngIf",!n._content))},dependencies:[ua,Tx],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),R3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[pn,wt,Zo,Zo,wt]}),i})();function NT(...i){const t=gf(i),{args:e,keys:n}=lT(i),r=new vt(o=>{const{length:d}=e;if(!d)return void o.complete();const p=new Array(d);let g=d,y=d;for(let C=0;C<d;C++){let E=!1;or(e[C]).subscribe(vn(o,P=>{E||(E=!0,y--),p[C]=P},()=>g--,void 0,()=>{(!g||!E)&&(y||o.next(n?cT(n,p):p),o.complete())}))}});return t?r.pipe(ux(t)):r}let BT=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(I(Fs),I(qe))},i.\u0275dir=re({type:i}),i})(),ud=(()=>{class i extends BT{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=At(i)))(n||i)}}(),i.\u0275dir=re({type:i,features:[Te]}),i})();const Xn=new oe("NgValueAccessor"),P3={provide:Xn,useExisting:ti(()=>vv),multi:!0},L3=new oe("CompositionEventMode");let vv=(()=>{class i extends BT{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function F3(){const i=Xo()?Xo().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(I(Fs),I(qe),I(L3,8))},i.\u0275dir=re({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&Ct("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[Ve([P3]),Te]}),i})();function nc(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function HT(i){return null!=i&&"number"==typeof i.length}const ar=new oe("NgValidators"),rc=new oe("NgAsyncValidators"),B3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ks{static min(t){return function zT(i){return t=>{if(nc(t.value)||nc(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function jT(i){return t=>{if(nc(t.value)||nc(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function UT(i){return nc(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function $T(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function GT(i){return nc(i.value)||B3.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function WT(i){return t=>nc(t.value)||!HT(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function YT(i){return t=>HT(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function qT(i){if(!i)return bv;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(nc(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return eI(t)}static composeAsync(t){return tI(t)}}function bv(i){return null}function KT(i){return null!=i}function XT(i){return Zg(i)?us(i):i}function QT(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ZT(i,t){return t.map(e=>e(i))}function JT(i){return i.map(t=>function V3(i){return!i.validate}(t)?t:e=>t.validate(e))}function eI(i){if(!i)return null;const t=i.filter(KT);return 0==t.length?null:function(e){return QT(ZT(e,t))}}function Ix(i){return null!=i?eI(JT(i)):null}function tI(i){if(!i)return null;const t=i.filter(KT);return 0==t.length?null:function(e){return NT(ZT(e,t).map(XT)).pipe(ji(QT))}}function Ax(i){return null!=i?tI(JT(i)):null}function iI(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function nI(i){return i._rawValidators}function rI(i){return i._rawAsyncValidators}function Rx(i){return i?Array.isArray(i)?i:[i]:[]}function yv(i,t){return Array.isArray(i)?i.includes(t):i===t}function aI(i,t){const e=Rx(t);return Rx(i).forEach(r=>{yv(e,r)||e.push(r)}),e}function oI(i,t){return Rx(t).filter(e=>!yv(i,e))}class sI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ix(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ax(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ta extends sI{get formDirective(){return null}get path(){return null}}class ts extends sI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cI=(()=>{class i extends lI{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(I(ts,2))},i.\u0275dir=re({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&St("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[Te]}),i})(),dI=(()=>{class i extends lI{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(I(ta,10))},i.\u0275dir=re({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&St("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[Te]}),i})();const Op="VALID",xv="INVALID",Zu="PENDING",Pp="DISABLED";function Lx(i){return(Cv(i)?i.validators:i)||null}function Nx(i,t){return(Cv(t)?t.asyncValidators:i)||null}function Cv(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function hI(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new Oe(1e3,"");if(!n[e])throw new Oe(1001,"")}function mI(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new Oe(1002,"")})}class Dv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Op}get invalid(){return this.status===xv}get pending(){return this.status==Zu}get disabled(){return this.status===Pp}get enabled(){return this.status!==Pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(aI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(aI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oI(t,this._rawAsyncValidators))}hasValidator(t){return yv(this._rawValidators,t)}hasAsyncValidator(t){return yv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Zu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Op,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Op||this.status===Zu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pp:Op}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Zu,this._hasOwnPendingAsyncValidator=!0;const e=XT(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Pp:this.errors?xv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zu)?Zu:this._anyControlsHaveStatus(xv)?xv:Op}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function W3(i){return Array.isArray(i)?Ix(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Y3(i){return Array.isArray(i)?Ax(i):i||null}(this._rawAsyncValidators)}}class Fp extends Dv{constructor(t,e,n){super(Lx(e),Nx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){mI(this,0,t),Object.keys(t).forEach(n=>{hI(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class pI extends Fp{}const Lp=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>Bx}),Bx="always";function Np(i,t,e=Bx){Vx(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function K3(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&fI(i,t)})}(i,t),function Q3(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function X3(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&fI(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function q3(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Mv(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Sv(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Ev(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Vx(i,t){const e=nI(i);null!==t.validator?i.setValidators(iI(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=rI(i);null!==t.asyncValidator?i.setAsyncValidators(iI(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();Ev(t._rawValidators,r),Ev(t._rawAsyncValidators,r)}function Sv(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=nI(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(null!==t.asyncValidator){const r=rI(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}const n=()=>{};return Ev(t._rawValidators,n),Ev(t._rawAsyncValidators,n),e}function fI(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function gI(i,t){Vx(i,t)}function _I(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const n8={provide:ta,useExisting:ti(()=>Vp)},Bp=(()=>Promise.resolve())();let Vp=(()=>{class i extends ta{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rt,this.form=new Fp({},Ix(e),Ax(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bp.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Np(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bp.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Bp.then(()=>{const n=this._findContainer(e.path),r=new Fp({});gI(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bp.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Bp.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,_I(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(I(ar,10),I(rc,10),I(Lp,8))},i.\u0275dir=re({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&Ct("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ve([n8]),Te]}),i})();function vI(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function bI(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const Ja=class extends Dv{constructor(t=null,e,n){super(Lx(e),Nx(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cv(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=bI(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){bI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let DI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),MI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();const Ux=new oe("NgModelWithFormControlWarning"),h8={provide:ta,useExisting:ti(()=>Ju)};let Ju=(()=>{class i extends ta{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Np(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Mv(e.control||null,e,!1),function t8(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,_I(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(Mv(n||null,e),(i=>i instanceof Ja)(r)&&(Np(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);gI(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function Z3(i,t){return Sv(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vx(this.form,this),this._oldForm&&Sv(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(I(ar,10),I(rc,10),I(Lp,8))},i.\u0275dir=re({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&Ct("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ve([h8]),Te,zt]}),i})();const f8={provide:ts,useExisting:ti(()=>Wx)};let Wx=(()=>{class i extends ts{constructor(e,n,r,o,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new rt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function jx(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===vv?e=o:function e8(i){return Object.getPrototypeOf(i.constructor)===ud}(o)?n=o:r=o}),r||n||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function zx(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function kv(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(I(ta,13),I(ar,10),I(rc,10),I(Xn,10),I(Ux,8))},i.\u0275dir=re({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ve([f8]),Te,zt]}),i})(),I8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[MI]}),i})(),zI=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ux,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Lp,useValue:e.callSetDisabledState??Bx}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[I8]}),i})();class jI extends Dv{constructor(t,e,n){super(Lx(e),Nx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){mI(this,0,t),t.forEach((n,r)=>{hI(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function UI(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let A8=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new i;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let o={};return UI(n)?o=n:null!==n&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new Fp(r,o)}record(e,n=null){const r=this._reduceControls(e);return new pI(r,n)}control(e,n,r){let o={};return this.useNonNullable?(UI(n)?o=n:(o.validators=n,o.asyncValidators=r),new Ja(e,{...o,nonNullable:!0})):new Ja(e,n,r)}array(e,n,r){const o=e.map(d=>this._createControl(d));return new jI(o,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){return e instanceof Ja||e instanceof Dv?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:zI}),i})();class md{constructor(t,e,n){this.networkService=t,this.interactionService=e,this.formBuilder=n,this.nodePropertiesFormGroupSubject=new Ce,this.currentNode=null,this.networkService.networkSettingsObservable.subscribe(r=>{this._networkSettings=r,this._nodePropertiesFormGroup&&(r.entryNode.set_random_entry_nodes&&this._nodePropertiesFormGroup.get("entry_node")?.setValue(!1),r.highValueNode.set_random_high_value_nodes&&this._nodePropertiesFormGroup.get("high_value_node")?.setValue(!1),r.vulnerability.set_random_vulnerabilities&&this._nodePropertiesFormGroup.get("vulnerability")?.setValue(r.vulnerability.node_vulnerability_lower_bound.toFixed(2)),this.loadDetails(this.networkService.getNodeById(this.currentNode?.uuid)))}),this.interactionService.dragEvent.subscribe(r=>{this.updateNodePositions(r)})}randomEntryNodesOnReset(){return this._networkSettings?.entryNode.set_random_entry_nodes}randomHighValueNodesOnReset(){return this._networkSettings?.highValueNode.set_random_high_value_nodes}randomVulnerabilitiesOnReset(){return this._networkSettings?.vulnerability.set_random_vulnerabilities}loadDetails(t){!t||this.currentNode?.uuid==t?.uuid||(this.currentNode=t,this._nodePropertiesFormGroup=this.formBuilder.group({uuid:new Ja({value:t.uuid,disabled:!0}),name:new Ja(t.name,Ks.required),vulnerability:new Ja(t.vulnerability,Ks.required),x_pos:new Ja(t.x_pos,Ks.required),y_pos:new Ja(t.y_pos,Ks.required),high_value_node:new Ja(t.high_value_node,Ks.required),entry_node:new Ja(t.entry_node,Ks.required)}),this.nodePropertiesFormGroupSubject.next(this._nodePropertiesFormGroup))}updateNodeProperties(t){this.networkService.editNodeDetails(t)}updateNodePositions(t){!t||t.id!=this.currentNode?.uuid||(this._nodePropertiesFormGroup.get("x_pos").setValue(Number.parseFloat(t.position.x.toFixed())),this._nodePropertiesFormGroup.get("y_pos").setValue(Number.parseFloat(t.position.y.toFixed())))}}md.\u0275fac=function(t){return new(t||md)(ae(ko),ae(Ys),ae(A8))},md.\u0275prov=ze({token:md,factory:md.\u0275fac});const R8=["mat-button",""],O8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],P8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],L8=["mat-icon-button",""],N8=["*"],B8=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],V8=qu(Yu(tc(class{constructor(i){this._elementRef=i}})));let $I=(()=>{class i extends V8{constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=ii(ha),this._isFab=!1;const d=e.nativeElement.classList;for(const p of B8)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(g=>{d.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return i.\u0275fac=function(e){Ul()},i.\u0275dir=re({type:i,viewQuery:function(e,n){if(1&e&&oi(ea,5),2&e){let r;$e(r=Ge())&&(n.ripple=r.first)}},features:[Te]}),i})(),z8=(()=>{class i extends $I{constructor(e,n,r,o){super(e,n,r,o)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(gn),I(ht),I(En,8))},i.\u0275cmp=Mt({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(Et("disabled",n.disabled||null),St("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Te],attrs:R8,ngContentSelectors:P8,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(Di(O8),It(0,"span",0),ct(1),De(2,"span",1),ct(3,1),Fe(),ct(4,2),It(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(St("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),tt(6),je("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[ea],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),GI=(()=>{class i extends $I{constructor(e,n,r,o){super(e,n,r,o)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(gn),I(ht),I(En,8))},i.\u0275cmp=Mt({type:i,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(Et("disabled",n.disabled||null),St("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Te],attrs:L8,ngContentSelectors:N8,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(Di(),It(0,"span",0),ct(1),It(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(tt(3),je("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[ea],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})(),Iv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,Ra,wt]}),i})();const U8=["*"],$8=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],G8=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],W8=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Y8=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],q8=new oe("MAT_CARD_CONFIG");let WI=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}}return i.\u0275fac=function(e){return new(e||i)(I(q8,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,n){2&e&&St("mat-mdc-card-outlined","outlined"===n.appearance)("mdc-card--outlined","outlined"===n.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:U8,decls:1,vars:0,template:function(e,n){1&e&&(Di(),ct(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),i})(),YI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),i})(),qI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Mt({type:i,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],ngContentSelectors:G8,decls:4,vars:0,template:function(e,n){1&e&&(Di($8),De(0,"div"),ct(1),Fe(),ct(2,1),ct(3,2))},encapsulation:2,changeDetection:0}),i})(),KI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),i})(),XI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Mt({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Y8,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,n){1&e&&(Di(W8),ct(0),De(1,"div",0),ct(2,1),Fe(),ct(3,2))},encapsulation:2,changeDetection:0}),i})(),rj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,pn,wt]}),i})();const QI=Mo({passive:!0});let aj=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Yi;const n=Sn(e),r=this._monitoredElements.get(n);if(r)return r.subject;const o=new Ce,d="cdk-text-field-autofilled",p=g=>{"cdk-text-field-autofill-start"!==g.animationName||n.classList.contains(d)?"cdk-text-field-autofill-end"===g.animationName&&n.classList.contains(d)&&(n.classList.remove(d),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(n.classList.add(d),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",p,QI),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",p,QI)}}),o}stopMonitoring(e){const n=Sn(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(e){return new(e||i)(ae(gn),ae(ht))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();const sj=["matFormFieldNotchedOutline",""],lj=["*"],cj=["textField"],dj=["iconPrefixContainer"],uj=["textPrefixContainer"];function hj(i,t){1&i&&It(0,"span",19)}function mj(i,t){if(1&i){const e=Cu();De(0,"label",17),Ct("cdkObserveContent",function(){return ya(e),Ir(di(2)._refreshOutlineNotchWidth())}),ct(1,1),bt(2,hj,1,0,"span",18),Fe()}if(2&i){const e=di(2);je("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),Et("for",e._control.id)("aria-owns",e._control.id),tt(2),je("ngIf",!e.hideRequiredMarker&&e._control.required)}}function pj(i,t){1&i&&bt(0,mj,3,6,"label",16),2&i&&je("ngIf",di()._hasFloatingLabel())}function fj(i,t){1&i&&It(0,"div",20)}function gj(i,t){}function _j(i,t){1&i&&bt(0,gj,0,0,"ng-template",22),2&i&&(di(2),je("ngTemplateOutlet",Kr(1)))}function vj(i,t){if(1&i&&(De(0,"div",21),bt(1,_j,1,1,"ng-template",9),Fe()),2&i){const e=di();je("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),tt(1),je("ngIf",!e._forceDisplayInfixLabel())}}function bj(i,t){1&i&&(De(0,"div",23,24),ct(2,2),Fe())}function yj(i,t){1&i&&(De(0,"div",25,26),ct(2,3),Fe())}function wj(i,t){}function xj(i,t){1&i&&bt(0,wj,0,0,"ng-template",22),2&i&&(di(),je("ngTemplateOutlet",Kr(1)))}function Cj(i,t){1&i&&(De(0,"div",27),ct(1,4),Fe())}function Dj(i,t){1&i&&(De(0,"div",28),ct(1,5),Fe())}function kj(i,t){1&i&&It(0,"div",29)}function Mj(i,t){1&i&&(De(0,"div",30),ct(1,6),Fe()),2&i&&je("@transitionMessages",di()._subscriptAnimationState)}function Ej(i,t){if(1&i&&(De(0,"mat-hint",34),hn(1),Fe()),2&i){const e=di(2);je("id",e._hintLabelId),tt(1),Gl(e.hintLabel)}}function Sj(i,t){if(1&i&&(De(0,"div",31),bt(1,Ej,2,2,"mat-hint",32),ct(2,7),It(3,"div",33),ct(4,8),Fe()),2&i){const e=di();je("@transitionMessages",e._subscriptAnimationState),tt(1),je("ngIf",e.hintLabel)}}const Tj=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ij=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Xx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["mat-label"]]}),i})();const Aj=new oe("MatError");let Rj=0,ZI=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+Rj++}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,n){2&e&&(Fr("id",n.id),Et("align",null),St("mat-mdc-form-field-hint-end","end"===n.align))},inputs:{align:"align",id:"id"}}),i})();const Oj=new oe("MatPrefix"),Pj=new oe("MatSuffix");let JI=(()=>{class i{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function Fj(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(I(qe))},i.\u0275dir=re({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,n){2&e&&St("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating"}}),i})();const eA="mdc-line-ripple--active",Av="mdc-line-ripple--deactivating";let tA=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,d=o.contains(Av);"opacity"===r.propertyName&&d&&o.remove(eA,Av)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Av),e.add(eA)}deactivate(){this._elementRef.nativeElement.classList.add(Av)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(ht))},i.\u0275dir=re({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),i})(),iA=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(ht))},i.\u0275cmp=Mt({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,n){2&e&&St("mdc-notched-outline--notched",n.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:sj,ngContentSelectors:lj,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,n){1&e&&(Di(),It(0,"div",0),De(1,"div",1),ct(2),Fe(),It(3,"div",2)),2&e&&(tt(1),Sa("width",n._getNotchWidth()))},encapsulation:2,changeDetection:0}),i})();const Lj={transitionMessages:fn("transitionMessages",[si("enter",dt({opacity:1,transform:"translateY(0%)"})),ui("void => enter",[dt({opacity:0,transform:"translateY(-5px)"}),pi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Qx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i}),i})();const Hp=new oe("MatFormField"),Nj=new oe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let nA=0,Hj=(()=>{class i{constructor(e,n,r,o,d,p,g,y){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=o,this._platform=d,this._defaults=p,this._animationMode=g,this._document=y,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+nA++,this._hintLabelId="mat-mdc-hint-"+nA++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Ce,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=Boolean(p?.hideRequiredMarker),p.color&&(this.color=p.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Qe(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(gt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),bn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(gt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(Ti),I(ht),I(Kn),I(gn),I(Nj,8),I(En,8),I(Ft))},i.\u0275cmp=Mt({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,r){if(1&e&&(Kt(r,Xx,5),Kt(r,Xx,7),Kt(r,Qx,5),Kt(r,Oj,5),Kt(r,Pj,5),Kt(r,Aj,5),Kt(r,ZI,5)),2&e){let o;$e(o=Ge())&&(n._labelChildNonStatic=o.first),$e(o=Ge())&&(n._labelChildStatic=o.first),$e(o=Ge())&&(n._formFieldControl=o.first),$e(o=Ge())&&(n._prefixChildren=o),$e(o=Ge())&&(n._suffixChildren=o),$e(o=Ge())&&(n._errorChildren=o),$e(o=Ge())&&(n._hintChildren=o)}},viewQuery:function(e,n){if(1&e&&(oi(cj,5),oi(dj,5),oi(uj,5),oi(JI,5),oi(iA,5),oi(tA,5)),2&e){let r;$e(r=Ge())&&(n._textField=r.first),$e(r=Ge())&&(n._iconPrefixContainer=r.first),$e(r=Ge())&&(n._textPrefixContainer=r.first),$e(r=Ge())&&(n._floatingLabel=r.first),$e(r=Ge())&&(n._notchedOutline=r.first),$e(r=Ge())&&(n._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,n){2&e&&St("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===n._animationMode)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary","accent"!==n.color&&"warn"!==n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ve([{provide:Hp,useExisting:i}])],ngContentSelectors:Ij,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,n){1&e&&(Di(Tj),bt(0,pj,1,1,"ng-template",null,0,nd),De(2,"div",1,2),Ct("click",function(o){return n._control.onContainerClick&&n._control.onContainerClick(o)}),bt(4,fj,1,0,"div",3),De(5,"div",4),bt(6,vj,2,3,"div",5),bt(7,bj,3,0,"div",6),bt(8,yj,3,0,"div",7),De(9,"div",8),bt(10,xj,1,1,"ng-template",9),ct(11),Fe(),bt(12,Cj,2,0,"div",10),bt(13,Dj,2,0,"div",11),Fe(),bt(14,kj,1,0,"div",12),Fe(),De(15,"div",13),bt(16,Mj,2,1,"div",14),bt(17,Sj,5,2,"div",15),Fe()),2&e&&(tt(2),St("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),tt(2),je("ngIf",!n._hasOutline()&&!n._control.disabled),tt(2),je("ngIf",n._hasOutline()),tt(1),je("ngIf",n._hasIconPrefix),tt(1),je("ngIf",n._hasTextPrefix),tt(2),je("ngIf",!n._hasOutline()||n._forceDisplayInfixLabel()),tt(2),je("ngIf",n._hasTextSuffix),tt(1),je("ngIf",n._hasIconSuffix),tt(1),je("ngIf",!n._hasOutline()),tt(1),St("mat-mdc-form-field-subscript-dynamic-size","dynamic"===n.subscriptSizing),je("ngSwitch",n._getDisplayedMessages()),tt(1),je("ngSwitchCase","error"),tt(1),je("ngSwitchCase","hint"))},dependencies:[ua,_w,dp,gw,sT,ZI,JI,iA,tA],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Lj.transitionMessages]},changeDetection:0}),i})(),Zx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,pn,ov,wt]}),i})();const oA=new oe("MAT_INPUT_VALUE_ACCESSOR"),zj=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jj=0;const Uj=DT(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new Ce}});let $j=(()=>{class i extends Uj{constructor(e,n,r,o,d,p,g,y,C,E){super(p,o,d,r),this._elementRef=e,this._platform=n,this._autofillMonitor=y,this._formField=E,this._uid="mat-input-"+jj++,this.focused=!1,this.stateChanges=new Ce,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Y=>nT().has(Y)),this._iOSKeyupListener=Y=>{const X=Y.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,B=P.nodeName.toLowerCase();this._inputValueAccessor=g||P,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(e){this._disabled=Qe(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ks.required)??!1}set required(e){this._required=Qe(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&nT().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Qe(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){zj.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(gn),I(ts,10),I(Vp,8),I(Ju,8),I(pv),I(oA,10),I(aj),I(ht),I(Hp,8))},i.\u0275dir=re({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,n){1&e&&Ct("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&e&&(Fr("id",n.id)("disabled",n.disabled)("required",n.required),Et("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),St("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ve([{provide:Qx,useExisting:i}]),Te,zt]}),i})(),Gj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,Zx,Zx,oj,wt]}),i})();const Wj=["knob"],Yj=["valueIndicatorContainer"];function qj(i,t){if(1&i&&(De(0,"div",4,5)(2,"div",6)(3,"span",7),hn(4),Fe()()()),2&i){const e=di();tt(4),Gl(e.valueIndicatorText)}}const Kj=["trackActive"];function Xj(i,t){if(1&i&&It(0,"div"),2&i){const e=t.$implicit,n=t.index,r=di(3);(function Bk(i){yo(Rr,qo,i,!0)})(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Sa("transform",r._calcTickMarkTransform(n))}}function Qj(i,t){if(1&i&&(Vs(0),bt(1,Xj,1,4,"div",11),Hs()),2&i){const e=di(2);tt(1),je("ngForOf",e._tickMarks)}}function Zj(i,t){if(1&i&&(De(0,"div",8,9),bt(2,Qj,2,1,"ng-container",10),Fe()),2&i){const e=di();tt(2),je("ngIf",e._cachedWidth)}}function Jj(i,t){if(1&i&&It(0,"mat-slider-visual-thumb",7),2&i){const e=di();je("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const eU=["*"],Rv=new oe("_MatSlider"),sA=new oe("_MatSliderThumb"),lA=new oe("_MatSliderRangeThumb"),cA=new oe("_MatSliderVisualThumb");let tU=(()=>{class i{constructor(e,n,r,o){this._cdr=e,this._ngZone=n,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=d=>{if(this._sliderInput._isFocused)return;const p=this._hostElement.getBoundingClientRect(),g=this._isSliderThumbHovered(d,p);this._isHovered=g,g?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||n))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,n){const r=n.width/2,g=e.clientY-(n.y+r);return Math.pow(e.clientX-(n.x+r),2)+Math.pow(g,2)<Math.pow(r,2)}}return i.\u0275fac=function(e){return new(e||i)(I(Ti),I(ht),I(qe),I(Rv))},i.\u0275cmp=Mt({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(e,n){if(1&e&&(oi(ea,5),oi(Wj,5),oi(Yj,5)),2&e){let r;$e(r=Ge())&&(n._ripple=r.first),$e(r=Ge())&&(n._knob=r.first),$e(r=Ge())&&(n._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Ve([{provide:cA,useExisting:i}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(e,n){1&e&&(bt(0,qj,5,1,"div",0),It(1,"div",1,2)(3,"div",3)),2&e&&(je("ngIf",n.discrete),tt(3),je("matRippleDisabled",!0))},dependencies:[ua,ea],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),i})();const iU=qu(tc(class{constructor(i){this._elementRef=i}}),"primary");let nU=(()=>{class i extends iU{constructor(e,n,r,o,d,p,g){super(o),this._ngZone=e,this._cdr=n,this._platform=r,this._dir=d,this._globalRippleOptions=p,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=y=>`${y}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===g,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}get disabled(){return this._disabled}set disabled(e){this._disabled=Qe(e);const n=this._getInput(2),r=this._getInput(1);n&&(n.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=Qe(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=Qe(e)}get min(){return this._min}set min(e){const n=tn(e,this._min);this._min!==n&&this._updateMin(n)}_updateMin(e){const n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const n=this._getInput(2),r=this._getInput(1),o=n.value,d=r.value;r.min=e.new,n.min=Math.max(e.new,r.value),r.max=Math.min(n.max,n.value),r._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,r):this._onTranslateXChangeBySideEffect(r,n),o!==n.value&&this._onValueChange(n),d!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){const n=this._getInput(2);if(n){const r=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){const n=tn(e,this._max);this._max!==n&&this._updateMax(n)}_updateMax(e){const n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const n=this._getInput(2),r=this._getInput(1),o=n.value,d=r.value;n.max=e.new,r.max=Math.min(e.new,n.value),n.min=r.value,n._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,n):this._onTranslateXChangeBySideEffect(n,r),o!==n.value&&this._onValueChange(n),d!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){const n=this._getInput(2);if(n){const r=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){const n=tn(e,this._step);this._step!==n&&this._updateStep(n)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),n=this._getInput(1),r=e.value,o=n.value,d=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<d?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),r!==e.value&&this._onValueChange(e),o!==n.value&&this._onValueChange(n)}_updateStepNonRange(){const e=this._getInput(2);if(e){const n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),n=this._getInput(1);this._isRange=!!e&&!!n,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),n=this._getInput(1);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const n=this._trackActive.nativeElement.style,r=e.left!==n.left&&e.right!==n.right;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,r?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe(sn(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),n.transform=e.transform})):n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){!this._hasViewInitialized||(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){!this._hasViewInitialized||(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){!this._hasViewInitialized||(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){!this._hasViewInitialized||(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),n=this._getInput(1);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),n=this._getInput(2);return!(!e||!n)&&n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const n=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=n:e._hostElement.setAttribute("aria-valuetext",n),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=n:this.endValueIndicatorText=n;const r=this._getThumb(e.thumbPosition);n.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),n=this._getInput(1);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const n=e.getSibling();if(!n||!this._cachedWidth)return;const r=Math.abs(n.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-n.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const n=this._getValue();let r=Math.max(Math.round((n-this.min)/e),0),o=Math.max(Math.round((this.max-n)/e),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(e){const n=this._getValue(),r=this._getValue(1),o=Math.max(Math.floor((r-this.min)/e),0),d=Math.max(Math.floor((n-r)/e)+1,0),p=Math.max(Math.floor((this.max-n)/e),0);this._tickMarks=Array(o).fill(1).concat(Array(d).fill(0),Array(p).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return i.\u0275fac=function(e){return new(e||i)(I(ht),I(Ti),I(gn),I(qe),I(Kn,8),I(Xu,8),I(En,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-slider"]],contentQueries:function(e,n,r){if(1&e&&(Kt(r,sA,5),Kt(r,lA,4)),2&e){let o;$e(o=Ge())&&(n._input=o.first),$e(o=Ge())&&(n._inputs=o)}},viewQuery:function(e,n){if(1&e&&(oi(Kj,5),oi(cA,5)),2&e){let r;$e(r=Ge())&&(n._trackActive=r.first),$e(r=Ge())&&(n._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(e,n){2&e&&St("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Ve([{provide:Rv,useExisting:i}]),Te],ngContentSelectors:eU,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(Di(),ct(0),De(1,"div",0),It(2,"div",1),De(3,"div",2),It(4,"div",3,4),Fe(),bt(6,Zj,3,1,"div",5),Fe(),bt(7,Jj,1,3,"mat-slider-visual-thumb",6),It(8,"mat-slider-visual-thumb",7)),2&e&&(tt(6),je("ngIf",n.showTickMarks),tt(1),je("ngIf",n._isRange),tt(1),je("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[C_,ua,tU],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden;top:-1px}.mdc-slider .mdc-slider__track--active_fill{border-top:6px solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-font-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),i})();const aU={provide:Xn,useExisting:ti(()=>Jx),multi:!0};let Jx=(()=>{class i{constructor(e,n,r,o){this._ngZone=e,this._elementRef=n,this._cdr=r,this._slider=o,this.valueChange=new rt,this.dragStart=new rt,this.dragEnd=new rt,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Ce,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}get value(){return tn(this._hostElement.value)}set value(e){const n=tn(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=n,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=n}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return tn(this._hostElement.min)}set min(e){this._hostElement.min=tn(e).toString(),this._cdr.detectChanges()}get max(){return tn(this._hostElement.max)}set max(e){this._hostElement.max=tn(e).toString(),this._cdr.detectChanges()}get step(){return tn(this._hostElement.step)}set step(e){this._hostElement.step=tn(e).toString(),this._cdr.detectChanges()}get disabled(){return Qe(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=Qe(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this.valueChange.emit(this.value),this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||this._handleValueCorrection(e))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const n=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,d=Math.floor((this._slider.max-this._slider.min)/o),y=Math.round((this._slider._isRtl?1-n/r:n/r)*d)/d*(this._slider.max-this._slider.min)+this._slider.min,C=Math.round(y/o)*o,E=this.value,P={source:this,parent:this._slider,value:C};if(this._isActive?this.dragStart.emit(P):this.dragEnd.emit(P),C===E)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=C,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(e){this._isActive=!1,this._updateWidthInactive(),this.disabled||this._handleValueCorrection(e)}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){this.value=e}registerOnChange(e){this._onChangeFn=e}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return i.\u0275fac=function(e){return new(e||i)(I(ht),I(qe),I(Ti),I(Rv))},i.\u0275dir=re({type:i,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(e,n){1&e&&Ct("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&e&&Et("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Ve([aU,{provide:sA,useExisting:i}])]}),i})(),lU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,pn,Ra]}),i})();const cU=["switch"],dU=["*"],uU=new oe("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),hU={provide:Xn,useExisting:ti(()=>uA),multi:!0};class dA{constructor(t,e){this.source=t,this.checked=e}}let mU=0;const pU=ic(qu(tc(Yu(class{constructor(i){this._elementRef=i}}))));let fU=(()=>{class i extends pU{constructor(e,n,r,o,d,p,g){super(e),this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=d,this._onChange=y=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new rt,this.toggleChange=new rt,this.tabIndex=parseInt(o)||0,this.color=this.defaultColor=d.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId=`${g}${++mU}`}get required(){return this._required}set required(e){this._required=Qe(e)}get checked(){return this._checked}set checked(e){this._checked=Qe(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return i.\u0275fac=function(e){Ul()},i.\u0275dir=re({type:i,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Te]}),i})(),uA=(()=>{class i extends fU{constructor(e,n,r,o,d,p){super(e,n,r,o,d,p,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}get buttonId(){return`${this.id||this._uniqueId}-button`}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new dA(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(e){return new dA(this,e)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(ha),I(Ti),Ar("tabindex"),I(uU),I(En,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(e,n){if(1&e&&oi(cU,5),2&e){let r;$e(r=Ge())&&(n._switchElement=r.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(e,n){2&e&&(Fr("id",n.id),Et("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),St("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[Ve([hU]),Te],ngContentSelectors:dU,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(e,n){if(1&e&&(Di(),De(0,"div",0)(1,"button",1,2),Ct("click",function(){return n._handleClick()}),It(3,"div",3),De(4,"div",4)(5,"div",5)(6,"div",6),It(7,"div",7),Fe(),De(8,"div",8),It(9,"div",9),Fe(),De(10,"div",10),wl(),De(11,"svg",11),It(12,"path",12),Fe(),De(13,"svg",13),It(14,"path",14),Fe()()()()(),function xl(){!function Ic(){Pt.lFrame.currentNamespace=null}()}(),De(15,"label",15),Ct("click",function(o){return o.stopPropagation()}),ct(16),Fe()()),2&e){const r=Kr(2);St("mdc-form-field--align-end","before"==n.labelPosition),tt(1),St("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled),je("tabIndex",n.tabIndex)("disabled",n.disabled),Et("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked),tt(8),je("matRippleTrigger",r)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),tt(6),je("for",n.buttonId),Et("id",n._labelId)}},dependencies:[ea],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),i})(),hA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})(),vU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[hA,wt,Ra,pn,hA,wt]}),i})();class eh{constructor(t){this.interactionService=t}onFocus(){this.interactionService.setInputFocusStatus(!0)}onBlur(){this.interactionService.setInputFocusStatus(!1)}}function bU(i,t){if(1&i&&(De(0,"div",15)(1,"div",16)(2,"p",17),hn(3,"Vulnerability"),Fe(),De(4,"p",18),hn(5),Fe()(),De(6,"mat-slider",19),It(7,"input",20),Fe()()),2&i){const e=di(2);let n;tt(5),Gl(null==e.formGroup||null==(n=e.formGroup.get("vulnerability"))?null:n.value)}}function yU(i,t){1&i&&(De(0,"mat-slide-toggle",21),hn(1," Entry Node "),Fe())}function wU(i,t){1&i&&(De(0,"mat-slide-toggle",22),hn(1," High Value Node "),Fe())}function xU(i,t){if(1&i&&(De(0,"form",5)(1,"mat-form-field")(2,"mat-label"),hn(3,"UUID"),Fe(),It(4,"input",6),Fe(),De(5,"mat-form-field",7)(6,"mat-label"),hn(7,"Name"),Fe(),It(8,"input",8),Fe(),De(9,"mat-form-field",7)(10,"mat-label"),hn(11,"X Position"),Fe(),It(12,"input",9),Fe(),De(13,"mat-form-field",7)(14,"mat-label"),hn(15,"Y Position"),Fe(),It(16,"input",10),Fe(),bt(17,bU,8,1,"div",11),De(18,"div",12),bt(19,yU,2,0,"mat-slide-toggle",13),bt(20,wU,2,0,"mat-slide-toggle",14),Fe()()),2&i){const e=di();je("formGroup",e.formGroup),tt(17),je("ngIf",e.showVulnerabilitySlider()),tt(2),je("ngIf",e.showEntryNodeToggle()),tt(1),je("ngIf",e.showHighValueNodeToggle())}}eh.\u0275fac=function(t){return new(t||eh)(I(Ys))},eh.\u0275dir=re({type:eh,selectors:[["","appFocusTracking",""]],hostBindings:function(t,e){1&t&&Ct("focus",function(r){return e.onFocus(r)})("blur",function(r){return e.onBlur(r)})}});class th{constructor(t){this.nodePropertiesService=t,this.node=null,this.close=new rt,this.formGroup=null,this.vulnerabilityVal=0}ngOnInit(){this.nodePropertiesService.nodePropertiesFormGroupSubject.subscribe(t=>{this.formGroup=t,this.formGroup.valueChanges.subscribe(()=>{this.vulnerabilityVal=Qa(this.formGroup.get("vulnerability")?.value),this.updateNode()})})}ngOnChanges(t){t?.node?.currentValue!=t?.node?.previousValue&&this.nodePropertiesService.loadDetails(this.node)}ngOnDestroy(){this.vulnerabilityChangeListener&&this.vulnerabilityChangeListener.unsubscribe()}updateNode(){if(!this.formGroup?.valid)return;const t={uuid:this.formGroup.get("uuid")?.value,name:this.formGroup.get("name")?.value,x_pos:Qa(this.formGroup.get("x_pos")?.value),y_pos:Qa(this.formGroup.get("y_pos")?.value),high_value_node:this.formGroup.get("high_value_node")?.value,entry_node:this.formGroup.get("entry_node")?.value,vulnerability:Qa(this.formGroup.get("vulnerability")?.value,6)};this.nodePropertiesService.updateNodeProperties(t)}closeSideNav(){this.close.emit()}showVulnerabilitySlider(){return!this.nodePropertiesService.randomVulnerabilitiesOnReset()}showEntryNodeToggle(){return!this.nodePropertiesService.randomEntryNodesOnReset()}showHighValueNodeToggle(){return!this.nodePropertiesService.randomHighValueNodesOnReset()}}th.\u0275fac=function(t){return new(t||th)(I(md))},th.\u0275cmp=Mt({type:th,selectors:[["app-node-properties"]],inputs:{node:"node"},outputs:{close:"close"},features:[zt],decls:10,vars:1,consts:[[1,"node-properties-container"],["mat-header",""],["class","node-properties-form",3,"formGroup",4,"ngIf"],[1,"node-properties-action-buttons"],["mat-raised-button","",3,"click"],[1,"node-properties-form",3,"formGroup"],["matInput","","formControlName","uuid","data-cy","node-properties-uuid-input"],["hideRequiredMarker","true"],["matInput","","formControlName","name","appFocusTracking","","data-cy","node-properties-name-input"],["matInput","","formControlName","x_pos","appFocusTracking","","step","0.01","data-cy","node-properties-x-position-input"],["matInput","","formControlName","y_pos","appFocusTracking","","step","0.01","data-cy","node-properties-y-position-input"],["class","node-properties-vulnerability-container",4,"ngIf"],[1,"node-properties-toggle-input-container"],["color","primary","formControlName","entry_node","data-cy","node-properties-entry-node-toggle-input",4,"ngIf"],["color","primary","formControlName","high_value_node","data-cy","node-properties-high-value-node-toggle-input",4,"ngIf"],[1,"node-properties-vulnerability-container"],[1,"node-properties-vulnerability-label-container"],[1,"node-properties-vulnerability-label"],[1,"node-properties-vulnerability-value"],["min","0","max","1","step","0.001"],["matSliderThumb","","formControlName","vulnerability","displayWith",""],["color","primary","formControlName","entry_node","data-cy","node-properties-entry-node-toggle-input"],["color","primary","formControlName","high_value_node","data-cy","node-properties-high-value-node-toggle-input"]],template:function(t,e){1&t&&(De(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title-group")(3,"mat-card-title"),hn(4,"Node Details"),Fe()()(),De(5,"mat-card-content"),bt(6,xU,21,4,"form",2),De(7,"div",3)(8,"button",4),Ct("click",function(){return e.closeSideNav()}),hn(9,"Close"),Fe()()()()),2&t&&(tt(6),je("ngIf",!!e.formGroup))},dependencies:[ua,z8,WI,KI,XI,YI,qI,$j,Hj,Xx,nU,Jx,uA,DI,vv,cI,dI,Ju,Wx,eh],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden}.node-properties-container[_ngcontent-%COMP%]{display:flex;flex:1}.mat-mdc-card[_ngcontent-%COMP%]{height:100%}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;padding-top:30px;overflow:hidden}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{display:flex;flex:1}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .mat-mdc-slide-toggle[_ngcontent-%COMP%]{display:flex;flex:1;padding:10px 18px}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .node-properties-vulnerability-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .node-properties-vulnerability-container[_ngcontent-%COMP%]   .node-properties-vulnerability-label-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:12px}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .node-properties-vulnerability-container[_ngcontent-%COMP%]   .mat-mdc-slider[_ngcontent-%COMP%]{margin:0 24px 15px}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .node-properties-vulnerability-container[_ngcontent-%COMP%]   .node-properties-vulnerability-label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-form[_ngcontent-%COMP%]   .node-properties-vulnerability-container[_ngcontent-%COMP%]   .node-properties-vulnerability-value[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding-left:20px;margin-bottom:0}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:10px 0;justify-content:flex-end}.mat-mdc-card-content[_ngcontent-%COMP%]   .node-properties-action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}  .node-properties-form .mdc-switch__icons{display:none}  .node-properties-form .mat-mdc-slide-toggle label{padding-left:20px}"]});const CU=["sidenav"];class ih{constructor(){this.node=null}close(){this.sidenav.close()}open(t){this.node=t,this.sidenav.open()}}function mA(i,t,e,n,r,o,d){try{var p=i[o](d),g=p.value}catch(y){return void e(y)}p.done?t(g):Promise.resolve(g).then(n,r)}ih.\u0275fac=function(t){return new(t||ih)},ih.\u0275cmp=Mt({type:ih,selectors:[["app-node-properties-sidenav"]],viewQuery:function(t,e){if(1&t&&oi(CU,5),2&t){let n;$e(n=Ge())&&(e.sidenav=n.first)}},ngContentSelectors:["*"],decls:6,vars:1,consts:[["mode","side","position","end"],["sidenav",""],[3,"node","close"]],template:function(t,e){1&t&&(Di(),De(0,"mat-sidenav-container")(1,"mat-sidenav",0,1)(3,"app-node-properties",2),Ct("close",function(){return e.close()}),Fe()(),De(4,"mat-sidenav-content"),ct(5),Fe()()),2&t&&(tt(3),je("node",e.node))},dependencies:[FT,LT,Tx,th],styles:["[_nghost-%COMP%]{display:flex;flex:1}mat-sidenav[_ngcontent-%COMP%]{width:20%;min-width:300px}mat-sidenav-container[_ngcontent-%COMP%], mat-sidenav-content[_ngcontent-%COMP%], app-node-properties[_ngcontent-%COMP%], .mat-drawer-backdrop[_ngcontent-%COMP%],   .mat-drawer-inner-container{display:flex;flex-direction:column;flex:1}"]});class nh{constructor(t){this.networkService=t}loadFile(t){var e=this;return function kU(i){return function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function d(g){mA(o,n,r,d,p,"next",g)}function p(g){mA(o,n,r,d,p,"throw",g)}d(void 0)})}}(function*(){if(t&&t[0])try{const n=yield t[0].text(),r=new J_(JSON.parse(n));e.networkService.loadNetwork(r)}catch(n){throw new Error("Unable to parse file",n)}})()}loadNetworkFromWindow(t){if(t)try{const e=new J_(JSON.parse(t));this.networkService.loadNetwork(e),this.networkService.updateNetworkSettings(e.networkSettings)}catch(e){throw new Error("Unable to parse JSON",e)}}}nh.\u0275fac=function(t){return new(t||nh)(ae(ko))},nh.\u0275prov=ze({token:nh,factory:nh.\u0275fac,providedIn:"root"});class rh{constructor(){this.fileDropped=new rt}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1}ondrop(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;let e=t.dataTransfer.files;e.length>0&&this.fileDropped.emit(e)}}function pA(i){return kn((t,e)=>{let o,n=null,r=!1;n=t.subscribe(vn(e,void 0,void 0,d=>{o=or(i(d,pA(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}rh.\u0275fac=function(t){return new(t||rh)},rh.\u0275dir=re({type:rh,selectors:[["","appFileDragDrop",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ct("dragover",function(r){return e.onDragOver(r)})("dragleave",function(r){return e.onDragLeave(r)})("drop",function(r){return e.ondrop(r)}),2&t&&St("fileover",e.fileOver)},outputs:{fileDropped:"fileDropped"}});const SU=["*"];let Ov;function zp(i){return function TU(){if(void 0===Ov&&(Ov=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(Ov=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ov}()?.createHTML(i)||i}function fA(i){return Error(`Unable to find icon with the name "${i}"`)}function gA(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function _A(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class pd{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Pv=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new pd(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const d=this._sanitizer.sanitize(se.HTML,r);if(!d)throw _A(r);const p=zp(d);return this._addSvgIconConfig(e,n,new pd("",p,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new pd(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(se.HTML,n);if(!o)throw _A(n);const d=zp(o);return this._addSvgIconSetConfig(e,new pd("",d,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(se.RESOURCE_URL,e);if(!n)throw gA(e);const r=this._cachedIconsByUrl.get(n);return r?Zr(Fv(r)):this._loadSvgIconFromConfig(new pd(e,null)).pipe(Xl(o=>this._cachedIconsByUrl.set(n,o)),ji(o=>Fv(o)))}getNamedSvgIcon(e,n=""){const r=vA(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const d=this._iconSetConfigs.get(n);return d?this._getSvgFromIconSetConfigs(e,d):function MU(i,t){const e=J(i)?i:()=>i,n=r=>r.error(e());return new vt(t?r=>t.schedule(n,0,r):n)}(fA(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Zr(Fv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ji(n=>Fv(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?Zr(r):NT(n.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(pA(p=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(se.RESOURCE_URL,d.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(y)),Zr(null)})))).pipe(ji(()=>{const d=this._extractIconWithNameFromAnySet(e,n);if(!d)throw fA(e);return d}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(o),p=this._extractSvgIconFromSet(d,e,o.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Xl(n=>e.svgText=n),ji(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Zr(null):this._fetchIcon(e).pipe(Xl(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const d=o.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const p=this._svgElementFromString(zp("<svg></svg>"));return p.appendChild(d),this._setSvgAttributes(p,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(zp("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:d,value:p}=r[o];"id"!==d&&n.setAttribute(d,p)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function IU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const d=this._sanitizer.sanitize(se.RESOURCE_URL,n);if(!d)throw gA(n);const p=this._inProgressUrlFetches.get(d);if(p)return p;const g=this._httpClient.get(d,{responseType:"text",withCredentials:o}).pipe(ji(y=>zp(y)),function EU(i){return kn((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}(()=>this._inProgressUrlFetches.delete(d)),hs());return this._inProgressUrlFetches.set(d,g),g}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(vA(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return RU(o)?new pd(o.url,null,o.options):new pd(o,null)}}}return i.\u0275fac=function(e){return new(e||i)(ae(Lu,8),ae(Tw),ae(Ft,8),ae(Ua))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fv(i){return i.cloneNode(!0)}function vA(i,t){return i+":"+t}function RU(i){return!(!i.url||!i.options)}const OU=qu(class{constructor(i){this._elementRef=i}}),PU=new oe("MAT_ICON_DEFAULT_OPTIONS"),FU=new oe("mat-icon-location",{providedIn:"root",factory:function LU(){const i=ii(Ft),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),bA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],NU=bA.map(i=>`[${i}]`).join(", "),BU=/^url\(['"]?#(.*?)['"]?\)$/;let yA=(()=>{class i extends OU{constructor(e,n,r,o,d,p){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=fe.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Qe(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(d=>{o.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(NU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)bA.forEach(d=>{const p=n[o],g=p.getAttribute(d),y=g?g.match(BU):null;if(y){let C=r.get(p);C||(C=[],r.set(p,C)),C.push({name:d,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(sn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(Pv),Ar("aria-hidden"),I(FU),I(Ua),I(PU,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,n){2&e&&(Et("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),St("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Te],ngContentSelectors:SU,decls:1,vars:0,template:function(e,n){1&e&&(Di(),ct(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),wA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,wt]}),i})();class eC{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Lv extends eC{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class ah extends eC{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class VU extends eC{constructor(t){super(),this.element=t instanceof qe?t.nativeElement:t}}class tC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Lv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ah?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof VU?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class HU extends tC{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=d=>{const p=d.element,g=this._document.createComment("dom-portal");p.parentNode.insertBefore(g,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(p,g)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Er.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Nv=(()=>{class i extends tC{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new rt,this.attachDomPortal=o=>{const d=o.element,p=this._document.createComment("dom-portal");o.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(I(Rn),I(mn),I(Ft))},i.\u0275dir=re({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Te]}),i})(),Eo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();const xA=rT();class zU{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qn(-this._previousScrollPosition.left),t.style.top=qn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),xA&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xA&&(n.scrollBehavior=o,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class jU{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class CA{enable(){}disable(){}attach(){}}function iC(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function DA(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class UU{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();iC(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $U=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new CA,this.close=d=>new jU(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new zU(this._viewportRuler,this._document),this.reposition=d=>new UU(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=o}}return i.\u0275fac=function(e){return new(e||i)(ae(Hu),ae(zu),ae(ht),ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class oh{constructor(t){if(this.scrollStrategy=new CA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class GU{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let kA=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),WU=(()=>{class i extends kA{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){const p=o[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(ht,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),YU=(()=>{class i extends kA{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Jr(o)},this._clickListener=o=>{const d=Jr(o),p="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const C=g[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(d)||C.overlayElement.contains(p))break;const E=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(o)):E.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(gn),ae(ht,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bv=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vx()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),vx()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(gn))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class jp{constructor(t,e,n,r,o,d,p,g,y,C=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=d,this._document=p,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Ce,this._attachments=new Ce,this._detachments=new Ce,this._locationChanges=fe.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new Ce,this._outsidePointerEvents=new Ce,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(sn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qn(this._config.width),t.height=qn(this._config.height),t.minWidth=qn(this._config.minWidth),t.minHeight=qn(this._config.minHeight),t.maxWidth=qn(this._config.maxWidth),t.maxHeight=qn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=kp(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(gt(bn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const MA="cdk-overlay-connected-position-bounding-box",qU=/([A-Za-z%]+)$/;class KU{constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ce,this._resizeSubscription=fe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(MA),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let d;for(let p of this._preferredPositions){let g=this._getOriginPoint(t,r,p),y=this._getOverlayPoint(g,e,p),C=this._getOverlayFit(y,e,n,p);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,g);this._canFitWithFlexibleDimensions(C,y,n)?o.push({position:p,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,p)}):(!d||d.overlayFit.visibleArea<C.visibleArea)&&(d={overlayFit:C,overlayPoint:y,originPoint:g,position:p,overlayRect:e})}if(o.length){let p=null,g=-1;for(const y of o){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>g&&(g=C,p=y)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;r="start"==n.originX?d:p}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=SA(e);let{x:d,y:p}=t,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(d+=g),y&&(p+=y);let P=0-p,B=p+o.height-n.height,Y=this._subtractOverflows(o.width,0-d,d+o.width-n.width),X=this._subtractOverflows(o.height,P,B),ie=Y*X;return{visibleArea:ie,isCompletelyWithinViewport:o.width*o.height===ie,fitsInViewportVertically:X===o.height,fitsInViewportHorizontally:Y==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,d=EA(this._overlayRef.getConfig().minHeight),p=EA(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=p&&p<=o;return(t.fitsInViewportVertically||null!=d&&d<=r)&&y}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=SA(e),o=this._viewportRect,d=Math.max(t.x+r.width-o.width,0),p=Math.max(t.y+r.height-o.height,0),g=Math.max(o.top-n.top-t.y,0),y=Math.max(o.left-n.left-t.x,0);let C=0,E=0;return C=r.width<=o.width?y||-d:t.x<this._viewportMargin?o.left-n.left-t.x:0,E=r.height<=o.height?g||-p:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:C,y:E},{x:t.x+C,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new GU(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,d,p,C,E,P;if("top"===e.overlayY)d=t.y,o=n.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=n.height-t.y+2*this._viewportMargin,o=n.height-p+this._viewportMargin;else{const B=Math.min(n.bottom-t.y+n.top,t.y),Y=this._lastBoundingBoxSize.height;o=2*B,d=t.y-B,o>Y&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-Y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)P=n.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,C=n.right-t.x;else{const B=Math.min(n.right-t.x+n.left,t.x),Y=this._lastBoundingBoxSize.width;C=2*B,E=t.x-B,C>Y&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-Y/2)}return{top:d,left:E,bottom:p,right:P,width:C,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=qn(n.height),r.top=qn(n.top),r.bottom=qn(n.bottom),r.width=qn(n.width),r.left=qn(n.left),r.right=qn(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=qn(o)),d&&(r.maxWidth=qn(d))}this._lastBoundingBoxSize=n,fd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){fd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();fd(n,this._getExactOverlayY(e,t,C)),fd(n,this._getExactOverlayX(e,t,C))}else n.position="static";let p="",g=this._getOffset(e,"x"),y=this._getOffset(e,"y");g&&(p+=`translateX(${g}px) `),y&&(p+=`translateY(${y}px)`),n.transform=p.trim(),d.maxHeight&&(r?n.maxHeight=qn(d.maxHeight):o&&(n.maxHeight="")),d.maxWidth&&(r?n.maxWidth=qn(d.maxWidth):o&&(n.maxWidth="")),fd(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=qn(o.y),r}_getExactOverlayX(t,e,n){let d,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=qn(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:DA(t,n),isOriginOutsideView:iC(t,n),isOverlayClipped:DA(e,n),isOverlayOutsideView:iC(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&kp(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof qe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function fd(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function EA(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(qU);return e&&"px"!==e?null:parseFloat(t)}return i||null}function SA(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const IA="cdk-global-overlay-wrapper";class QU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(IA),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:d,maxHeight:p}=n,g=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),y=!("100%"!==o&&"100vh"!==o||p&&"100%"!==p&&"100vh"!==p),C=this._xPosition,E=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let B="",Y="",X="";g?X="flex-start":"center"===C?(X="center",P?Y=E:B=E):P?"left"===C||"end"===C?(X="flex-end",B=E):("right"===C||"start"===C)&&(X="flex-start",Y=E):"left"===C||"start"===C?(X="flex-start",B=E):("right"===C||"end"===C)&&(X="flex-end",Y=E),t.position=this._cssPosition,t.marginLeft=g?"0":B,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":Y,e.justifyContent=X,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(IA),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZU=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new QU}flexibleConnectedTo(e){return new KU(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(ae(zu),ae(Ft),ae(gn),ae(Bv))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),JU=0,Lr=(()=>{class i{constructor(e,n,r,o,d,p,g,y,C,E,P,B){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=d,this._injector=p,this._ngZone=g,this._document=y,this._directionality=C,this._location=E,this._outsideClickDispatcher=P,this._animationsModuleType=B}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),d=new oh(e);return d.direction=d.direction||this._directionality.value,new jp(o,n,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+JU++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(op)),new HU(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(ae($U),ae(Bv),ae(Rn),ae(ZU),ae(WU),ae(Er),ae(ht),ae(Ft),ae(Kn),ae(rw),ae(YU),ae(En,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const i$={provide:new oe("cdk-connected-overlay-scroll-strategy"),deps:[Lr],useFactory:function t$(i){return()=>i.scrollStrategies.reposition()}};let is=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[Lr,i$],imports:[Vu,Eo,rv,rv]}),i})();const n$=["tooltip"],AA=new oe("mat-tooltip-scroll-strategy"),o$={provide:AA,deps:[Lr],useFactory:function a$(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},l$=new oe("mat-tooltip-default-options",{providedIn:"root",factory:function s$(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),RA="tooltip-panel",OA=Mo({passive:!0});let p$=(()=>{class i{constructor(e,n,r,o,d,p,g,y,C,E,P,B){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=d,this._platform=p,this._ariaDescriber=g,this._focusMonitor=y,this._dir=E,this._defaultOptions=P,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ce,this._scrollStrategy=C,this._document=B,P&&(P.position&&(this.position=P.position),P.positionAtOrigin&&(this.positionAtOrigin=P.positionAtOrigin),P.touchGestures&&(this.touchGestures=P.touchGestures)),E.change.pipe(gt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Qe(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qe(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=tn(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=tn(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(gt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,OA)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Lv(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(gt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof qe)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(gt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${RA}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(gt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(gt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(gt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!nn(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:d}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:d}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:d}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(sn(1),gt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:o}=e;let d;if(d="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===o?"above":"below",d!==this._currentPosition){const p=this._overlayRef;if(p){const g=`${this._cssClassPrefix}-${RA}-`;p.removePanelClass(g+this._currentPosition),p.addPanelClass(g+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,OA)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(e){Ul()},i.\u0275dir=re({type:i,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),PA=(()=>{class i extends p${constructor(e,n,r,o,d,p,g,y,C,E,P,B){super(e,n,r,o,d,p,g,y,C,E,P,B),this._tooltipComponent=g$,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return i.\u0275fac=function(e){return new(e||i)(I(Lr),I(qe),I(Hu),I(mn),I(ht),I(gn),I(V4),I(ha),I(AA),I(Kn,8),I(l$,8),I(Ft))},i.\u0275dir=re({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Te]}),i})(),f$=(()=>{class i{constructor(e,n){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ce,this._animationsDisabled="NoopAnimations"===n}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(n);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return i.\u0275fac=function(e){return new(e||i)(I(Ti),I(En,8))},i.\u0275dir=re({type:i}),i})(),g$=(()=>{class i extends f${constructor(e,n,r){super(e,r),this._elementRef=n,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return i.\u0275fac=function(e){return new(e||i)(I(Ti),I(qe),I(En,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(e,n){if(1&e&&oi(n$,7),2&e){let r;$e(r=Ge())&&(n._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,n){1&e&&Ct("mouseleave",function(o){return n._handleMouseLeave(o)}),2&e&&Sa("zoom",n.isVisible()?1:null)},features:[Te],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,n){1&e&&(De(0,"div",0,1),Ct("animationend",function(o){return n._handleAnimationEnd(o)}),De(2,"div",2),hn(3),Fe()()),2&e&&(St("mdc-tooltip--multiline",n._isMultiline),je("ngClass",n.tooltipClass),tt(3),Gl(n.message))},dependencies:[pw],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),i})(),FA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[o$],imports:[Wu,pn,is,wt,wt,Zo]}),i})();class LA{constructor(t,e){this._element=t,this._parent=e,this._element.style.position="relative",this._bb={h:0,w:0,x1:0,x2:0,y1:0,y2:0}}get element(){return this._element}get bb(){return this._bb}updateElementStyles(){if(this._element.style.left=`${this._bb.x1}px`,this._element.style.top=`${this._bb.y1}px`,this._element.style.width=`${this._bb.w}px`,this._element.style.height=`${this._bb.h}px`,!getComputedStyle)return;const t=window.getComputedStyle(this._parent,null);let e=this._parent.clientHeight,n=this._parent.clientWidth;e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}}class _$ extends LA{constructor(t,e,n){t.setAttribute("class","viewport-view"),super(t,e),this.displayElement=n,t.style.position="absolute"}updateViewPosition(t,e){const n=this.calculateViewBounds(t,e,this._bb);n&&n.bb?(this._element.style.display="flex",this._bb=n.bb,this.updateElementStyles()):this._element.style.display="none"}calculateViewBounds(t,e,n){if(this.isEmptyBounds(e.bb))return this.emptyView();if(e=this.getDisplayExtent(e),this.isNotOnScreen(e.bb,t.bb))return;const r=this._parent.clientWidth/e.bb.w,o=this._parent.clientHeight/e.bb.h;return n.x1=e.bb.x1<t.bb.x1?-e.bb.x1*r:t.bb.x1,n.y1=e.bb.y1<t.bb.y1?-e.bb.y1*o:t.bb.y1,n.x2=e.bb.x2>t.bb.x2*t.zoom+t.pan.x?(e.bb.w-(e.bb.x2-t.bb.x2))*r:this._parent.getBoundingClientRect().right-this._parent.getBoundingClientRect().left,n.y2=e.bb.y2>t.bb.y2*t.zoom+t.pan.y?(e.bb.h-(e.bb.y2-t.bb.y2))*o:this._parent.getBoundingClientRect().bottom-this._parent.getBoundingClientRect().top,n.w=n.x2-n.x1,n.h=n.y2-n.y1,n.x1+=this._parent.offsetLeft,n.x2+=this._parent.offsetLeft,n.y1+=this._parent.offsetTop,n.y2+=this._parent.offsetTop,{zoom:Math.min(r,o),pan:{x:n.x1,y:n.y1},bb:n}}isEmptyBounds(t){return 0==t.h||0==t.w||isNaN(t.h)||isNaN(t.w)}isNotOnScreen(t,e){return t.x2<e.x1||t.x1>e.x2||t.y2<e.x1||t.y1>e.x2}emptyView(){const n=(this._element.offsetWidth-this._element.clientWidth)/2,r=(this._element.offsetHeight-this._element.clientHeight)/2;return{zoom:0,pan:{x:0,y:0},bb:{w:this._parent.offsetWidth,h:this._parent.offsetHeight,x1:this._parent.offsetLeft+n,y1:this._parent.offsetTop+r,x2:this._parent.offsetWidth+n,y2:this._parent.offsetHeight+r}}}getDisplayExtent(t){if(!t?.bb?.h||!t?.bb?.w)return t;const e=t.bb.w/this.displayElement.clientWidth,n=t.bb.h/this.displayElement.clientHeight,r=t.bb.x1-this.displayElement.offsetLeft*e,o=t.bb.y1-this.displayElement.offsetTop*n,d=t.bb.x2+this.displayElement.offsetLeft*e,p=t.bb.y2+this.displayElement.offsetTop*n;return{zoom:Math.min(e,n),pan:{x:r,y:o},bb:{w:d-r,h:p-o,x1:r,x2:d,y1:o,y2:p}}}}class v$ extends LA{constructor(t,e){t.setAttribute("class","viewport-display"),super(t,e)}updateImage(t){var e=new Image;!t||t.indexOf("image/png")<0?this._element.removeAttribute("src"):(e.src=t,this._element.setAttribute("src",t)),e.onload=()=>this.handleImageLoad(e.height,e.width)}handleImageLoad(t,e){this._bb.h=t||this._bb.h,this._bb.w=e||this._bb.w,this._bb.x1=(this._parent.clientWidth-this._bb.w)/2,this._bb.x2=this._bb.x1+this._bb.w,this._bb.y1=(this._parent.clientHeight-this._bb.h)/2,this._bb.y2=this._bb.y1+this._bb.h,this.updateElementStyles()}}class gd{constructor(t,e,n){this.rendererFactory=t,this.cytoscapeService=e,this.networkService=n,this._displayVal={zoom:null,pan:null},this._updatingDisplay=!1,this.renderer=this.rendererFactory.createRenderer(null,null)}init(t){this._viewportPanel=t,this._cy=this.cytoscapeService.cy,this.updateCyBoundingBox(),this.initViewportDisplay(),this.initViewportView(),this.listenToUpdates()}listenToUpdates(){this.networkService.networkObservable.subscribe(()=>{this.updateDisplayImage(),this.updateView()}),this._cy.on("add remove pan zoom render resize",t=>{this.updateDisplayImage(),this.updateView()})}updateCyBoundingBox(){this._displayBoundingBox=this.applyPaddingToBoundingBox(this._cy.elements().boundingBox(),this.cytoscapeService.graphPadding),this._displayVal.zoom={w:this._viewportPanel.offsetWidth/this._displayBoundingBox.w,h:this._viewportPanel.offsetHeight/this._displayBoundingBox.h},isNaN(this._displayVal.zoom.h)&&(this._displayVal.zoom.h=1),isNaN(this._displayVal.zoom.w)&&(this._displayVal.zoom.w=1),this._displayVal.pan={x:(this._viewportPanel.offsetWidth-this._displayVal.zoom.w*(this._displayBoundingBox.x1+this._displayBoundingBox.x2))/2,y:(this._viewportPanel.offsetHeight-this._displayVal.zoom.h*(this._displayBoundingBox.y1+this._displayBoundingBox.y2))/2}}initViewportDisplay(){this._viewportDisplay=new v$(document.createElement("img"),this._viewportPanel),this.renderer.appendChild(this._viewportPanel,this._viewportDisplay.element),this.updateDisplayImage()}updateDisplayImage(){if(this._updatingDisplay)return;this._updatingDisplay=!0,this.updateCyBoundingBox();const t=this._viewportPanel.offsetWidth,e=this._viewportPanel.offsetHeight,n=this._displayBoundingBox,r=Math.min(t/n.w,e/n.h),o=this._cy.png({full:!0,scale:r,maxHeight:e,maxWidth:t});this._viewportDisplay.updateImage(o),this._updatingDisplay=!1}initViewportView(){this._viewportView=new _$(document.createElement("div"),this._viewportPanel,this._viewportDisplay.element),this.renderer.appendChild(this._viewportPanel,this._viewportView.element),this.updateView()}updateView(){const t=this._cy.elements().renderedBoundingBox(),e=this._cy.zoom(),n=this._cy.pan(),r=this._cy.extent(),o=r.x1*e+n.x,d=r.x2*e+n.x,p=r.y1*e+n.y,g=r.y2*e+n.y;this._viewportView.updateViewPosition({zoom:1,pan:{x:o,y:p},bb:{x1:o,x2:d,y1:p,y2:g,w:d-o,h:g-p}},{zoom:1,pan:{x:t.x1,y:t.y1},bb:t})}applyPaddingToBoundingBox(t,e,n=1){return{w:t.w+(e=e?e*n:0),h:t.h+e,x1:t.x1-e,x2:t.x2+e,y1:t.y1-e,y2:t.y2+e}}}gd.\u0275fac=function(t){return new(t||gd)(ae(Hl),ae(Za),ae(ko))},gd.\u0275prov=ze({token:gd,factory:gd.\u0275fac});const b$=["miniViewport"];class sh{constructor(t,e){this.cytoscapeService=t,this.viewportService=e}ngAfterViewInit(){this.cytoscapeService.cytoscapeInstance.subscribe(()=>{this.viewportService.init(this.viewport.nativeElement)})}}function ac(i,t){return kn((e,n)=>{let r=null,o=0,d=!1;const p=()=>d&&!r&&n.complete();e.subscribe(vn(n,g=>{r?.unsubscribe();let y=0;const C=o++;or(i(g,C)).subscribe(r=vn(n,E=>n.next(t?t(g,E,C,y++):E),()=>{r=null,p()}))},()=>{d=!0,p()}))})}function NA(i,t){return t?e=>sv(t.pipe(sn(1),function y$(){return kn((i,t)=>{i.subscribe(vn(t,ni))})}()),e.pipe(NA(i))):Fa((e,n)=>i(e,n).pipe(sn(1),Qu(e)))}function nC(i,t=wp){const e=px(i,t);return NA(()=>e)}sh.\u0275fac=function(t){return new(t||sh)(I(Za),I(gd))},sh.\u0275cmp=Mt({type:sh,selectors:[["app-mini-viewport"]],viewQuery:function(t,e){if(1&t&&oi(b$,7),2&t){let n;$e(n=Ge())&&(e.viewport=n.first)}},decls:2,vars:0,consts:[["id","miniViewport"],["miniViewport",""]],template:function(t,e){1&t&&It(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:flex;flex:1;width:100%}#miniViewport[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;margin:0;line-height:0}"]});const w$=["mat-menu-item",""];function x$(i,t){1&i&&(wl(),De(0,"svg",3),It(1,"polygon",4),Fe())}const C$=[[["mat-icon"]],"*"],D$=["mat-icon","*"];function k$(i,t){if(1&i){const e=Cu();De(0,"div",0),Ct("keydown",function(r){return ya(e),Ir(di()._handleKeydown(r))})("click",function(){return ya(e),Ir(di().closed.emit("click"))})("@transformMenu.start",function(r){return ya(e),Ir(di()._onAnimationStart(r))})("@transformMenu.done",function(r){return ya(e),Ir(di()._onAnimationDone(r))}),De(1,"div",1),ct(2),Fe()()}if(2&i){const e=di();je("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Et("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const M$=["*"],rC=new oe("MAT_MENU_PANEL"),E$=tc(Yu(class{}));let Vv=(()=>{class i extends E${constructor(e,n,r,o,d){super(),this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new Ce,this._focused=new Ce,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(Ft),I(ha),I(rC,8),I(Ti))},i.\u0275cmp=Mt({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,n){1&e&&Ct("click",function(o){return n._checkDisabled(o)})("mouseenter",function(){return n._handleMouseEnter()}),2&e&&(Et("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),St("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Te],attrs:w$,ngContentSelectors:D$,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,n){1&e&&(Di(C$),ct(0),De(1,"span",0),ct(2,1),Fe(),It(3,"div",1),bt(4,x$,2,0,"svg",2)),2&e&&(tt(3),je("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),tt(1),je("ngIf",n._triggersSubmenu))},dependencies:[ua,ea],encapsulation:2,changeDetection:0}),i})();const S$=new oe("MatMenuContent"),Hv={transformMenu:fn("transformMenu",[si("void",dt({opacity:0,transform:"scale(0.8)"})),ui("void => enter",pi("120ms cubic-bezier(0, 0, 0.2, 1)",dt({opacity:1,transform:"scale(1)"}))),ui("* => void",pi("100ms 25ms linear",dt({opacity:0})))]),fadeInItems:fn("fadeInItems",[si("showing",dt({opacity:1})),ui("void => *",[dt({opacity:0}),pi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let T$=0;const BA=new oe("mat-menu-default-options",{providedIn:"root",factory:function I$(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Up=(()=>{class i{constructor(e,n,r,o){this._elementRef=e,this._ngZone=n,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new zs,this._classList={},this._panelAnimationState="void",this._animationDone=new Ce,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new rt,this.close=this.closed,this.panelId="mat-menu-panel-"+T$++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Qe(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Qe(e)}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ip(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Tn(this._directDescendantItems),ac(e=>bn(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[o]&&!r[o].disabled?n.setActiveItem(o):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Tn(this._directDescendantItems),ac(n=>bn(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,r=this._keyManager;switch(n){case 27:nn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(sn(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,o=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Tn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(ht),I(BA),I(Ti))},i.\u0275dir=re({type:i,contentQueries:function(e,n,r){if(1&e&&(Kt(r,S$,5),Kt(r,Vv,5),Kt(r,Vv,4)),2&e){let o;$e(o=Ge())&&(n.lazyContent=o.first),$e(o=Ge())&&(n._allItems=o),$e(o=Ge())&&(n.items=o)}},viewQuery:function(e,n){if(1&e&&oi(xn,5),2&e){let r;$e(r=Ge())&&(n.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),i})(),A$=(()=>{class i extends Up{constructor(e,n,r,o){super(e,n,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(ht),I(BA),I(Ti))},i.\u0275cmp=Mt({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,n){2&e&&Et("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ve([{provide:rC,useExisting:i}]),Te],ngContentSelectors:M$,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,n){1&e&&(Di(),bt(0,k$,3,6,"ng-template"))},dependencies:[pw],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Hv.transformMenu,Hv.fadeInItems]},changeDetection:0}),i})();const VA=new oe("mat-menu-scroll-strategy"),O$={provide:VA,deps:[Lr],useFactory:function R$(i){return()=>i.scrollStrategies.reposition()}},HA=Mo({passive:!0});let P$=(()=>{class i{constructor(e,n,r,o,d,p,g,y,C){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=p,this._dir=g,this._focusMonitor=y,this._ngZone=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=fe.EMPTY,this._hoverSubscription=fe.EMPTY,this._menuCloseSubscription=fe.EMPTY,this._handleTouchStart=E=>{hv(E)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new rt,this.onMenuOpen=this.menuOpened,this.menuClosed=new rt,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=d instanceof Up?d:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,HA)}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,HA),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const n=this._createOverlay(e),r=n.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Up&&(e._startAnimation(),e._directDescendantItems.changes.pipe(gt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof Up?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(zi(r=>"void"===r.toState),sn(1),gt(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new oh({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",d="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,d)):e.setPositionClasses(o,d)})}_setPosition(e,n){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[d,p]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[g,y]=[d,p],[C,E]=[r,o],P=0;if(this.triggersSubmenu()){if(E=r="before"===e.xPosition?"start":"end",o=C="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}P="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(g="top"===d?"bottom":"top",y="top"===p?"bottom":"top");n.withPositions([{originX:r,originY:g,overlayX:C,overlayY:d,offsetY:P},{originX:o,originY:g,overlayX:E,overlayY:d,offsetY:P},{originX:r,originY:y,overlayX:C,overlayY:p,offsetY:-P},{originX:o,originY:y,overlayX:E,overlayY:p,offsetY:-P}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return bn(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Zr(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(zi(d=>d!==this._menuItemInstance),zi(()=>this._menuOpen)):Zr(),n)}_handleMousedown(e){uv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(zi(e=>e===this._menuItemInstance&&!e.disabled),nC(0,mx)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Up&&this.menu._isAnimating?this.menu._animationDone.pipe(sn(1),nC(0,mx),gt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new ah(e.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(I(Lr),I(qe),I(mn),I(VA),I(rC,8),I(Vv,10),I(Kn,8),I(ha),I(ht))},i.\u0275dir=re({type:i,hostVars:3,hostBindings:function(e,n){1&e&&Ct("click",function(o){return n._handleClick(o)})("mousedown",function(o){return n._handleMousedown(o)})("keydown",function(o){return n._handleKeydown(o)}),2&e&&Et("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),i})(),F$=(()=>{class i extends P${}return i.\u0275fac=function(){let t;return function(n){return(t||(t=At(i)))(n||i)}}(),i.\u0275dir=re({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Te]}),i})(),L$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[O$],imports:[pn,Ra,wt,is,Zo,wt]}),i})();class lh{transform(t){return t.replace(/^[-_]*(.)/,(e,n)=>n.toUpperCase()).replace(/[-_]+(.)/g,(e,n)=>" "+n.toUpperCase())}}function N$(i,t){1&i&&It(0,"div")}function B$(i,t){1&i&&(De(0,"div",7),hn(1,"No layouts available"),Fe())}function V$(i,t){if(1&i){const e=Cu();De(0,"button",9),Ct("click",function(){const o=ya(e).$implicit;return Ir(di(2).applyLayout(o))}),hn(1),function KM(i,t){const e=hi();let n;const r=i+22;e.firstCreatePass?(n=function mL(i,t){if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];if(i===n.name)return n}}(t,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,n.onDestroy)):n=e.data[r];const o=n.factory||(n.factory=Ba(n.type)),d=Qi(I);try{const p=co(!1),g=o();return co(p),function eF(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}(e,Ae(),r,g),g}finally{Qi(d)}}(2,"appLayoutLabelPipe"),Fe()}if(2&i){const e=t.$implicit;tt(1),Gl(XM(2,1,e))}}function H$(i,t){1&i&&bt(0,V$,3,3,"button",8),2&i&&je("ngForOf",di().layouts)}lh.\u0275fac=function(t){return new(t||lh)},lh.\u0275pipe=vr({name:"appLayoutLabelPipe",type:lh,pure:!0});class ch{constructor(t,e,n){this.updateNetworkLayoutUrl=t,this.httpClient=e,this.networkService=n,this.layouts=[]}autoLayoutsAvailable(){const t=window?.NETWORK_LAYOUTS;if(t)return this.layouts=JSON.parse(t),!!this.layouts?.length;this.layouts=[]}applyLayout(t){this.httpClient.post(this.updateNetworkLayoutUrl,{layout:t,network:this.networkService.getNetworkJson()}).subscribe(e=>{try{e=this.scaleUpNodePositions(e);const n=new J_(e);this.networkService.loadNetwork(n)}catch(n){throw console.error(n),new Error("Unable to parse JSON",n)}})}scaleUpNodePositions(t){if(!t||!t.nodes)throw new Error;const e=document.getElementById("cytoscapeCanvas"),o=Math.min(e?e.clientHeight:0,e?e.clientWidth:0);return Object.keys(t.nodes).forEach(d=>{t.nodes[`${d}`].x_pos*=o,t.nodes[`${d}`].y_pos*=o}),t}}ch.\u0275fac=function(t){return new(t||ch)(I(R1),I(Lu),I(ko))},ch.\u0275cmp=Mt({type:ch,selectors:[["app-graph-auto-layout"]],decls:10,vars:4,consts:[["mat-icon-button","","matTooltip","Apply a layout algorithm on the network","matTooltipPosition","right",3,"matMenuTriggerFor"],["color","primary"],[1,"layout-menu-container"],["layoutMenu","matMenu"],[4,"ngIf","ngIfThen","ngIfElse"],["noLayouts",""],["layoutOptions",""],[1,"no-layout-container"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(De(0,"button",0)(1,"mat-icon",1),hn(2,"hub"),Fe()(),De(3,"mat-menu",2,3),bt(5,N$,1,0,"div",4),Fe(),bt(6,B$,2,0,"ng-template",null,5,nd),bt(8,H$,1,1,"ng-template",null,6,nd)),2&t){const n=Kr(4),r=Kr(7),o=Kr(9);je("matMenuTriggerFor",n),tt(5),je("ngIf",e.autoLayoutsAvailable())("ngIfThen",o)("ngIfElse",r)}},dependencies:[C_,ua,GI,yA,A$,Vv,F$,PA,lh],styles:[".no-layout-container[_ngcontent-%COMP%]{padding:10px}.layout-menu-container[_ngcontent-%COMP%]{max-height:25vh}"]});class dh{constructor(t){this.cytoscapeService=t}resetView(){this.cytoscapeService.resetView()}}dh.\u0275fac=function(t){return new(t||dh)(I(Za))},dh.\u0275cmp=Mt({type:dh,selectors:[["app-canvas-control"]],decls:8,vars:0,consts:[[1,"canvas-control-container"],[1,"mini-viewport-container"],[1,"canvas-control-button-container"],["mat-icon-button","","matTooltip","Reset the view","matTooltipPosition","right",3,"click"],["color","primary"]],template:function(t,e){1&t&&(De(0,"div",0)(1,"div",1),It(2,"app-mini-viewport"),Fe(),De(3,"div",2),It(4,"app-graph-auto-layout"),De(5,"button",3),Ct("click",function(){return e.resetView()}),De(6,"mat-icon",4),hn(7,"fullscreen"),Fe()()()())},dependencies:[GI,yA,PA,sh,ch],styles:[".canvas-control-container[_ngcontent-%COMP%]{display:flex;position:relative;flex-direction:row;flex:1;padding:10px;bottom:0;left:0}.canvas-control-button-container[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding-left:20px;justify-content:flex-end}.mini-viewport-container[_ngcontent-%COMP%]{display:flex;height:20vh;width:20vw;max-width:300px;max-height:200px}#mini-viewport[_ngcontent-%COMP%]{position:relative;width:100%;margin:10px}"]});let uh=(()=>{class i{constructor(){this._listeners=[]}notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),U$=0;const oC=new oe("CdkAccordion");let $$=(()=>{class i{constructor(){this._stateChanges=new Ce,this._openCloseAllActions=new Ce,this.id="cdk-accordion-"+U$++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Qe(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Ve([{provide:oC,useExisting:i}]),zt]}),i})(),G$=0,W$=(()=>{class i{constructor(e,n,r){this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=fe.EMPTY,this.closed=new rt,this.opened=new rt,this.destroyed=new rt,this.expandedChange=new rt,this.id="cdk-accordion-child-"+G$++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Qe(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Qe(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return i.\u0275fac=function(e){return new(e||i)(I(oC,12),I(Ti),I(uh))},i.\u0275dir=re({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ve([{provide:oC,useValue:void 0}])]}),i})(),UA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();const Y$=["body"];function q$(i,t){}const K$=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],X$=["mat-expansion-panel-header","*","mat-action-row"];function Q$(i,t){1&i&&It(0,"span",2),2&i&&je("@indicatorRotate",di()._getExpandedState())}const Z$=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],J$=["mat-panel-title","mat-panel-description","*"],sC=new oe("MAT_ACCORDION"),$A="225ms cubic-bezier(0.4,0.0,0.2,1)",GA={indicatorRotate:fn("indicatorRotate",[si("collapsed, void",dt({transform:"rotate(0deg)"})),si("expanded",dt({transform:"rotate(180deg)"})),ui("expanded <=> collapsed, void => collapsed",pi($A))]),bodyExpansion:fn("bodyExpansion",[si("collapsed, void",dt({height:"0px",visibility:"hidden"})),si("expanded",dt({height:"*",visibility:"visible"})),ui("expanded <=> collapsed, void => collapsed",pi($A))])},WA=new oe("MAT_EXPANSION_PANEL");let e6=(()=>{class i{constructor(e,n){this._template=e,this._expansionPanel=n}}return i.\u0275fac=function(e){return new(e||i)(I(xn),I(WA,8))},i.\u0275dir=re({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),t6=0;const YA=new oe("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let qA=(()=>{class i extends W${constructor(e,n,r,o,d,p,g){super(e,n,r),this._viewContainerRef=o,this._animationMode=p,this._hideToggle=!1,this.afterExpand=new rt,this.afterCollapse=new rt,this._inputChanges=new Ce,this._headerId="mat-expansion-panel-header-"+t6++,this._bodyAnimationDone=new Ce,this.accordion=e,this._document=d,this._bodyAnimationDone.pipe(av((y,C)=>y.fromState===C.fromState&&y.toState===C.toState)).subscribe(y=>{"void"!==y.fromState&&("expanded"===y.toState?this.afterExpand.emit():"collapsed"===y.toState&&this.afterCollapse.emit())}),g&&(this.hideToggle=g.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Qe(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Tn(null),zi(()=>this.expanded&&!this._portal),sn(1)).subscribe(()=>{this._portal=new ah(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}}return i.\u0275fac=function(e){return new(e||i)(I(sC,12),I(Ti),I(uh),I(mn),I(Ft),I(En,8),I(YA,8))},i.\u0275cmp=Mt({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(e,n,r){if(1&e&&Kt(r,e6,5),2&e){let o;$e(o=Ge())&&(n._lazyContent=o.first)}},viewQuery:function(e,n){if(1&e&&oi(Y$,5),2&e){let r;$e(r=Ge())&&(n._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,n){2&e&&St("mat-expanded",n.expanded)("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ve([{provide:sC,useValue:void 0},{provide:WA,useExisting:i}]),Te,zt],ngContentSelectors:X$,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,n){1&e&&(Di(K$),ct(0),De(1,"div",0,1),Ct("@bodyExpansion.done",function(o){return n._bodyAnimationDone.next(o)}),De(3,"div",2),ct(4,1),bt(5,q$,0,0,"ng-template",3),Fe(),ct(6,2),Fe()),2&e&&(tt(1),je("@bodyExpansion",n._getExpandedState())("id",n.id),Et("aria-labelledby",n._headerId),tt(4),je("cdkPortalOutlet",n._portal))},dependencies:[Nv],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[GA.bodyExpansion]},changeDetection:0}),i})();class n6{}const r6=ic(n6);let KA=(()=>{class i extends r6{constructor(e,n,r,o,d,p,g){super(),this.panel=e,this._element=n,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=p,this._parentChangeSubscription=fe.EMPTY;const y=e.accordion?e.accordion._stateChanges.pipe(zi(C=>!(!C.hideToggle&&!C.togglePosition))):Yi;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=bn(e.opened,e.closed,y,e._inputChanges.pipe(zi(C=>!!(C.hideToggle||C.disabled||C.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(zi(()=>e._containsFocus())).subscribe(()=>r.focusVia(n,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:nn(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(e){return new(e||i)(I(qA,1),I(qe),I(ha),I(Ti),I(YA,8),I(En,8),Ar("tabindex"))},i.\u0275cmp=Mt({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,n){1&e&&Ct("click",function(){return n._toggle()})("keydown",function(o){return n._keydown(o)}),2&e&&(Et("id",n.panel._headerId)("tabindex",n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),Sa("height",n._getHeaderHeight()),St("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after","after"===n._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===n._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Te],ngContentSelectors:J$,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,n){1&e&&(Di(Z$),De(0,"span",0),ct(1),ct(2,1),ct(3,2),Fe(),bt(4,Q$,1,1,"span",1)),2&e&&(St("mat-content-hide-toggle",!n._showToggle()),tt(4),je("ngIf",n._showToggle()))},dependencies:[ua],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[GA.indicatorRotate]},changeDetection:0}),i})(),a6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=re({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),i})(),o6=(()=>{class i extends $${constructor(){super(...arguments),this._ownHeaders=new zs,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Qe(e)}ngAfterContentInit(){this._headers.changes.pipe(Tn(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Ip(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=At(i)))(n||i)}}(),i.\u0275dir=re({type:i,selectors:[["mat-accordion"]],contentQueries:function(e,n,r){if(1&e&&Kt(r,KA,5),2&e){let o;$e(o=Ge())&&(n._headers=o)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,n){2&e&&St("mat-accordion-multi",n.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Ve([{provide:sC,useExisting:i}]),Te]}),i})(),s6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[pn,wt,UA,Eo]}),i})();class hh{constructor(t){this.el=t}ngOnInit(){this.setNodeStyle(this.el.nativeElement.querySelector(".node-key-item"),this.style)}setNodeStyle(t,e){!t||!e||(e["border-color"]&&(t.style.borderColor=e["border-color"]),e["background-color"]&&(t.style.backgroundColor=e["background-color"]),e["background-image"]&&(t.style.backgroundImage=`url(${e["background-image"]})`,t.style.backgroundSize="80% 80%",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center center"))}}function l6(i,t){if(1&i&&It(0,"app-node-colour-key-item",4),2&i){const e=t.$implicit;(function vo(i){yo(zk,_F,i,!1)})(null==e||null==e.cytoscapeStyleSheet?null:e.cytoscapeStyleSheet.style),je("label",null==e?null:e.label)}}hh.\u0275fac=function(t){return new(t||hh)(I(qe))},hh.\u0275cmp=Mt({type:hh,selectors:[["app-node-colour-key-item"]],inputs:{label:"label",style:"style"},decls:4,vars:1,consts:[[1,"node-key-item-container"],[1,"node-key-item"],[1,"node-key-label"]],template:function(t,e){1&t&&(De(0,"div",0),It(1,"div",1),De(2,"div",2),hn(3),Fe()()),2&t&&(tt(3),Gl(e.label))},styles:["[_nghost-%COMP%]{display:flex}.node-key-item-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;align-items:center}.node-key-item[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:12px;border:transparent solid 2px;align-items:center;margin:10px}.node-key-label[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:5px 0 5px 15px}"]});class mh{constructor(t){this.nodeKey=t}colourKeyList(){return this.nodeKey&&Array.isArray(this.nodeKey)?this.nodeKey.filter(t=>!t.noKeyDisplay):[]}}mh.\u0275fac=function(t){return new(t||mh)(I(ix))},mh.\u0275cmp=Mt({type:mh,selectors:[["app-node-colour-key"]],decls:8,vars:1,consts:[[1,"node-colour-key-container"],["data-cy","node-colour-key-expansion-panel"],["data-cy","node-colour-key-content",1,"node-colour-key-list"],[3,"label","style",4,"ngFor","ngForOf"],[3,"label"]],template:function(t,e){1&t&&(De(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),hn(5," Node Colour Key "),Fe()(),De(6,"div",2),bt(7,l6,1,3,"app-node-colour-key-item",3),Fe()()()()),2&t&&(tt(7),je("ngForOf",e.colourKeyList()))},dependencies:[C_,o6,qA,KA,a6,hh],styles:[".node-colour-key-container[_ngcontent-%COMP%]{display:flex;width:250px;padding:10px}.mat-accordion[_ngcontent-%COMP%]{width:100%}.node-colour-key-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});const c6=["cytoscapeCanvas"];class ph{constructor(t,e,n){this.cytoscapeService=t,this.importService=e,this.interactionService=n,this.curNetworkJsonString=""}ngAfterViewInit(){this.cytoscapeService.init(this.cytoscapeCanvas?.nativeElement),globalThis.NETWORK&&(this.curNetworkJsonString=globalThis.NETWORK,this.importService.loadNetworkFromWindow(globalThis.NETWORK))}listenToNetworkChange(t){!t||t?.detail==this.curNetworkJsonString||(this.curNetworkJsonString=t?.detail,this.importService.loadNetworkFromWindow(t?.detail))}listenToNetworkSettingsChange(t){let e={};for(const n of t?.detail)e[`${n[0]}`]=n[1];"UPDATE_NETWORK_DETAILS"!=e._operation?"UPDATE_NETWORK_METADATA"!=e._operation||this.interactionService.processNetworkMetadataChanges(e):this.interactionService.processNetworkSettingsChanges(e)}listenToSelectedNodeListItem(t){this.interactionService.processNodeSelected(t?.detail)}listenToNodeListItemDelete(t){this.interactionService.processNodeDelete(t?.detail)}onResize(t){const e=this.cytoscapeCanvas.nativeElement,n=document.getElementById("top-nav")?document.getElementById("top-nav").offsetHeight:0,r=document.getElementById("toolbar")?document.getElementById("toolbar").offsetWidth:0,o=document.getElementById("network-sidenav")?document.getElementById("network-sidenav").offsetWidth:0;e.style.width=t.target.innerWidth-(r+o)+"px",e.style.height=t.target.innerHeight-n+"px",this.cytoscapeService.resetView()}loadFile(t){this.importService.loadFile(t)}}ph.\u0275fac=function(t){return new(t||ph)(I(Za),I(nh),I(Ys))},ph.\u0275cmp=Mt({type:ph,selectors:[["app-network-view"]],viewQuery:function(t,e){if(1&t&&oi(c6,7),2&t){let n;$e(n=Ge())&&(e.cytoscapeCanvas=n.first)}},hostBindings:function(t,e){1&t&&Ct("networkUpdate",function(r){return e.listenToNetworkChange(r)},0,fr)("networkSettingsUpdate",function(r){return e.listenToNetworkSettingsChange(r)},!1,fr)("nodeSelected",function(r){return e.listenToSelectedNodeListItem(r)},!1,fr)("deleteNode",function(r){return e.listenToNodeListItemDelete(r)},!1,fr)("resize",function(r){return e.onResize(r)},!1,jl)},decls:6,vars:0,consts:[[1,"window"],["window",""],["id","cytoscapeCanvas","appFileDragDrop","","data-cy","cytoscape-canvas",1,"main",3,"fileDropped"],["cytoscapeCanvas",""]],template:function(t,e){1&t&&(De(0,"div",0,1),It(2,"app-node-colour-key")(3,"app-canvas-control"),De(4,"div",2,3),Ct("fileDropped",function(r){return e.loadFile(r)}),Fe()())},dependencies:[rh,dh,mh],styles:["[_nghost-%COMP%]{display:flex;flex:1;max-height:100%}.window[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1}.window[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex:1}.window[_ngcontent-%COMP%]   app-node-colour-key[_ngcontent-%COMP%]{z-index:999;position:absolute;top:0;left:0}.window[_ngcontent-%COMP%]   app-canvas-control[_ngcontent-%COMP%]{display:flex;z-index:999;position:absolute;bottom:0;left:0}.fileover[_ngcontent-%COMP%]{background-color:#ffffff1a}"]});const d6=["nodePropertiesSideNav"];class Gp{constructor(t,e,n,r){this.saveUrl=t,this.http=e,this.networkService=n,this.interactionService=r}ngOnInit(){this.interactionService.selectedItem.subscribe(t=>{this.toggleNodePropertiesSidenav(t)}),this.networkService.networkObservable.pipe(Xl(t=>this.updateNodeList(t?.nodeList)),Fu(1e3)).subscribe(t=>{t?.documentMetadata?.locked||this.updateNetwork()})}updateNodeList(t){document.dispatchEvent(new CustomEvent("updateNodeList",{detail:t}))}updateNetwork(){const t=JSON.stringify(this.networkService.getNetworkJson());this.http.post(this.saveUrl,t).subscribe()}handleKeyboardEvent(t){this.interactionService.keyInput(t)}toggleNodePropertiesSidenav(t){if(t?.type!==Do.NODE)return void this.sidenav.close();const e=this.networkService.getNodeById(t.id);!e||this.sidenav.open(e)}}Gp.\u0275fac=function(t){return new(t||Gp)(I(O1),I(Lu),I(ko),I(Ys))},Gp.\u0275cmp=Mt({type:Gp,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&oi(d6,7),2&t){let n;$e(n=Ge())&&(e.sidenav=n.first)}},hostBindings:function(t,e){1&t&&Ct("keydown",function(r){return e.handleKeyboardEvent(r)},0,fr)},decls:3,vars:0,consts:[["nodePropertiesSideNav",""]],template:function(t,e){1&t&&(De(0,"app-node-properties-sidenav",null,0),It(2,"app-network-view"),Fe())},dependencies:[ih,ph],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column nowrap;width:100%;overflow:hidden}app-node-properties-sidenav[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;flex-grow:1}.content[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;flex-grow:1;width:100%;justify-content:flex-start}.mat-drawer-container[_ngcontent-%COMP%]{display:flex;flex:1}"]});let u6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();function lC(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function fh(i,t){const e=t?"":"none";lC(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function XA(i,t,e){lC(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function jv(i,t){return t&&"none"!=t?i+" "+t:i}function QA(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function cC(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}function dC(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function uC(i,t,e){const{top:n,bottom:r,left:o,right:d}=i;return e>=n&&e<=r&&t>=o&&t<=d}function Wp(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function ZA(i,t,e,n){const{top:r,right:o,bottom:d,left:p,width:g,height:y}=i,C=g*t,E=y*t;return n>r-E&&n<d+E&&e>p-C&&e<o+C}class JA{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:dC(e)})})}handleScroll(t){const e=Jr(t),n=this.positions.get(e);if(!n)return null;const r=n.scrollPosition;let o,d;if(e===this._document){const y=this.getViewportScrollPosition();o=y.top,d=y.left}else o=e.scrollTop,d=e.scrollLeft;const p=r.top-o,g=r.left-d;return this.positions.forEach((y,C)=>{y.clientRect&&e!==C&&e.contains(C)&&Wp(y.clientRect,p,g)}),r.top=o,r.left=d,{top:p,left:g}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function eR(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===n?nR(i,t):("input"===n||"select"===n||"textarea"===n)&&iR(i,t),tR("canvas",i,t,nR),tR("input, textarea, select",i,t,iR),t}function tR(i,t,e,n){const r=t.querySelectorAll(i);if(r.length){const o=e.querySelectorAll(i);for(let d=0;d<r.length;d++)n(r[d],o[d])}}let p6=0;function iR(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${p6++}`)}function nR(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}const rR=Mo({passive:!0}),Uv=Mo({passive:!1}),hC=new Set(["position"]);class g6{constructor(t,e,n,r,o,d){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=d,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ce,this._pointerMoveSubscription=fe.EMPTY,this._pointerUpSubscription=fe.EMPTY,this._scrollSubscription=fe.EMPTY,this._resizeSubscription=fe.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ce,this.started=new Ce,this.released=new Ce,this.ended=new Ce,this.entered=new Ce,this.exited=new Ce,this.dropped=new Ce,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const g=this._getTargetHandle(p);g&&!this._disabledHandles.has(g)&&!this.disabled&&this._initializeDragSequence(g,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const g=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(g.x-this._pickupPositionOnPage.x)+Math.abs(g.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const B=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),Y=this._dropContainer;if(!B)return void this._endDragSequence(p);(!Y||!Y.isDragging()&&!Y.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}p.preventDefault();const y=this._getConstrainedPointerPosition(g);if(this._hasMoved=!0,this._lastKnownPointerPosition=g,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,g);else{const C=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,E=this._activeTransform;E.x=y.x-C.x+this._passiveTransform.x,E.y=y.y-C.y+this._passiveTransform.y,this._applyRootElementTransform(E.x,E.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:p,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this._nativeDragStart=p=>{if(this._handles.length){const g=this._getTargetHandle(p);g&&!this._disabledHandles.has(g)&&!this.disabled&&p.preventDefault()}else this.disabled||p.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new JA(n),d.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Qe(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>fh(n,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>Sn(n)),this._handles.forEach(n=>fh(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Sn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Uv),e.addEventListener("touchstart",this._pointerDown,rR),e.addEventListener("dragstart",this._nativeDragStart,Uv)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Sn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),fh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),fh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Yp(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,r=n.parentNode,o=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();r.insertBefore(d,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),XA(n,!1,hC),this._document.body.appendChild(r.replaceChild(o,n)),this._getPreviewInsertionPoint(r,p).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=Yp(e),o=!r&&0!==e.button,d=this._rootElement,p=Jr(e),g=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),y=r?hv(e):uv(e);if(p&&p.draggable&&"mousedown"===e.type&&e.preventDefault(),n||o||g||y)return;if(this._handles.length){const P=d.style;this._rootElementTapHighlight=P.webkitTapHighlightColor||"",P.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(P=>this._updateOnScroll(P)),this._boundaryElement&&(this._boundaryRect=dC(this._boundaryElement));const C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const E=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:E.x,y:E.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){XA(this._rootElement,!0,hC),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),d=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:d,distance:o,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,d,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const o=t.matchSize?this._initialClientRect:null,d=t.viewContainer.createEmbeddedView(n,t.context);d.detectChanges(),r=oR(d,this._document),this._previewRef=d,t.matchSize?sR(r,o):r.style.transform=$v(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=eR(this._rootElement),sR(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return lC(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},hC),fh(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function m6(i){const t=getComputedStyle(i),e=cC(t,"transition-property"),n=e.find(p=>"transform"===p||"all"===p);if(!n)return 0;const r=e.indexOf(n),o=cC(t,"transition-duration"),d=cC(t,"transition-delay");return QA(o[r])+QA(d[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=d=>{(!d||Jr(d)===this._preview&&"transform"===d.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=oR(this._placeholderRef,this._document)):n=eR(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,d=Yp(n)?n.targetTouches[0]:n,p=this._getViewportScrollPosition();return{x:o.left-t.left+(d.pageX-o.left-p.left),y:o.top-t.top+(d.pageY-o.top-p.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Yp(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){const d=this._ownerSVGElement.getScreenCTM();if(d){const p=this._ownerSVGElement.createSVGPoint();return p.x=r,p.y=o,p.matrixTransform(d.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:d}=this._pickupPositionInElement,p=this._boundaryRect,{width:g,height:y}=this._getPreviewRect(),C=p.top+d,E=p.bottom-(y-d);n=aR(n,p.left+o,p.right-(g-o)),r=aR(r,C,E)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,d=Math.abs(e-o.x),p=Math.abs(n-o.y);return d>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),p>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,fh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Uv),t.removeEventListener("touchstart",this._pointerDown,rR),t.removeEventListener("dragstart",this._nativeDragStart,Uv)}_applyRootElementTransform(t,e){const n=$v(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=jv(n,this._initialTransform)}_applyPreviewTransform(t,e){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=$v(t,e);this._preview.style.transform=jv(r,n)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const o=r.left-n.left,d=n.right-r.right,p=r.top-n.top,g=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),d>0&&(t-=d)):t=0,r.height>n.height?(p>0&&(e+=p),g>0&&(e-=g)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Yp(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=Jr(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Wp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=_x(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Sn(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function $v(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function aR(i,t,e){return Math.max(t,Math.min(e,i))}function Yp(i){return"t"===i.type[0]}function oR(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function sR(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=$v(t.left,t.top)}function qp(i,t){return Math.max(0,Math.min(t,i))}class v6{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,n,r){const o=this._itemPositions,d=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===d&&o.length>0)return null;const p="horizontal"===this.orientation,g=o.findIndex(ie=>ie.drag===t),y=o[d],E=y.clientRect,P=g>d?1:-1,B=this._getItemOffsetPx(o[g].clientRect,E,P),Y=this._getSiblingOffsetPx(g,o,P),X=o.slice();return function _6(i,t,e){const n=qp(t,i.length-1),r=qp(e,i.length-1);if(n===r)return;const o=i[n],d=r<n?-1:1;for(let p=n;p!==r;p+=d)i[p]=i[p+d];i[r]=o}(o,g,d),o.forEach((ie,ue)=>{if(X[ue]===ie)return;const He=ie.drag===t,ge=He?B:Y,lt=He?t.getPlaceholderElement():ie.drag.getRootElement();ie.offset+=ge,p?(lt.style.transform=jv(`translate3d(${Math.round(ie.offset)}px, 0, 0)`,ie.initialTransform),Wp(ie.clientRect,0,ge)):(lt.style.transform=jv(`translate3d(0, ${Math.round(ie.offset)}px, 0)`,ie.initialTransform),Wp(ie.clientRect,ge,0))}),this._previousSwap.overlaps=uC(E,e,n),this._previousSwap.drag=y.drag,this._previousSwap.delta=p?r.x:r.y,{previousIndex:g,currentIndex:d}}enter(t,e,n,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,d=this._activeDraggables,p=d.indexOf(t),g=t.getPlaceholderElement();let y=d[o];if(y===t&&(y=d[o+1]),!y&&(null==o||-1===o||o<d.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(y=d[0]),p>-1&&d.splice(p,1),y&&!this._dragDropRegistry.isDragging(y)){const C=y.getRootElement();C.parentElement.insertBefore(g,C),d.splice(o,0,t)}else Sn(this._element).appendChild(g),d.push(t);g.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{Wp(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:dC(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===n&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this.orientation,o=e[t].clientRect,d=e[t+-1*n];let p=o[r?"width":"height"]*n;if(d){const g=r?"left":"top",y=r?"right":"bottom";-1===n?p-=d.clientRect[g]-o[y]:p+=o[g]-d.clientRect[y]}return p}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const d=n[n.length-1].clientRect;return r?t>=d.right:e>=d.bottom}{const d=n[0].clientRect;return r?t<=d.left:e<=d.top}}_getItemIndexFromPointerPosition(t,e,n,r){const o="horizontal"===this.orientation,d=this._itemPositions.findIndex(({drag:p,clientRect:g})=>{if(p===t)return!1;if(r){const y=o?r.x:r.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&y===this._previousSwap.delta)return!1}return o?e>=Math.floor(g.left)&&e<Math.floor(g.right):n>=Math.floor(g.top)&&n<Math.floor(g.bottom)});return-1!==d&&this._sortPredicate(d,t)?d:-1}}class b6{constructor(t,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ce,this.entered=new Ce,this.exited=new Ce,this.dropped=new Ce,this.sorted=new Ce,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=fe.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ce,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function h6(i=0,t=wp){return i<0&&(i=0),px(i,i,t)}(0,J1).pipe(gt(this._stopScrollTimers)).subscribe(()=>{const d=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?d.scrollBy(0,-p):2===this._verticalScrollDirection&&d.scrollBy(0,p),1===this._horizontalScrollDirection?d.scrollBy(-p,0):2===this._horizontalScrollDirection&&d.scrollBy(p,0)})},this.element=Sn(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new JA(n),this._sortStrategy=new v6(this.element,e),this._sortStrategy.withSortPredicate((d,p)=>this.sortPredicate(d,p,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,o,d,p,g={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:d,dropPoint:p,event:g})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Sn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!ZA(this._clientRect,.05,e,n))return;const o=this._sortStrategy.sort(t,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,o=0;if(this._parentPositions.positions.forEach((d,p)=>{p===this._document||!d.clientRect||n||ZA(d.clientRect,.05,t,e)&&([r,o]=function y6(i,t,e,n){const r=dR(t,n),o=uR(t,e);let d=0,p=0;if(r){const g=i.scrollTop;1===r?g>0&&(d=1):i.scrollHeight-g>i.clientHeight&&(d=2)}if(o){const g=i.scrollLeft;1===o?g>0&&(p=1):i.scrollWidth-g>i.clientWidth&&(p=2)}return[d,p]}(p,d.clientRect,t,e),(r||o)&&(n=p))}),!r&&!o){const{width:d,height:p}=this._viewportRuler.getViewportSize(),g={width:d,height:p,top:0,right:d,bottom:p,left:0};r=dR(g,e),o=uR(g,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Sn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Sn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Sn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&uC(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!uC(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const o=Sn(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=_x(Sn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function dR(i,t){const{top:e,bottom:n,height:r}=i,o=.05*r;return t>=e-o&&t<=e+o?1:t>=n-o&&t<=n+o?2:0}function uR(i,t){const{left:e,right:n,width:r}=i,o=.05*r;return t>=e-o&&t<=e+o?1:t>=n-o&&t<=n+o?2:0}const Gv=Mo({passive:!1,capture:!0});let w6=(()=>{class i{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ce,this.pointerUp=new Ce,this.scroll=new Ce,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Gv)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Gv)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Gv}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Gv}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,d)=>{this._document.addEventListener(d,o.handler,o.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new vt(r=>this._ngZone.runOutsideAngular(()=>{const d=p=>{this._activeDragInstances.length&&r.next(p)};return e.addEventListener("scroll",d,!0),()=>{e.removeEventListener("scroll",d,!0)}}))),bn(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(ae(ht),ae(Ft))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const x6={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let mC=(()=>{class i{constructor(e,n,r,o){this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,n=x6){return new g6(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new b6(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(ae(Ft),ae(ht),ae(zu),ae(w6))},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),A6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[mC],imports:[Zo]}),i})(),gR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[Vu]}),i})(),xR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[rv]}),i})(),CR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})();function Zp(i){return new vt(t=>{or(i()).subscribe(t)})}const J6={provide:new oe("mat-autocomplete-scroll-strategy"),deps:[Lr],useFactory:function Z6(i){return()=>i.scrollStrategies.reposition()}};let iG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[J6],imports:[is,fv,wt,pn,Zo,fv,wt]}),i})(),nG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[Wu,wt,wt]}),i})();function rG(i,t){}class nb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let kR=(()=>{class i extends tC{constructor(e,n,r,o,d,p,g,y){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=d,this._ngZone=p,this._overlayRef=g,this._focusMonitor=y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>{this._portalOutlet.hasAttached();const E=this._portalOutlet.attachDomPortal(C);return this._contentAttached(),E},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=nv(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=nv();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=nv())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(dv),I(Ft,8),I(nb),I(Ap),I(ht),I(jp),I(ha))},i.\u0275cmp=Mt({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(1&e&&oi(Nv,7),2&e){let r;$e(r=Ge())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){2&e&&Et("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[Te],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&bt(0,rG,0,0,"ng-template",0)},dependencies:[Nv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class AC{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ce,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!nn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const MR=new oe("DialogScrollStrategy"),aG=new oe("DialogData"),oG=new oe("DefaultDialogConfig"),lG={provide:MR,deps:[Lr],useFactory:function sG(i){return()=>i.scrollStrategies.block()}};let cG=0,ER=(()=>{class i{constructor(e,n,r,o,d,p){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ce,this._afterOpenedAtThisLevel=new Ce,this._ariaHiddenElements=new Map,this.afterAllClosed=Zp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,n){(n={...this._defaultOptions||new nb,...n}).id=n.id||"cdk-dialog-"+cG++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),d=this._overlay.create(o),p=new AC(d,n),g=this._attachContainer(d,p,n);return p.containerInstance=g,this._attachDialogContent(e,p,g,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){RC(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){RC(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),RC(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new oh({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,d=[{provide:nb,useValue:r},{provide:AC,useValue:n},{provide:jp,useValue:e}];let p;r.container?"function"==typeof r.container?p=r.container:(p=r.container.type,d.push(...r.container.providers(r))):p=kR;const g=new Lv(p,r.viewContainerRef,Er.create({parent:o||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,n,r,o){if(e instanceof xn){const d=this._createInjector(o,n,r,void 0);let p={$implicit:o.data,dialogRef:n};o.templateContext&&(p={...p,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new ah(e,null,p,d))}else{const d=this._createInjector(o,n,r,this._injector),p=r.attachComponentPortal(new Lv(e,o.viewContainerRef,d,o.componentFactoryResolver));n.componentInstance=p.instance}}_createInjector(e,n,r,o){const d=e.injector||e.viewContainerRef?.injector,p=[{provide:aG,useValue:e.data},{provide:AC,useValue:n}];return e.providers&&("function"==typeof e.providers?p.push(...e.providers(n,e,r)):p.push(...e.providers)),e.direction&&(!d||!d.get(Kn,null,{optional:!0}))&&p.push({provide:Kn,useValue:{value:e.direction,change:Zr()}}),Er.create({parent:d||o,providers:p})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(e){return new(e||i)(ae(Lr),ae(Er),ae(oG,8),ae(i,12),ae(Bv),ae(MR))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})();function RC(i,t){let e=i.length;for(;e--;)t(i[e])}let OC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[ER,lG],imports:[is,Eo,Wu,Eo]}),i})(),dG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[OC,wt,Eo,wt]}),i})(),_G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,Ra,wt]}),i})(),PR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({}),i})(),IG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,Ra,PR,wt,PR]}),i})();const NR=new oe("mat-chips-default-options");let dW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[pv,{provide:NR,useValue:{separatorKeyCodes:[13]}}],imports:[wt,pn,Ra,wt]}),i})(),LC=(()=>{class i{constructor(){this.changes=new Ce,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wW={provide:LC,deps:[[new Cr,new Yr,LC]],useFactory:function yW(i){return i||new LC}};let xW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[wW,pv],imports:[wt,pn,Eo,gR,wA,Ra,wt]}),i})(),kW=(()=>{class i{constructor(){this.changes=new Ce,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FW={provide:new oe("mat-datepicker-scroll-strategy"),deps:[Lr],useFactory:function PW(i){return()=>i.scrollStrategies.reposition()}};let jW=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[kW,FW],imports:[pn,Iv,is,Wu,Eo,wt,Zo]}),i})();var _d_OPEN="mdc-dialog--open",QR_DIALOG_ANIMATION_CLOSE_TIME_MS=(["textarea",".mdc-menu .mdc-list-item",".mdc-menu .mdc-deprecated-list-item"].join(", "),75);function UW(i,t){}class cb{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}let $W=(()=>{class i extends kR{constructor(e,n,r,o,d,p,g,y){super(e,n,r,o,d,p,g,y),this._animationStateChanged=new rt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(dv),I(Ft,8),I(cb),I(Ap),I(ht),I(jp),I(ha))},i.\u0275cmp=Mt({type:i,selectors:[["ng-component"]],features:[Te],decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})();const ZR="--mat-dialog-transition-duration";function JR(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?tn(i.substring(0,i.length-2)):i.endsWith("s")?1e3*tn(i.substring(0,i.length-1)):"0"===i?0:null}let GW=(()=>{class i extends $W{constructor(e,n,r,o,d,p,g,y,C){super(e,n,r,o,d,p,g,C),this._animationMode=y,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?JR(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?JR(this._config.exitAnimationDuration)??QR_DIALOG_ANIMATION_CLOSE_TIME_MS:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ZR,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--opening"),this._hostElement.classList.add(_d_OPEN),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_d_OPEN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(_d_OPEN),this._animationsEnabled?(this._hostElement.style.setProperty(ZR,`${this._openAnimationDuration}ms`),this._hostElement.classList.add("mdc-dialog--closing"),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove("mdc-dialog--opening"),this._hostElement.classList.remove("mdc-dialog--closing")}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}}return i.\u0275fac=function(e){return new(e||i)(I(qe),I(dv),I(Ft,8),I(cb),I(Ap),I(ht),I(jp),I(En,8),I(ha))},i.\u0275cmp=Mt({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,n){2&e&&(Fr("id",n._config.id),Et("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),St("_mat-animation-noopable",!n._animationsEnabled))},features:[Te],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(De(0,"div",0)(1,"div",1),bt(2,UW,0,0,"ng-template",2),Fe()())},dependencies:[Nv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),i})();class WW{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new Ce,this._beforeClosed=new Ce,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(zi(r=>"opened"===r.state),sn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(zi(r=>"closed"===r.state),sn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),bn(this.backdropClick(),this.keydownEvents().pipe(zi(r=>27===r.keyCode&&!this.disableClose&&!nn(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function YW(i,t,e){i._closeInteractionType=t,i.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(zi(e=>"closing"===e.state),sn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const qW=new oe("MatMdcDialogData"),KW=new oe("mat-mdc-dialog-default-options"),eO=new oe("mat-mdc-dialog-scroll-strategy"),QW={provide:eO,deps:[Lr],useFactory:function XW(i){return()=>i.scrollStrategies.block()}};let ZW=0,JW=(()=>{class i{constructor(e,n,r,o,d,p,g,y,C,E){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=g,this._dialogContainerType=y,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ce,this._afterOpenedAtThisLevel=new Ce,this._idPrefix="mat-dialog-",this.dialogConfigClass=cb,this.afterAllClosed=Zp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0))),this._scrollStrategy=p,this._dialog=n.get(ER)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){let r;(n={...this._defaultOptions||new cb,...n}).id=n.id||`${this._idPrefix}${ZW++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:nb,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(d,p,g)=>(r=new this._dialogRefConstructor(d,n,g),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return i.\u0275fac=function(e){Ul()},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})(),e7=(()=>{class i extends JW{constructor(e,n,r,o,d,p,g,y){super(e,n,o,p,g,d,WW,GW,qW,y),this._idPrefix="mat-mdc-dialog-"}}return i.\u0275fac=function(e){return new(e||i)(ae(Lr),ae(Er),ae(rw,8),ae(KW,8),ae(eO),ae(i,12),ae(Bv),ae(En,8))},i.\u0275prov=ze({token:i,factory:i.\u0275fac}),i})(),t7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[e7,QW],imports:[OC,is,Eo,wt,wt]}),i})(),iO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,wt]}),i})(),a7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[kT,wt,kT,wt]}),i})(),T7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[ov,pn,wt,Ra,AT,iO]}),i})();const P7={provide:new oe("mat-select-scroll-strategy"),deps:[Lr],useFactory:function O7(i){return()=>i.scrollStrategies.reposition()}};let lO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[P7],imports:[pn,is,fv,wt,Zo,Zx,fv,wt]}),i})(),VC=(()=>{class i{constructor(){this.changes=new Ce,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const o=e*n;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+n,r):o+n} of ${r}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const V7={provide:VC,deps:[[new Cr,new Yr,VC]],useFactory:function B7(i){return i||new VC}};let H7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[V7],imports:[pn,Iv,lO,FA]}),i})(),j7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt]}),i})(),G7=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[pn,wt]}),i})(),nY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,pn,Ra,wt]}),i})(),oY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[is,Eo,pn,Iv,wt,wt]}),i})(),HC=(()=>{class i{constructor(){this.changes=new Ce}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=ze({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cY={provide:HC,deps:[[new Cr,new Yr,HC]],useFactory:function lY(i){return i||new HC}};let dY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({providers:[cY],imports:[pn,wt]}),i})(),EY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,xR,wt]}),i})(),OY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[pn,wt,Eo,Ra,ov,Wu,wt]}),i})(),PY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[wt,wt]}),i})(),jY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[CR,wt,wt]}),i})(),h9=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=nt({type:i}),i.\u0275inj=it({imports:[is]}),i})();class sc{}sc.\u0275fac=function(t){return new(t||sc)},sc.\u0275mod=nt({type:sc}),sc.\u0275inj=it({imports:[Wu,UA,u6,h9,gR,xR,CR,A6,iG,nG,dG,Iv,_G,rj,IG,dW,xW,jW,t7,iO,s6,a7,wA,Gj,T7,L$,h3,H7,j7,G7,nY,Ra,lO,R3,lU,vU,oY,dY,EY,OY,PY,FA,jY,is,Eo,rv,OC]});class Ch{}Ch.\u0275fac=function(t){return new(t||Ch)},Ch.\u0275mod=nt({type:Ch}),Ch.\u0275inj=it({providers:[gd],imports:[pn,sc]});class Dh{}Dh.\u0275fac=function(t){return new(t||Dh)},Dh.\u0275mod=nt({type:Dh}),Dh.\u0275inj=it({providers:[md],imports:[pn,sc,zI]});class as{constructor(t){this.httpClient=t}get config(){return this._config}loadConfig(t){return this.httpClient.get(`${window.location.origin}/${t}`,{responseType:"text"}).pipe(Xl(e=>{let n=`${window.location.origin}/_static/dist/assets`;e=e.replaceAll(/{{ASSETS_PATH}}/gi,n);let r=window.location.origin;e=e.replaceAll(/{{HOST}}/gi,r),this._config=JSON.parse(e)}))}}as.\u0275fac=function(t){return new(t||as)(ae(Lu))},as.\u0275prov=ze({token:as,factory:as.\u0275fac,providedIn:"root"});class kh{}kh.\u0275fac=function(t){return new(t||kh)},kh.\u0275mod=nt({type:kh,bootstrap:[Gp]}),kh.\u0275inj=it({providers:[Za,as,{provide:z0,deps:[as],multi:!0,useFactory:i=>()=>i.loadConfig("_static/dist/assets/config.json").toPromise()},{provide:O1,useFactory:function m9(i){return i.config?.saveLocation},deps:[as]},{provide:R1,useFactory:function p9(i){return i.config?.layoutRequestUrl},deps:[as]},{provide:ix,useFactory:function f9(i){return i.config?.cytoscapeStyle},deps:[as]}],imports:[HS,s5,R5,sc,Dh,Ch]}),QV().bootstrapModule(kh).catch(i=>console.error(i))},6864:(he,Ye,Z)=>{"use strict";var J=Z(406),me=Z(5203),_e=Z(8817),ve=Z(4793),fe=Z(4152);function ke(l){return l&&"object"==typeof l&&"default"in l?l:{default:l}}var Ze=ke(J),mt=ke(me),_t=ke(_e),kt=ke(ve),Ki=ke(fe);function ni(l){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(l)}function Fn(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function _n(l,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}function Bi(l,a,s){return a&&_n(l.prototype,a),s&&_n(l,s),Object.defineProperty(l,"prototype",{writable:!1}),l}function ln(l,a,s){return a in l?Object.defineProperty(l,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[a]=s,l}function ki(l,a){return function Ne(l){if(Array.isArray(l))return l}(l)||function at(l,a){var s=null==l?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(null!=s){var m,f,c=[],u=!0,h=!1;try{for(s=s.call(l);!(u=(m=s.next()).done)&&(c.push(m.value),!a||c.length!==a);u=!0);}catch(v){h=!0,f=v}finally{try{!u&&null!=s.return&&s.return()}finally{if(h)throw f}}return c}}(l,a)||function ut(l,a){if(l){if("string"==typeof l)return Rt(l,a);var s=Object.prototype.toString.call(l).slice(8,-1);if("Object"===s&&l.constructor&&(s=l.constructor.name),"Map"===s||"Set"===s)return Array.from(l);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Rt(l,a)}}(l,a)||function Vi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(l,a){(null==a||a>l.length)&&(a=l.length);for(var s=0,c=new Array(a);s<a;s++)c[s]=l[s];return c}var Nt=typeof window>"u"?null:window,wi=Nt?Nt.navigator:null,Xi=ni(""),_r=ni({}),ia=ni(function(){}),Vr=typeof HTMLElement>"u"?"undefined":ni(HTMLElement),cn=function(a){return a&&a.instanceString&&Ai(a.instanceString)?a.instanceString():null},We=function(a){return null!=a&&ni(a)==Xi},Ai=function(a){return null!=a&&ni(a)===ia},gi=function(a){return!Ce(a)&&(Array.isArray?Array.isArray(a):null!=a&&a instanceof Array)},vt=function(a){return null!=a&&ni(a)===_r&&!gi(a)&&a.constructor===Object},Je=function(a){return null!=a&&ni(a)===ni(1)&&!isNaN(a)},wd=function(a){if("undefined"!==Vr)return null!=a&&a instanceof HTMLElement},Ce=function(a){return il(a)||Mh(a)},il=function(a){return"collection"===cn(a)&&a._private.single},Mh=function(a){return"collection"===cn(a)&&!a._private.single},kn=function(a){return"core"===cn(a)},vn=function(a){return"stylesheet"===cn(a)},ji=function(a){return null==a||!(""!==a&&!a.match(/^\s+$/))},nf=function(a){return function(a){return null!=a&&ni(a)===_r}(a)&&Ai(a.then)},xd=function(a,s){s||(s=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var h=[],m=0;m<arguments.length;m++)h.push(arguments[m]);return h.join("$")});var c=function u(){var f,h=this,m=arguments,v=s.apply(h,m),_=u.cache;return(f=_[v])||(f=_[v]=a.apply(h,m)),f};return c.cache={},c},rf=xd(function(l){return l.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}),Sh=xd(function(l){return l.replace(/(-\w)/g,function(a){return a[1].toUpperCase()})}),vb=xd(function(l,a){return l+a[0].toUpperCase()+a.substring(1)},function(l,a){return l+"$"+a}),bb=function(a){return ji(a)?a:a.charAt(0).toUpperCase()+a.substring(1)},Ln="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",lf=function(a,s){return a<s?-1:a>s?1:0},Bt=null!=Object.assign?Object.assign.bind(Object):function(l){for(var a=arguments,s=1;s<a.length;s++){var c=a[s];if(null!=c)for(var u=Object.keys(c),h=0;h<u.length;h++){var m=u[h];l[m]=c[m]}}return l},ZC={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cf=function(a){for(var s=a.map,c=a.keys,u=c.length,h=0;h<u;h++){var m=c[h];if(vt(m))throw Error("Tried to set map with object key");h<c.length-1?(null==s[m]&&(s[m]={}),s=s[m]):s[m]=a.value}},Cb=function(a){for(var s=a.map,c=a.keys,u=c.length,h=0;h<u;h++){var m=c[h];if(vt(m))throw Error("Tried to get map with object key");if(null==(s=s[m]))return s}return s},df=Nt?Nt.performance:null,Db=df&&df.now?function(){return df.now()}:function(){return Date.now()},JC=function(){if(Nt){if(Nt.requestAnimationFrame)return function(l){Nt.requestAnimationFrame(l)};if(Nt.mozRequestAnimationFrame)return function(l){Nt.mozRequestAnimationFrame(l)};if(Nt.webkitRequestAnimationFrame)return function(l){Nt.webkitRequestAnimationFrame(l)};if(Nt.msRequestAnimationFrame)return function(l){Nt.msRequestAnimationFrame(l)}}return function(l){l&&setTimeout(function(){l(Db())},1e3/60)}}(),Th=function(a){return JC(a)},ma=Db,ls=9261,Ih=65599,nl=5381,Ah=function(a){for(var u,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ls,c=s;!(u=a.next()).done;)c=c*Ih+u.value|0;return c},cc=function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ls;return s*Ih+a|0},rl=function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nl;return(s<<5)+s+a|0},to=function(a){return 2097152*a[0]+a[1]},dc=function(a,s){return[cc(a[0],s[0]),rl(a[1],s[1])]},cs=function(a,s){var c={value:0,done:!1},u=0,h=a.length;return Ah({next:function(){return u<h?c.value=a.charCodeAt(u++):c.done=!0,c}},s)},hf=function(){return kb(arguments)},kb=function(a){for(var s,c=0;c<a.length;c++){var u=a[c];s=0===c?cs(u):cs(u,s)}return s},mf=!0,pf=null!=console.warn,Mb=null!=console.trace,Rh=Number.MAX_SAFE_INTEGER||9007199254740991,Pa=function(){return!0},Cd=function(){return!1},Fa=function(){return 0},ds=function(){},Yi=function(a){throw new Error(a)},Eb=function(a){if(void 0===a)return mf;mf=!!a},Pi=function(a){!Eb()||(pf?console.warn(a):(console.log(a),Mb&&console.trace()))},na=function(a){return null==a?a:gi(a)?a.slice():vt(a)?function(a){return Bt({},a)}(a):a},al=function(a,s){for(s=a="";a++<36;s+=51*a&52?(15^a?8^Math.random()*(20^a?16:4):4).toString(16):"-");return s},Sb={},Oh=function(){return Sb},Nn=function(a){var s=Object.keys(a);return function(c){for(var u={},h=0;h<s.length;h++){var m=s[h],f=c?.[m];u[m]=void 0===f?a[m]:f}return u}},So=function(a,s,c){for(var u=a.length-1;u>=0&&(a[u]!==s||(a.splice(u,1),!c));u--);},Ph=function(a){a.splice(0,a.length)},pa=function(a,s,c){return c&&(s=vb(c,s)),a[s]},io=function(a,s,c,u){c&&(s=vb(c,s)),a[s]=u},La=typeof Map<"u"?Map:function(){function l(){Fn(this,l),this._obj={}}return Bi(l,[{key:"set",value:function(s,c){return this._obj[s]=c,this}},{key:"delete",value:function(s){return this._obj[s]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(s){return void 0!==this._obj[s]}},{key:"get",value:function(s){return this._obj[s]}}]),l}(),bn=function(){function l(a){if(Fn(this,l),this._obj=Object.create(null),this.size=0,null!=a){var s;s=null!=a.instanceString&&a.instanceString()===this.instanceString()?a.toArray():a;for(var c=0;c<s.length;c++)this.add(s[c])}}return Bi(l,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(s){var c=this._obj;1!==c[s]&&(c[s]=1,this.size++)}},{key:"delete",value:function(s){var c=this._obj;1===c[s]&&(c[s]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(s){return 1===this._obj[s]}},{key:"toArray",value:function(){var s=this;return Object.keys(this._obj).filter(function(c){return s.has(c)})}},{key:"forEach",value:function(s,c){return this.toArray().forEach(s,c)}}]),l}(),hs="undefined"!==(typeof Set>"u"?"undefined":ni(Set))?Set:bn,ol=function(a,s){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==a&&void 0!==s&&kn(a)){var u=s.group;if(null==u&&(u=s.data&&null!=s.data.source&&null!=s.data.target?"edges":"nodes"),"nodes"===u||"edges"===u){this.length=1,this[0]=this;var h=this._private={cy:a,single:!0,data:s.data||{},position:s.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:u,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!s.selected,selectable:void 0===s.selectable||!!s.selectable,locked:!!s.locked,grabbed:!1,grabbable:void 0===s.grabbable||!!s.grabbable,pannable:void 0===s.pannable?"edges"===u:!!s.pannable,active:!1,classes:new hs,animation:{current:[],queue:[]},rscratch:{},scratch:s.scratch||{},edges:[],children:[],parent:s.parent&&s.parent.isNode()?s.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==h.position.x&&(h.position.x=0),null==h.position.y&&(h.position.y=0),s.renderedPosition){var m=s.renderedPosition,f=a.pan(),v=a.zoom();h.position={x:(m.x-f.x)/v,y:(m.y-f.y)/v}}var _=[];gi(s.classes)?_=s.classes:We(s.classes)&&(_=s.classes.split(/\s+/));for(var b=0,w=_.length;b<w;b++){var x=_[b];!x||""===x||h.classes.add(x)}this.createEmitter();var D=s.style||s.css;D&&(Pi("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(D)),(void 0===c||c)&&this.restore()}else Yi("An element must be of type `nodes` or `edges`; you specified `"+u+"`")}else Yi("An element must have a core reference and parameters set")},Hi=function(a){return a={bfs:a.bfs||!a.dfs,dfs:a.dfs||!a.bfs},function(c,u,h){var m;vt(c)&&!Ce(c)&&(c=(m=c).roots||m.root,u=m.visit,h=m.directed),h=2!==arguments.length||Ai(u)?h:u,u=Ai(u)?u:function(){};for(var M,f=this._private.cy,v=c=We(c)?this.filter(c):c,_=[],b=[],w={},x={},D={},k=0,S=this.byGroup(),T=S.nodes,R=S.edges,O=0;O<v.length;O++){var F=v[O],j=F.id();F.isNode()&&(_.unshift(F),a.bfs&&(D[j]=!0,b.push(F)),x[j]=0)}for(var U=function(){var q=a.bfs?_.shift():_.pop(),$=q.id();if(a.dfs){if(D[$])return"continue";D[$]=!0,b.push(q)}var pe,ee=x[$],K=w[$],Q=null!=K?K.source():null,ne=null!=K?K.target():null,ce=null==K?void 0:q.same(Q)?ne[0]:Q[0];if(!0===(pe=u(q,K,ce,k++,ee)))return M=q,"break";if(!1===pe)return"break";for(var le=q.connectedEdges().filter(function(ye){return(!h||ye.source().same(q))&&R.has(ye)}),se=0;se<le.length;se++){var Me=le[se],Se=Me.connectedNodes().filter(function(ye){return!ye.same(q)&&T.has(ye)}),xe=Se.id();0!==Se.length&&!D[xe]&&(_.push(Se=Se[0]),a.bfs&&(D[xe]=!0,b.push(Se)),w[xe]=Me,x[xe]=x[$]+1)}};0!==_.length;){var L=U();if("continue"!==L&&"break"===L)break}for(var z=f.collection(),N=0;N<b.length;N++){var W=b[N],G=w[W.id()];null!=G&&z.push(G),z.push(W)}return{path:f.collection(z),found:f.collection(M)}}},ms={breadthFirstSearch:Hi({bfs:!0}),depthFirstSearch:Hi({dfs:!0})};ms.bfs=ms.breadthFirstSearch,ms.dfs=ms.depthFirstSearch;var Ui=Nn({root:null,weight:function(a){return 1},directed:!1}),Fh={dijkstra:function(a){if(!vt(a)){var s=arguments;a={root:s[0],weight:s[1],directed:s[2]}}var c=Ui(a),u=c.root,h=c.weight,m=c.directed,f=this,v=h,_=We(u)?this.filter(u)[0]:u[0],b={},w={},x={},D=this.byGroup(),k=D.nodes,M=D.edges;M.unmergeBy(function(ee){return ee.isLoop()});for(var S=function(K){return b[K.id()]},T=function(K,Q){b[K.id()]=Q,R.updateItem(K)},R=new mt.default(function(ee,K){return S(ee)-S(K)}),O=0;O<k.length;O++){var F=k[O];b[F.id()]=F.same(_)?0:1/0,R.push(F)}for(var j=function(K,Q){for(var pe,ne=(m?K.edgesTo(Q):K.edgesWith(Q)).intersect(M),ce=1/0,le=0;le<ne.length;le++){var se=ne[le],Me=v(se);(Me<ce||!pe)&&(ce=Me,pe=se)}return{edge:pe,dist:ce}};R.size()>0;){var U=R.pop(),L=S(U),z=U.id();if(x[z]=L,L!==1/0)for(var N=U.neighborhood().intersect(k),W=0;W<N.length;W++){var G=N[W],H=G.id(),q=j(U,G),$=L+q.dist;$<S(G)&&(T(G,$),w[H]={node:U,edge:q.edge})}}return{distanceTo:function(K){var Q=We(K)?k.filter(K)[0]:K[0];return x[Q.id()]},pathTo:function(K){var Q=We(K)?k.filter(K)[0]:K[0],ne=[],ce=Q,pe=ce.id();if(Q.length>0)for(ne.unshift(Q);w[pe];){var le=w[pe];ne.unshift(le.edge),ne.unshift(le.node),pe=(ce=le.node).id()}return f.spawn(ne)}}}},Ab={kruskal:function(a){a=a||function(O){return 1};for(var s=this.byGroup(),c=s.nodes,u=s.edges,h=c.length,m=new Array(h),f=c,v=function(F){for(var j=0;j<m.length;j++)if(m[j].has(F))return j},_=0;_<h;_++)m[_]=this.spawn(c[_]);for(var b=u.sort(function(O,F){return a(O)-a(F)}),w=0;w<b.length;w++){var x=b[w],D=x.source()[0],k=x.target()[0],M=v(D),S=v(k),T=m[M],R=m[S];M!==S&&(f.merge(x),T.merge(R),m.splice(S,1))}return f}},ti=Nn({root:null,goal:null,weight:function(a){return 1},heuristic:function(a){return 0},directed:!1}),Vt={aStar:function(a){var s=this.cy(),c=ti(a),u=c.root,h=c.goal,m=c.heuristic,f=c.directed,v=c.weight;u=s.collection(u)[0],h=s.collection(h)[0];var O,F,_=u.id(),b=h.id(),w={},x={},D={},k=new mt.default(function(pe,le){return x[pe.id()]-x[le.id()]}),M=new hs,S={},T={},R=function(le,se){k.push(le),M.add(se)};R(u,_),w[_]=0,x[_]=m(u);for(var L=0;k.size()>0;){if(F=(O=k.pop()).id(),M.delete(F),L++,F===b){for(var z=[],N=h,W=b,G=T[W];z.unshift(N),null!=G&&z.unshift(G),null!=(N=S[W]);)G=T[W=N.id()];return{found:!0,distance:w[F],path:this.spawn(z),steps:L}}D[F]=!0;for(var H=O._private.edges,q=0;q<H.length;q++){var $=H[q];if(this.hasElementWithId($.id())&&(!f||$.data("source")===F)){var ee=$.source(),K=$.target(),Q=ee.id()!==F?ee:K,ne=Q.id();if(this.hasElementWithId(ne)&&!D[ne]){var ce=w[F]+v($);if(!M.has(ne)){w[ne]=ce,x[ne]=ce+m(Q),R(Q,ne),S[ne]=O,T[ne]=$;continue}ce<w[ne]&&(w[ne]=ce,x[ne]=ce+m(Q),S[ne]=O,T[ne]=$)}}}}return{found:!1,distance:void 0,path:void 0,steps:L}}},Lh=Nn({weight:function(a){return 1},directed:!1}),Nh={floydWarshall:function(a){for(var s=this.cy(),c=Lh(a),h=c.directed,m=c.weight,f=this.byGroup(),v=f.nodes,_=f.edges,b=v.length,w=b*b,x=function(Me){return v.indexOf(Me)},D=function(Me){return v[Me]},k=new Array(w),M=0;M<w;M++){var S=M%b;k[M]=(M-S)/b===S?0:1/0}for(var R=new Array(w),O=new Array(w),F=0;F<_.length;F++){var j=_[F],U=j.source()[0],L=j.target()[0];if(U!==L){var z=x(U),N=x(L),W=z*b+N,G=m(j);if(k[W]>G&&(k[W]=G,R[W]=N,O[W]=j),!h){var H=N*b+z;!h&&k[H]>G&&(k[H]=G,R[H]=z,O[H]=j)}}}for(var q=0;q<b;q++)for(var $=0;$<b;$++)for(var ee=$*b+q,K=0;K<b;K++){var Q=$*b+K,ne=q*b+K;k[ee]+k[ne]<k[Q]&&(k[Q]=k[ee]+k[ne],R[Q]=R[ee])}var pe=function(Me){return x(function(Me){return(We(Me)?s.filter(Me):Me)[0]}(Me))};return{distance:function(Me,Se){var xe=pe(Me),ye=pe(Se);return k[xe*b+ye]},path:function(Me,Se){var xe=pe(Me),ye=pe(Se),te=D(xe);if(xe===ye)return te.collection();if(null==R[xe*b+ye])return s.collection();var Ee=s.collection();for(Ee.merge(te);xe!==ye;)Ee.merge(O[xe*b+(xe=R[xe*b+ye])]),Ee.merge(D(xe));return Ee}}}},eD=Nn({weight:function(a){return 1},directed:!1,root:null}),Dd={bellmanFord:function(a){var s=this,c=eD(a),h=c.directed,m=c.root,f=c.weight,v=this,_=this.cy(),b=this.byGroup(),w=b.edges,x=b.nodes,D=x.length,k=new La,M=!1,S=[];m=_.collection(m)[0],w.unmergeBy(function(ft){return ft.isLoop()});for(var T=w.length,R=function(et){var xt=k.get(et.id());return xt||(xt={},k.set(et.id(),xt)),xt},O=function(et){return(We(et)?_.$(et):et)[0]},U=0;U<D;U++){var L=x[U],z=R(L);z.dist=L.same(m)?0:1/0,z.pred=null,z.edge=null}for(var N=!1,W=function(et,xt,ci,Xt,Ot,Le){var V=Xt.dist+Le;V<Ot.dist&&!ci.same(Xt.edge)&&(Ot.dist=V,Ot.pred=et,Ot.edge=ci,N=!0)},G=1;G<D;G++){N=!1;for(var H=0;H<T;H++){var q=w[H],$=q.source(),ee=q.target(),K=f(q),Q=R($),ne=R(ee);W($,0,q,Q,ne,K),h||W(ee,0,q,ne,Q,K)}if(!N)break}if(N)for(var ce=[],pe=0;pe<T;pe++){var le=w[pe],se=le.source(),Me=le.target(),Se=f(le),xe=R(se).dist,ye=R(Me).dist;if(xe+Se<ye||!h&&ye+Se<xe){if(M||(Pi("Graph contains a negative weight cycle for Bellman-Ford"),M=!0),!1===a.findNegativeWeightCycles)break;var te=[];xe+Se<ye&&te.push(se),!h&&ye+Se<xe&&te.push(Me);for(var Ee=te.length,Ie=0;Ie<Ee;Ie++){var Be=te[Ie],Ke=[Be];Ke.push(R(Be).edge);for(var jt=R(Be).pred;-1===Ke.indexOf(jt);)Ke.push(jt),Ke.push(R(jt).edge),jt=R(jt).pred;for(var Zt=(Ke=Ke.slice(Ke.indexOf(jt)))[0].id(),Xe=0,Ue=2;Ue<Ke.length;Ue+=2)Ke[Ue].id()<Zt&&(Zt=Ke[Ue].id(),Xe=Ue);(Ke=Ke.slice(Xe).concat(Ke.slice(0,Xe))).push(Ke[0]);var Tt=Ke.map(function(ft){return ft.id()}).join(",");-1===ce.indexOf(Tt)&&(S.push(v.spawn(Ke)),ce.push(Tt))}}}return{distanceTo:function(et){return R(O(et)).dist},pathTo:function(et){for(var xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,ci=O(et),Xt=[],Ot=ci;;){if(null==Ot)return s.spawn();var Le=R(Ot),V=Le.edge,de=Le.pred;if(Xt.unshift(Ot[0]),Ot.same(xt)&&Xt.length>0)break;null!=V&&Xt.unshift(V),Ot=de}return v.spawn(Xt)},hasNegativeWeightCycle:M,negativeWeightCycles:S}}},Oe=Math.sqrt(2),kd=function(a,s,c){0===c.length&&Yi("Karger-Stein must be run on a connected (sub)graph");for(var u=c[a],f=s[u[1]],v=s[u[2]],_=c,b=_.length-1;b>=0;b--){var w=_[b],x=w[1],D=w[2];(s[x]===f&&s[D]===v||s[x]===v&&s[D]===f)&&_.splice(b,1)}for(var k=0;k<_.length;k++){var M=_[k];M[1]===v?(_[k]=M.slice(),_[k][1]=f):M[2]===v&&(_[k]=M.slice(),_[k][2]=f)}for(var S=0;S<s.length;S++)s[S]===v&&(s[S]=f);return _},Gt=function(a,s,c,u){for(;c>u;){var h=Math.floor(Math.random()*s.length);s=kd(h,a,s),c--}return s},Fi={kargerStein:function(){var a=this,s=this.byGroup(),c=s.nodes,u=s.edges;u.unmergeBy(function(ne){return ne.isLoop()});var h=c.length,m=u.length,f=Math.ceil(Math.pow(Math.log(h)/Math.LN2,2)),v=Math.floor(h/Oe);if(!(h<2)){for(var _=[],b=0;b<m;b++){var w=u[b];_.push([b,c.indexOf(w.source()),c.indexOf(w.target())])}for(var x=1/0,D=[],k=new Array(h),M=new Array(h),S=new Array(h),T=function(ce,pe){for(var le=0;le<h;le++)pe[le]=ce[le]},R=0;R<=f;R++){for(var O=0;O<h;O++)M[O]=O;var F=Gt(M,_.slice(),h,v),j=F.slice();T(M,S);var U=Gt(M,F,v,2),L=Gt(S,j,v,2);U.length<=L.length&&U.length<x?(x=U.length,D=U,T(M,k)):L.length<=U.length&&L.length<x&&(x=L.length,D=L,T(S,k))}for(var z=this.spawn(D.map(function(ne){return u[ne[0]]})),N=this.spawn(),W=this.spawn(),G=k[0],H=0;H<k.length;H++){var $=c[H];k[H]===G?N.merge($):W.merge($)}var ee=function(ce){var pe=a.spawn();return ce.forEach(function(le){pe.merge(le),le.connectedEdges().forEach(function(se){a.contains(se)&&!z.contains(se)&&pe.merge(se)})}),pe},K=[ee(N),ee(W)];return{cut:z,components:K,partition1:N,partition2:W}}Yi("At least 2 nodes are required for Karger-Stein algorithm")}},Bh=function(a,s,c){return{x:a.x*s+c.x,y:a.y*s+c.y}},_f=function(a,s,c){return{x:(a.x-c.x)/s,y:(a.y-c.y)/s}},no=function(a){return{x:a[0],y:a[1]}},Vh=function(a,s){return Math.atan2(s,a)-Math.PI/2},vf=Math.log2||function(l){return Math.log(l)/Math.log(2)},Pb=function(a){return a>0?1:a<0?-1:0},sl=function(a,s){return Math.sqrt(ps(a,s))},ps=function(a,s){var c=s.x-a.x,u=s.y-a.y;return c*c+u*u},nD=function(a){for(var s=a.length,c=0,u=0;u<s;u++)c+=a[u];for(var h=0;h<s;h++)a[h]=a[h]/c;return a},Bn=function(a,s,c,u){return(1-u)*(1-u)*a+2*(1-u)*u*s+u*u*c},uc=function(a,s,c,u){return{x:Bn(a.x,s.x,c.x,u),y:Bn(a.y,s.y,c.y,u)}},_i=function(a,s,c){return Math.max(a,Math.min(c,s))},zr=function(a){if(null==a)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=a.x1&&null!=a.y1){if(null!=a.x2&&null!=a.y2&&a.x2>=a.x1&&a.y2>=a.y1)return{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,w:a.x2-a.x1,h:a.y2-a.y1};if(null!=a.w&&null!=a.h&&a.w>=0&&a.h>=0)return{x1:a.x1,y1:a.y1,x2:a.x1+a.w,y2:a.y1+a.h,w:a.w,h:a.h}}},ze=function(a,s){a.x1=Math.min(a.x1,s.x1),a.x2=Math.max(a.x2,s.x2),a.w=a.x2-a.x1,a.y1=Math.min(a.y1,s.y1),a.y2=Math.max(a.y2,s.y2),a.h=a.y2-a.y1},oD=function(a,s,c){a.x1=Math.min(a.x1,s),a.x2=Math.max(a.x2,s),a.w=a.x2-a.x1,a.y1=Math.min(a.y1,c),a.y2=Math.max(a.y2,c),a.h=a.y2-a.y1},it=function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a.x1-=s,a.x2+=s,a.y1-=s,a.y2+=s,a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},ll=function(a){var c,u,h,m,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)c=u=h=m=s[0];else if(2===s.length)c=h=s[0],m=u=s[1];else if(4===s.length){var f=ki(s,4);c=f[0],u=f[1],h=f[2],m=f[3]}return a.x1-=m,a.x2+=u,a.y1-=c,a.y2+=h,a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},Fb=function(a,s){a.x1=s.x1,a.y1=s.y1,a.x2=s.x2,a.y2=s.y2,a.w=a.x2-a.x1,a.h=a.y2-a.y1},Md=function(a,s){return!(a.x1>s.x2||s.x1>a.x2||a.x2<s.x1||s.x2<a.x1||a.y2<s.y1||s.y2<a.y1||a.y1>s.y2||s.y1>a.y2)},cl=function(a,s,c){return a.x1<=s&&s<=a.x2&&a.y1<=c&&c<=a.y2},Lb=function(a,s){return cl(a,s.x,s.y)},Hh=function(a,s){return cl(a,s.x1,s.y1)&&cl(a,s.x2,s.y2)},hc=function(a,s,c,u,h,m,f){var w,v=fc(h,m),_=h/2,b=m/2,D=u-b-f;if((w=fa(a,s,c,u,c-_+v-f,D,c+_-v+f,D,!1)).length>0)return w;var S=c+_+f;if((w=fa(a,s,c,u,S,u-b+v-f,S,u+b-v+f,!1)).length>0)return w;var j=u+b+f;if((w=fa(a,s,c,u,c-_+v-f,j,c+_-v+f,j,!1)).length>0)return w;var H,z=c-_-f;if((w=fa(a,s,c,u,z,u-b+v-f,z,u+b-v+f,!1)).length>0)return w;var q=c-_+v,$=u-b+v;if((H=ro(a,s,c,u,q,$,v+f)).length>0&&H[0]<=q&&H[1]<=$)return[H[0],H[1]];var ee=c+_-v,K=u-b+v;if((H=ro(a,s,c,u,ee,K,v+f)).length>0&&H[0]>=ee&&H[1]<=K)return[H[0],H[1]];var Q=c+_-v,ne=u+b-v;if((H=ro(a,s,c,u,Q,ne,v+f)).length>0&&H[0]>=Q&&H[1]>=ne)return[H[0],H[1]];var ce=c-_+v,pe=u+b-v;return(H=ro(a,s,c,u,ce,pe,v+f)).length>0&&H[0]<=ce&&H[1]>=pe?[H[0],H[1]]:[]},zh=function(a,s,c,u,h,m,f){var v=f,_=Math.min(c,h),b=Math.max(c,h),w=Math.min(u,m),x=Math.max(u,m);return _-v<=a&&a<=b+v&&w-v<=s&&s<=x+v},bf=function(a,s,c,u,h,m,f,v,_){var b_x1=Math.min(c,f,h)-_,b_x2=Math.max(c,f,h)+_,b_y1=Math.min(u,v,m)-_,b_y2=Math.max(u,v,m)+_;return!(a<b_x1||a>b_x2||s<b_y1||s>b_y2)},jh=function(a,s,c,u,h,m,f,v){var D=[];!function(a,s,c,u,h){var f,v,_,b,w,x,D,k;0===a&&(a=1e-5),_=-27*(u/=a)+(s/=a)*(9*(c/=a)-s*s*2),f=(v=(3*c-s*s)/9)*v*v+(_/=54)*_,h[1]=0,D=s/3,f>0?(w=(w=_+Math.sqrt(f))<0?-Math.pow(-w,1/3):Math.pow(w,1/3),x=(x=_-Math.sqrt(f))<0?-Math.pow(-x,1/3):Math.pow(x,1/3),h[0]=-D+w+x,h[4]=h[2]=-(D+=(w+x)/2),D=Math.sqrt(3)*(-x+w)/2,h[3]=D,h[5]=-D):(h[5]=h[3]=0,0===f?(k=_<0?-Math.pow(-_,1/3):Math.pow(_,1/3),h[0]=2*k-D,h[4]=h[2]=-(k+D)):(b=(v=-v)*v*v,b=Math.acos(_/Math.sqrt(b)),k=2*Math.sqrt(v),h[0]=-D+k*Math.cos(b/3),h[2]=-D+k*Math.cos((b+2*Math.PI)/3),h[4]=-D+k*Math.cos((b+4*Math.PI)/3)))}(1*c*c-4*c*h+2*c*f+4*h*h-4*h*f+f*f+u*u-4*u*m+2*u*v+4*m*m-4*m*v+v*v,9*c*h-3*c*c-3*c*f-6*h*h+3*h*f+9*u*m-3*u*u-3*u*v-6*m*m+3*m*v,3*c*c-6*c*h+c*f-c*a+2*h*h+2*h*a-f*a+3*u*u-6*u*m+u*v-u*s+2*m*m+2*m*s-v*s,1*c*h-c*c+c*a-h*a+u*m-u*u+u*s-m*s,D);for(var M=[],S=0;S<6;S+=2)Math.abs(D[S+1])<1e-7&&D[S]>=0&&D[S]<=1&&M.push(D[S]);M.push(1),M.push(0);for(var R,O,F,T=-1,j=0;j<M.length;j++)R=Math.pow(1-M[j],2)*c+2*(1-M[j])*M[j]*h+M[j]*M[j]*f,O=Math.pow(1-M[j],2)*u+2*(1-M[j])*M[j]*m+M[j]*M[j]*v,F=Math.pow(R-a,2)+Math.pow(O-s,2),T>=0?F<T&&(T=F):T=F;return T},Bb=function(a,s,c,u,h,m){var f=[a-c,s-u],v=[h-c,m-u],_=v[0]*v[0]+v[1]*v[1],b=f[0]*f[0]+f[1]*f[1],w=f[0]*v[0]+f[1]*v[1],x=w*w/_;return w<0?b:x>_?(a-h)*(a-h)+(s-m)*(s-m):b-x},Qi=function(a,s,c){for(var u,h,m,f,_=0,b=0;b<c.length/2;b++)if(h=c[2*b+1],b+1<c.length/2?(m=c[2*(b+1)],f=c[2*(b+1)+1]):(m=c[2*(b+1-c.length/2)],f=c[2*(b+1-c.length/2)+1]),(u=c[2*b])!=a||m!=a){if(!(u>=a&&a>=m||u<=a&&a<=m))continue;(a-u)/(m-u)*(f-h)+h>s&&_++}return _%2!=0},Na=function(a,s,c,u,h,m,f,v,_){var w,M,b=new Array(c.length);null!=v[0]?(w=Math.atan(v[1]/v[0]),v[0]<0?w+=Math.PI/2:w=-w-Math.PI/2):w=v;for(var x=Math.cos(-w),D=Math.sin(-w),k=0;k<b.length/2;k++)b[2*k]=m/2*(c[2*k]*x-c[2*k+1]*D),b[2*k+1]=f/2*(c[2*k+1]*x+c[2*k]*D),b[2*k]+=u,b[2*k+1]+=h;if(_>0){var S=Vb(b,-_);M=$i(S)}else M=b;return Qi(a,s,M)},$i=function(a){for(var f,v,_,b,s=new Array(a.length/2),w=0;w<a.length/4;w++){w<a.length/4-1?(f=a[4*(w+1)],v=a[4*(w+1)+1],_=a[4*(w+1)+2],b=a[4*(w+1)+3]):(f=a[0],v=a[1],_=a[2],b=a[3]);var x=fa(a[4*w],a[4*w+1],a[4*w+2],a[4*w+3],f,v,_,b,!0);s[2*w]=x[0],s[2*w+1]=x[1]}return s},Vb=function(a,s){for(var u,h,m,f,c=new Array(2*a.length),v=0;v<a.length/2;v++){v<a.length/2-1?(m=a[2*(v+1)],f=a[2*(v+1)+1]):(m=a[0],f=a[1]);var _=f-(h=a[2*v+1]),b=-(m-(u=a[2*v])),w=Math.sqrt(_*_+b*b),x=_/w,D=b/w;c[4*v]=u+x*s,c[4*v+1]=h+D*s,c[4*v+2]=m+x*s,c[4*v+3]=f+D*s}return c},dl=function(a,s,c,u,h,m,f){return a-=h,s-=m,(a/=c/2+f)*a+(s/=u/2+f)*s<=1},ro=function(a,s,c,u,h,m,f){var v=[c-a,u-s],_=[a-h,s-m],b=v[0]*v[0]+v[1]*v[1],w=2*(_[0]*v[0]+_[1]*v[1]),D=w*w-4*b*(_[0]*_[0]+_[1]*_[1]-f*f);if(D<0)return[];var k=(-w+Math.sqrt(D))/(2*b),M=(-w-Math.sqrt(D))/(2*b),S=Math.min(k,M),T=Math.max(k,M),R=[];if(S>=0&&S<=1&&R.push(S),T>=0&&T<=1&&R.push(T),0===R.length)return[];var O=R[0]*v[0]+a,F=R[0]*v[1]+s;return R.length>1?R[0]==R[1]?[O,F]:[O,F,R[1]*v[0]+a,R[1]*v[1]+s]:[O,F]},mc=function(a,s,c){return s<=a&&a<=c||c<=a&&a<=s?a:a<=s&&s<=c||c<=s&&s<=a?s:c},fa=function(a,s,c,u,h,m,f,v,_){var b=a-h,w=c-a,x=f-h,D=s-m,k=u-s,M=v-m,S=x*D-M*b,T=w*D-k*b,R=M*w-x*k;if(0!==R){var O=S/R,F=T/R,U=-.001;return U<=O&&O<=1.001&&U<=F&&F<=1.001||_?[a+O*w,s+O*k]:[]}return 0===S||0===T?mc(a,c,f)===f?[f,v]:mc(a,c,h)===h?[h,m]:mc(h,f,c)===c?[c,u]:[]:[]},pc=function(a,s,c,u,h,m,f,v){var b,D,_=[],w=new Array(c.length),x=!0;if(null==m&&(x=!1),x){for(var k=0;k<w.length/2;k++)w[2*k]=c[2*k]*m+u,w[2*k+1]=c[2*k+1]*f+h;if(v>0){var M=Vb(w,-v);D=$i(M)}else D=w}else D=c;for(var R,O,F=0;F<D.length/2;F++)F<D.length/2-1?(R=D[2*(F+1)],O=D[2*(F+1)+1]):(R=D[0],O=D[1]),0!==(b=fa(a,s,u,h,D[2*F],D[2*F+1],R,O)).length&&_.push(b[0],b[1]);return _},Ed=function(a,s,c){var u=[a[0]-s[0],a[1]-s[1]],h=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=(h-c)/h;return m<0&&(m=1e-5),[s[0]+m*u[0],s[1]+m*u[1]]},sr=function(a,s){var c=Io(a,s);return ul(c)},ul=function(a){for(var s,c,u=a.length/2,h=1/0,m=1/0,f=-1/0,v=-1/0,_=0;_<u;_++)s=a[2*_],c=a[2*_+1],h=Math.min(h,s),f=Math.max(f,s),m=Math.min(m,c),v=Math.max(v,c);for(var b=2/(f-h),w=2/(v-m),x=0;x<u;x++)s=a[2*x]=a[2*x]*b,c=a[2*x+1]=a[2*x+1]*w,h=Math.min(h,s),f=Math.max(f,s),m=Math.min(m,c),v=Math.max(v,c);if(m<-1)for(var D=0;D<u;D++)c=a[2*D+1]=a[2*D+1]+(-1-m);return a},Io=function(a,s){var c=1/a*2*Math.PI,u=a%2==0?Math.PI/2+c/2:Math.PI/2;u+=s;for(var m,h=new Array(2*a),f=0;f<a;f++)m=f*c+u,h[2*f]=Math.cos(m),h[2*f+1]=Math.sin(-m);return h},fc=function(a,s){return Math.min(a/4,s/4,8)},ae=function(a,s){return Math.min(a/10,s/10,8)},hl=function(a,s){return{heightOffset:Math.min(15,.05*s),widthOffset:Math.min(100,.25*a),ctrlPtOffsetPct:.05}},$h=Nn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(a){return 1}}),gc={pageRank:function(a){for(var s=$h(a),c=s.dampingFactor,u=s.precision,h=s.iterations,m=s.weight,f=this._private.cy,v=this.byGroup(),_=v.nodes,b=v.edges,w=_.length,D=b.length,k=new Array(w*w),M=new Array(w),S=(1-c)/w,T=0;T<w;T++){for(var R=0;R<w;R++)k[T*w+R]=0;M[T]=0}for(var F=0;F<D;F++){var j=b[F],U=j.data("source"),L=j.data("target");if(U!==L){var z=_.indexOfId(U),N=_.indexOfId(L),W=m(j);k[N*w+z]+=W,M[z]+=W}}for(var H=1/w+S,q=0;q<w;q++)if(0===M[q])for(var $=0;$<w;$++)k[$*w+q]=H;else for(var K=0;K<w;K++){var Q=K*w+q;k[Q]=k[Q]/M[q]+S}for(var pe,ne=new Array(w),ce=new Array(w),le=0;le<w;le++)ne[le]=1;for(var se=0;se<h;se++){for(var Me=0;Me<w;Me++)ce[Me]=0;for(var Se=0;Se<w;Se++)for(var xe=0;xe<w;xe++)ce[Se]+=k[Se*w+xe]*ne[xe];nD(ce),pe=ne,ne=ce,ce=pe;for(var te=0,Ee=0;Ee<w;Ee++){var Ie=pe[Ee]-ne[Ee];te+=Ie*Ie}if(te<u)break}return{rank:function(jt){return jt=f.collection(jt)[0],ne[_.indexOf(jt)]}}}},yf=Nn({root:null,weight:function(a){return 1},directed:!1,alpha:0}),ml={degreeCentralityNormalized:function(a){a=yf(a);var s=this.cy(),c=this.nodes(),u=c.length;if(a.directed){for(var b={},w={},x=0,D=0,k=0;k<u;k++){var M=c[k],S=M.id();a.root=M;var T=this.degreeCentrality(a);x<T.indegree&&(x=T.indegree),D<T.outdegree&&(D=T.outdegree),b[S]=T.indegree,w[S]=T.outdegree}return{indegree:function(O){return 0==x?0:(We(O)&&(O=s.filter(O)),b[O.id()]/x)},outdegree:function(O){return 0===D?0:(We(O)&&(O=s.filter(O)),w[O.id()]/D)}}}for(var h={},m=0,f=0;f<u;f++){var v=c[f];a.root=v;var _=this.degreeCentrality(a);m<_.degree&&(m=_.degree),h[v.id()]=_.degree}return{degree:function(O){return 0===m?0:(We(O)&&(O=s.filter(O)),h[O.id()]/m)}}},degreeCentrality:function(a){a=yf(a);var s=this.cy(),c=this,h=a.root,m=a.weight,f=a.directed,v=a.alpha;if(h=s.collection(h)[0],f){for(var D=h.connectedEdges(),k=D.filter(function(U){return U.target().same(h)&&c.has(U)}),M=D.filter(function(U){return U.source().same(h)&&c.has(U)}),S=k.length,T=M.length,R=0,O=0,F=0;F<k.length;F++)R+=m(k[F]);for(var j=0;j<M.length;j++)O+=m(M[j]);return{indegree:Math.pow(S,1-v)*Math.pow(R,v),outdegree:Math.pow(T,1-v)*Math.pow(O,v)}}for(var _=h.connectedEdges().intersection(c),b=_.length,w=0,x=0;x<_.length;x++)w+=m(_[x]);return{degree:Math.pow(b,1-v)*Math.pow(w,v)}}};ml.dc=ml.degreeCentrality,ml.dcn=ml.degreeCentralityNormalised=ml.degreeCentralityNormalized;var wf=Nn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),jr={closenessCentralityNormalized:function(a){for(var s=wf(a),c=s.harmonic,u=s.weight,h=s.directed,m=this.cy(),f={},v=0,_=this.nodes(),b=this.floydWarshall({weight:u,directed:h}),w=0;w<_.length;w++){for(var x=0,D=_[w],k=0;k<_.length;k++)if(w!==k){var M=b.distance(D,_[k]);x+=c?1/M:M}c||(x=1/x),v<x&&(v=x),f[D.id()]=x}return{closeness:function(T){return 0==v?0:(T=We(T)?m.filter(T)[0].id():T.id(),f[T]/v)}}},closenessCentrality:function(a){var s=wf(a),c=s.root,u=s.weight,h=s.directed,m=s.harmonic;c=this.filter(c)[0];for(var f=this.dijkstra({root:c,weight:u,directed:h}),v=0,_=this.nodes(),b=0;b<_.length;b++){var w=_[b];if(!w.same(c)){var x=f.distanceTo(w);v+=m?1/x:x}}return m?v:1/v}};jr.cc=jr.closenessCentrality,jr.ccn=jr.closenessCentralityNormalised=jr.closenessCentralityNormalized;var ga=Nn({weight:null,directed:!1}),xf={betweennessCentrality:function(a){for(var s=ga(a),c=s.directed,u=s.weight,h=null!=u,m=this.cy(),f=this.nodes(),v={},_={},b=0,w={set:function(O,F){_[O]=F,F>b&&(b=F)},get:function(O){return _[O]}},x=0;x<f.length;x++){var D=f[x],k=D.id();v[k]=c?D.outgoers().nodes():D.openNeighborhood().nodes(),w.set(k,0)}for(var M=function(O){for(var F=f[O].id(),j=[],U={},L={},z={},N=new mt.default(function(xe,ye){return z[xe]-z[ye]}),W=0;W<f.length;W++){var G=f[W].id();U[G]=[],L[G]=0,z[G]=1/0}for(L[F]=1,z[F]=0,N.push(F);!N.empty();){var H=N.pop();if(j.push(H),h)for(var q=0;q<v[H].length;q++){var K,$=v[H][q],ee=m.getElementById(H);K=ee.edgesTo($).length>0?ee.edgesTo($)[0]:$.edgesTo(ee)[0];var Q=u(K);$=$.id(),z[$]>z[H]+Q&&(z[$]=z[H]+Q,N.nodes.indexOf($)<0?N.push($):N.updateItem($),L[$]=0,U[$]=[]),z[$]==z[H]+Q&&(L[$]=L[$]+L[H],U[$].push(H))}else for(var ne=0;ne<v[H].length;ne++){var ce=v[H][ne].id();z[ce]==1/0&&(N.push(ce),z[ce]=z[H]+1),z[ce]==z[H]+1&&(L[ce]=L[ce]+L[H],U[ce].push(H))}}for(var pe={},le=0;le<f.length;le++)pe[f[le].id()]=0;for(;j.length>0;){for(var se=j.pop(),Me=0;Me<U[se].length;Me++){var Se=U[se][Me];pe[Se]=pe[Se]+L[Se]/L[se]*(1+pe[se])}se!=f[O].id()&&w.set(se,w.get(se)+pe[se])}},S=0;S<f.length;S++)M(S);var T={betweenness:function(O){var F=m.collection(O).id();return w.get(F)},betweennessNormalized:function(O){if(0==b)return 0;var F=m.collection(O).id();return w.get(F)/b}};return T.betweennessNormalised=T.betweennessNormalized,T}};xf.bc=xf.betweennessCentrality;var cD=Nn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(l){return 1}]}),ao=function(a,s){for(var c=0,u=0;u<s.length;u++)c+=s[u](a);return c},_c=function(a,s){for(var c,u=0;u<s;u++){c=0;for(var h=0;h<s;h++)c+=a[h*s+u];for(var m=0;m<s;m++)a[m*s+u]=a[m*s+u]/c}},Gh=function(a,s,c){for(var u=new Array(c*c),h=0;h<c;h++){for(var m=0;m<c;m++)u[h*c+m]=0;for(var f=0;f<c;f++)for(var v=0;v<c;v++)u[h*c+v]+=a[h*c+f]*s[f*c+v]}return u},Wh=function(a,s,c){for(var u=a.slice(0),h=1;h<c;h++)a=Gh(a,u,s);return a},Cf=function(a,s,c){for(var u=new Array(s*s),h=0;h<s*s;h++)u[h]=Math.pow(a[h],c);return _c(u,s),u},oo=function(a,s,c,u){for(var h=0;h<c;h++)if(Math.round(a[h]*Math.pow(10,u))/Math.pow(10,u)!=Math.round(s[h]*Math.pow(10,u))/Math.pow(10,u))return!1;return!0},zb=function(a,s){for(var c=0;c<a.length;c++)if(!s[c]||a[c].id()!==s[c].id())return!1;return!0},Df=function(a){for(var s=this.nodes(),c=this.edges(),u=this.cy(),h=function(a){return cD(a)}(a),m={},f=0;f<s.length;f++)m[s[f].id()]=f;for(var w,v=s.length,_=v*v,b=new Array(_),x=0;x<_;x++)b[x]=0;for(var D=0;D<c.length;D++){var k=c[D],M=m[k.source().id()],S=m[k.target().id()],T=ao(k,h.attributes);b[M*v+S]+=T,b[S*v+M]+=T}(function(a,s,c){for(var u=0;u<s;u++)a[u*s+u]=c})(b,v,h.multFactor),_c(b,v);for(var R=!0,O=0;R&&O<h.maxIterations;)R=!1,w=Wh(b,v,h.expandFactor),b=Cf(w,v,h.inflateFactor),oo(b,w,_,4)||(R=!0),O++;var F=function(a,s,c,u){for(var h=[],m=0;m<s;m++){for(var f=[],v=0;v<s;v++)Math.round(1e3*a[m*s+v])/1e3>0&&f.push(c[v]);0!==f.length&&h.push(u.collection(f))}return h}(b,v,s,u);return F=function(a){for(var s=0;s<a.length;s++)for(var c=0;c<a.length;c++)s!=c&&zb(a[s],a[c])&&a.splice(c,1);return a}(F),F},kf={markovClustering:Df,mcl:Df},Mf=function(a){return a},nt=function(a,s){return Math.abs(s-a)},Ef=function(a,s,c){return a+nt(s,c)},Yh=function(a,s,c){return a+Math.pow(c-s,2)},re=function(a){return Math.sqrt(a)},vr=function(a,s,c){return Math.max(a,nt(s,c))},vi=function(a,s,c,u,h){for(var m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mf,f=u,b=0;b<a;b++)f=h(f,s(b),c(b));return m(f)},yn={euclidean:function(a,s,c){return a>=2?vi(a,s,c,0,Yh,re):vi(a,s,c,0,Ef)},squaredEuclidean:function(a,s,c){return vi(a,s,c,0,Yh)},manhattan:function(a,s,c){return vi(a,s,c,0,Ef)},max:function(a,s,c){return vi(a,s,c,-1/0,vr)}};function Vn(l,a,s,c,u,h){var m;return m=Ai(l)?l:yn[l]||yn.euclidean,0===a&&Ai(l)?m(u,h):m(a,s,c,u,h)}yn["squared-euclidean"]=yn.squaredEuclidean,yn.squaredeuclidean=yn.squaredEuclidean;var bc=Nn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),br=function(a){return bc(a)},aa=function(a,s,c,u,h){var f="kMedoids"!==h?function(w){return c[w]}:function(w){return u[w](c)};return Vn(a,u.length,f,function(x){return u[x](s)},c,s)},ot=function(a,s,c){for(var u=c.length,h=new Array(u),m=new Array(u),f=new Array(s),v=null,_=0;_<u;_++)h[_]=a.min(c[_]).value,m[_]=a.max(c[_]).value;for(var b=0;b<s;b++){v=[];for(var w=0;w<u;w++)v[w]=Math.random()*(m[w]-h[w])+h[w];f[b]=v}return f},Jt=function(a,s,c,u,h){for(var m=1/0,f=0,v=0;v<s.length;v++){var _=aa(c,a,s[v],u,h);_<m&&(m=_,f=v)}return f},rn=function(a,s,c){for(var u=[],h=null,m=0;m<s.length;m++)c[(h=s[m]).id()]===a&&u.push(h);return u},va=function(a,s,c){return Math.abs(s-a)<=c},fs=function(a,s,c){for(var u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)if(Math.abs(a[u][h]-s[u][h])>c)return!1;return!0},lr=function(a,s,c){for(var u=0;u<c;u++)if(a===s[u])return!0;return!1},gs=function(a,s){var c=new Array(s);if(a.length<50)for(var u=0;u<s;u++){for(var h=a[Math.floor(Math.random()*a.length)];lr(h,c,u);)h=a[Math.floor(Math.random()*a.length)];c[u]=h}else for(var m=0;m<s;m++)c[m]=a[Math.floor(Math.random()*a.length)];return c},dn=function(a,s,c){for(var u=0,h=0;h<s.length;h++)u+=aa("manhattan",s[h],a,c,"kMedoids");return u},ri=function(a,s,c,u,h){for(var m,f,v=0;v<s.length;v++)for(var _=0;_<a.length;_++)u[v][_]=Math.pow(c[v][_],h.m);for(var b=0;b<a.length;b++)for(var w=0;w<h.attributes.length;w++){m=0,f=0;for(var x=0;x<s.length;x++)m+=u[x][b]*h.attributes[w](s[x]),f+=u[x][b];a[b][w]=m/f}},qh=function(a,s,c,u,h){for(var m=0;m<a.length;m++)s[m]=a[m].slice();for(var f,v,_,b=2/(h.m-1),w=0;w<c.length;w++)for(var x=0;x<u.length;x++){f=0;for(var D=0;D<c.length;D++)v=aa(h.distance,u[x],c[w],h.attributes,"cmeans"),_=aa(h.distance,u[x],c[D],h.attributes,"cmeans"),f+=Math.pow(v/_,b);a[x][w]=1/f}},Kh=function(a){var h,m,f,v,_,s=this.cy(),c=this.nodes(),u=br(a);v=new Array(c.length);for(var b=0;b<c.length;b++)v[b]=new Array(u.k);f=new Array(c.length);for(var w=0;w<c.length;w++)f[w]=new Array(u.k);for(var x=0;x<c.length;x++){for(var D=0,k=0;k<u.k;k++)f[x][k]=Math.random(),D+=f[x][k];for(var M=0;M<u.k;M++)f[x][M]=f[x][M]/D}m=new Array(u.k);for(var S=0;S<u.k;S++)m[S]=new Array(u.attributes.length);_=new Array(c.length);for(var T=0;T<c.length;T++)_[T]=new Array(u.k);for(var R=!0,O=0;R&&O<u.maxIterations;)R=!1,ri(m,c,f,_,u),qh(f,v,m,c,u),fs(f,v,u.sensitivityThreshold)||(R=!0),O++;return h=function(a,s,c,u){for(var h=new Array(c.k),m=0;m<h.length;m++)h[m]=[];for(var f,v,_=0;_<s.length;_++){f=-1/0,v=-1;for(var b=0;b<s[0].length;b++)s[_][b]>f&&(f=s[_][b],v=b);h[v].push(a[_])}for(var w=0;w<h.length;w++)h[w]=u.collection(h[w]);return h}(c,f,u,s),{clusters:h,degreeOfMembership:f}},pl={kMeans:function(a){var v,s=this.cy(),c=this.nodes(),u=null,h=br(a),m=new Array(h.k),f={};v=h.testMode?"number"==typeof h.testCentroids?ot(c,h.k,h.attributes):"object"===ni(h.testCentroids)?h.testCentroids:ot(c,h.k,h.attributes):ot(c,h.k,h.attributes);for(var _=!0,b=0;_&&b<h.maxIterations;){for(var w=0;w<c.length;w++)f[(u=c[w]).id()]=Jt(u,v,h.distance,h.attributes,"kMeans");_=!1;for(var x=0;x<h.k;x++){var D=rn(x,c,f);if(0!==D.length){for(var k=h.attributes.length,M=v[x],S=new Array(k),T=new Array(k),R=0;R<k;R++){T[R]=0;for(var O=0;O<D.length;O++)T[R]+=h.attributes[R](u=D[O]);S[R]=T[R]/D.length,va(S[R],M[R],h.sensitivityThreshold)||(_=!0)}v[x]=S,m[x]=s.collection(D)}}b++}return m},kMedoids:function(a){var f,_,s=this.cy(),c=this.nodes(),u=null,h=br(a),m=new Array(h.k),v={},b=new Array(h.k);h.testMode?"number"==typeof h.testCentroids||(f="object"===ni(h.testCentroids)?h.testCentroids:gs(c,h.k)):f=gs(c,h.k);for(var w=!0,x=0;w&&x<h.maxIterations;){for(var D=0;D<c.length;D++)v[(u=c[D]).id()]=Jt(u,f,h.distance,h.attributes,"kMedoids");w=!1;for(var k=0;k<f.length;k++){var M=rn(k,c,v);if(0!==M.length){b[k]=dn(f[k],M,h.attributes);for(var S=0;S<M.length;S++)(_=dn(M[S],M,h.attributes))<b[k]&&(b[k]=_,f[k]=M[S],w=!0);m[k]=s.collection(M)}}x++}return m},fuzzyCMeans:Kh,fcm:Kh},cr=Nn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),wc={single:"min",complete:"max"},ba=function(a,s,c,u,h){for(var v,m=0,f=1/0,_=h.attributes,b=function(N,W){return Vn(h.distance,_.length,function(G){return _[G](N)},function(G){return _[G](W)},N,W)},w=0;w<a.length;w++){var x=a[w].key,D=c[x][u[x]];D<f&&(m=x,f=D)}if("threshold"===h.mode&&f>=h.threshold||"dendrogram"===h.mode&&1===a.length)return!1;var S,k=s[m],M=s[u[m]];S="dendrogram"===h.mode?{left:k,right:M,key:k.key}:{value:k.value.concat(M.value),key:k.key},a[k.index]=S,a.splice(M.index,1),s[k.key]=S;for(var T=0;T<a.length;T++){var R=a[T];k.key===R.key?v=1/0:"min"===h.linkage?(v=c[k.key][R.key],c[k.key][R.key]>c[M.key][R.key]&&(v=c[M.key][R.key])):"max"===h.linkage?(v=c[k.key][R.key],c[k.key][R.key]<c[M.key][R.key]&&(v=c[M.key][R.key])):v="mean"===h.linkage?(c[k.key][R.key]*k.size+c[M.key][R.key]*M.size)/(k.size+M.size):"dendrogram"===h.mode?b(R.value,k.value):b(R.value[0],k.value[0]),c[k.key][R.key]=c[R.key][k.key]=v}for(var O=0;O<a.length;O++){var F=a[O].key;if(u[F]===k.key||u[F]===M.key){for(var j=F,U=0;U<a.length;U++){var L=a[U].key;c[F][L]<c[F][j]&&(j=L)}u[F]=j}a[O].index=O}return k.key=M.key=k.index=M.index=null,!0},Ao=function l(a,s,c){!a||(a.value?s.push(a.value):(a.left&&l(a.left,s),a.right&&l(a.right,s)))},Sf=function l(a,s){if(!a)return"";if(a.left&&a.right){var c=l(a.left,s),u=l(a.right,s),h=s.add({group:"nodes",data:{id:c+","+u}});return s.add({group:"edges",data:{source:c,target:h.id()}}),s.add({group:"edges",data:{source:u,target:h.id()}}),h.id()}return a.value?a.value.id():void 0},Zi=function l(a,s,c){if(!a)return[];var u=[],h=[],m=[];return 0===s?(a.left&&Ao(a.left,u),a.right&&Ao(a.right,h),m=u.concat(h),[c.collection(m)]):1===s?a.value?[c.collection(a.value)]:(a.left&&Ao(a.left,u),a.right&&Ao(a.right,h),[c.collection(u),c.collection(h)]):a.value?[c.collection(a.value)]:(a.left&&(u=l(a.left,s-1,c)),a.right&&(h=l(a.right,s-1,c)),u.concat(h))},jb=function(a){for(var s=this.cy(),c=this.nodes(),u=function(a){var s=cr(a),c=wc[s.linkage];return null!=c&&(s.linkage=c),s}(a),h=u.attributes,m=function(O,F){return Vn(u.distance,h.length,function(j){return h[j](O)},function(j){return h[j](F)},O,F)},f=[],v=[],_=[],b=[],w=0;w<c.length;w++){var x={value:"dendrogram"===u.mode?c[w]:[c[w]],key:w,index:w};f[w]=x,b[w]=x,v[w]=[],_[w]=0}for(var D=0;D<f.length;D++)for(var k=0;k<=D;k++){var M;M="dendrogram"===u.mode?D===k?1/0:m(f[D].value,f[k].value):D===k?1/0:m(f[D].value[0],f[k].value[0]),v[D][k]=M,v[k][D]=M,M<v[D][_[D]]&&(_[D]=k)}for(var S=ba(f,b,v,_,u);S;)S=ba(f,b,v,_,u);var T;return"dendrogram"===u.mode?(T=Zi(f[0],u.dendrogramDepth,s),u.addDendrogram&&Sf(f[0],s)):(T=new Array(f.length),f.forEach(function(R,O){R.key=R.index=null,T[O]=s.collection(R.value)})),T},Xh={hierarchicalClustering:jb,hca:jb},Tf=Nn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ad=function(a,s,c,u){var h=function(f,v){return u[v](f)};return-Vn(a,u.length,function(m){return h(s,m)},function(m){return h(c,m)},s,c)},Ub=function(a,s,c){for(var u=[],h=0;h<a;h++){for(var m=-1,f=-1/0,v=0;v<c.length;v++){var _=c[v];s[h*a+_]>f&&(m=_,f=s[h*a+_])}m>0&&u.push(m)}for(var b=0;b<c.length;b++)u[c[b]]=c[b];return u},oa=function(a){for(var s=this.cy(),c=this.nodes(),u=function(a){var s=a.damping,c=a.preference;.5<=s&&s<1||Yi("Damping must range on [0.5, 1).  Got: ".concat(s));var u=["median","mean","min","max"];return u.some(function(h){return h===c})||Je(c)||Yi("Preference must be one of [".concat(u.map(function(h){return"'".concat(h,"'")}).join(", "),"] or a number.  Got: ").concat(c)),Tf(a)}(a),h={},m=0;m<c.length;m++)h[c[m].id()]=m;var f,v,_,b,w,x,N;v=(f=c.length)*f,_=new Array(v);for(var D=0;D<v;D++)_[D]=-1/0;for(var k=0;k<f;k++)for(var M=0;M<f;M++)k!==M&&(_[k*f+M]=Ad(u.distance,c[k],c[M],u.attributes));b=function(a,s){var c;return c="median"===s?function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,h=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(c<a.length&&a.splice(c,a.length-c),s>0&&a.splice(0,s)):a=a.slice(s,c);for(var f=0,v=a.length-1;v>=0;v--)m?isFinite(a[v])||(a[v]=-1/0,f++):a.splice(v,1);h&&a.sort(function(x,D){return x-D});var b=a.length,w=Math.floor(b/2);return b%2!=0?a[w+1+f]:(a[w-1+f]+a[w+f])/2}(a):"mean"===s?function(a){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,u=0,h=0,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m<c;m++){var f=a[m];isFinite(f)&&(u+=f,h++)}return u/h}(a):"min"===s?function(a){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,u=1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<c;h++){var m=a[h];isFinite(m)&&(u=Math.min(m,u))}return u}(a):"max"===s?function(a){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.length,u=-1/0,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h<c;h++){var m=a[h];isFinite(m)&&(u=Math.max(m,u))}return u}(a):s,c}(_,u.preference);for(var S=0;S<f;S++)_[S*f+S]=b;w=new Array(v);for(var T=0;T<v;T++)w[T]=0;x=new Array(v);for(var R=0;R<v;R++)x[R]=0;for(var O=new Array(f),F=new Array(f),j=new Array(f),U=0;U<f;U++)O[U]=0,F[U]=0,j[U]=0;for(var L=new Array(f*u.minIterations),z=0;z<L.length;z++)L[z]=0;for(N=0;N<u.maxIterations;N++){for(var W=0;W<f;W++){for(var G=-1/0,H=-1/0,q=-1,$=0,ee=0;ee<f;ee++)O[ee]=w[W*f+ee],($=x[W*f+ee]+_[W*f+ee])>=G?(H=G,G=$,q=ee):$>H&&(H=$);for(var K=0;K<f;K++)w[W*f+K]=(1-u.damping)*(_[W*f+K]-G)+u.damping*O[K];w[W*f+q]=(1-u.damping)*(_[W*f+q]-H)+u.damping*O[q]}for(var Q=0;Q<f;Q++){for(var ne=0,ce=0;ce<f;ce++)O[ce]=x[ce*f+Q],F[ce]=Math.max(0,w[ce*f+Q]),ne+=F[ce];ne-=F[Q],F[Q]=w[Q*f+Q],ne+=F[Q];for(var pe=0;pe<f;pe++)x[pe*f+Q]=(1-u.damping)*Math.min(0,ne-F[pe])+u.damping*O[pe];x[Q*f+Q]=(1-u.damping)*(ne-F[Q])+u.damping*O[Q]}for(var le=0,se=0;se<f;se++){var Me=x[se*f+se]+w[se*f+se]>0?1:0;L[N%u.minIterations*f+se]=Me,le+=Me}if(le>0&&(N>=u.minIterations-1||N==u.maxIterations-1)){for(var Se=0,xe=0;xe<f;xe++){j[xe]=0;for(var ye=0;ye<u.minIterations;ye++)j[xe]+=L[ye*f+xe];(0===j[xe]||j[xe]===u.minIterations)&&Se++}if(Se===f)break}}for(var te=function(a,s,c){for(var u=[],h=0;h<a;h++)s[h*a+h]+c[h*a+h]>0&&u.push(h);return u}(f,w,x),Ee=function(a,s,c){for(var u=Ub(a,s,c),h=0;h<c.length;h++){for(var m=[],f=0;f<u.length;f++)u[f]===c[h]&&m.push(f);for(var v=-1,_=-1/0,b=0;b<m.length;b++){for(var w=0,x=0;x<m.length;x++)w+=s[m[x]*a+m[b]];w>_&&(v=b,_=w)}c[h]=m[v]}return Ub(a,s,c)}(f,_,te),Ie={},Be=0;Be<te.length;Be++)Ie[te[Be]]=[];for(var Ke=0;Ke<c.length;Ke++){var Zt=Ee[h[c[Ke].id()]];null!=Zt&&Ie[Zt].push(c[Ke])}for(var Xe=new Array(te.length),Ue=0;Ue<te.length;Ue++)Xe[Ue]=s.collection(Ie[te[Ue]]);return Xe},Qh={affinityPropagation:oa,ap:oa},xc=Nn({root:void 0,directed:!1}),Rd={hierholzer:function(a){if(!vt(a)){var s=arguments;a={root:s[0],directed:s[1]}}var v,_,b,c=xc(a),u=c.root,h=c.directed,m=this,f=!1;u&&(b=We(u)?this.filter(u)[0].id():u[0].id());var w={},x={};m.forEach(h?function(R){var O=R.id();if(R.isNode()){var F=R.indegree(!0),j=R.outdegree(!0),U=F-j,L=j-F;1==U?v?f=!0:v=O:1==L?_?f=!0:_=O:(L>1||U>1)&&(f=!0),w[O]=[],R.outgoers().forEach(function(z){z.isEdge()&&w[O].push(z.id())})}else x[O]=[void 0,R.target().id()]}:function(R){var O=R.id();R.isNode()?(R.degree(!0)%2&&(v?_?f=!0:_=O:v=O),w[O]=[],R.connectedEdges().forEach(function(j){return w[O].push(j.id())})):x[O]=[R.source().id(),R.target().id()]});var D={found:!1,trail:void 0};if(f)return D;if(_&&v)if(h){if(b&&_!=b)return D;b=_}else{if(b&&_!=b&&v!=b)return D;b||(b=_)}else b||(b=m[0].id());var k=function(O){for(var U,L,z,F=O,j=[O];w[F].length;)U=w[F].shift(),L=x[U][0],F!=(z=x[U][1])?(w[z]=w[z].filter(function(N){return N!=U}),F=z):!h&&F!=L&&(w[L]=w[L].filter(function(N){return N!=U}),F=L),j.unshift(U),j.unshift(F);return j},M=[],S=[];for(S=k(b);1!=S.length;)0==w[S[0]].length?(M.unshift(m.getElementById(S.shift())),M.unshift(m.getElementById(S.shift()))):S=k(S.shift()).concat(S);for(var T in M.unshift(m.getElementById(S.shift())),w)if(w[T].length)return D;return D.found=!0,D.trail=this.spawn(M,!0),D}},Tr=function(){var a=this,s={},c=0,u=0,h=[],m=[],f={},_=function w(x,D,k){x===k&&(u+=1),s[D]={id:c,low:c++,cutVertex:!1};var S,T,R,O,M=a.getElementById(D).connectedEdges().intersection(a);0===M.size()?h.push(a.spawn(a.getElementById(D))):M.forEach(function(F){S=F.source().id(),T=F.target().id(),(R=S===D?T:S)!==k&&(O=F.id(),f[O]||(f[O]=!0,m.push({x:D,y:R,edge:F})),R in s?s[D].low=Math.min(s[D].low,s[R].id):(w(x,R,D),s[D].low=Math.min(s[D].low,s[R].low),s[D].id<=s[R].low&&(s[D].cutVertex=!0,function(x,D){for(var k=m.length-1,M=[],S=a.spawn();m[k].x!=x||m[k].y!=D;)M.push(m.pop().edge),k--;M.push(m.pop().edge),M.forEach(function(T){var R=T.connectedNodes().intersection(a);S.merge(T),R.forEach(function(O){var F=O.id(),j=O.connectedEdges().intersection(a);S.merge(O),S.merge(s[F].cutVertex?j.filter(function(U){return U.isLoop()}):j)})}),h.push(S)}(D,R))))})};a.forEach(function(w){if(w.isNode()){var x=w.id();x in s||(u=0,_(x,x),s[x].cutVertex=u>1)}});var b=Object.keys(s).filter(function(w){return s[w].cutVertex}).map(function(w){return a.getElementById(w)});return{cut:a.spawn(b),components:h}},Zh=function(){var a=this,s={},c=0,u=[],h=[],m=a.spawn(a),f=function v(_){if(h.push(_),s[_]={index:c,low:c++,explored:!1},a.getElementById(_).connectedEdges().intersection(a).forEach(function(M){var S=M.target().id();S!==_&&(S in s||v(S),s[S].explored||(s[_].low=Math.min(s[_].low,s[S].low)))}),s[_].index===s[_].low){for(var w=a.spawn();;){var x=h.pop();if(w.merge(a.getElementById(x)),s[x].low=s[_].index,s[x].explored=!0,x===_)break}var D=w.edgesWith(w),k=w.merge(D);u.push(k),m=m.difference(k)}};return a.forEach(function(v){if(v.isNode()){var _=v.id();_ in s||f(_)}}),{cut:m,components:u}},If={};[ms,Fh,Ab,Vt,Nh,Dd,Fi,gc,ml,jr,xf,kf,pl,Xh,Qh,Rd,{hopcroftTarjanBiconnected:Tr,htbc:Tr,htb:Tr,hopcroftTarjanBiconnectedComponents:Tr},{tarjanStronglyConnected:Zh,tsc:Zh,tscc:Zh,tarjanStronglyConnectedComponents:Zh}].forEach(function(l){Bt(If,l)});var Ro=function l(a){if(!(this instanceof l))return new l(a);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof a&&a.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ro.prototype={fulfill:function(a){return Kb(this,1,"fulfillValue",a)},reject:function(a){return Kb(this,2,"rejectReason",a)},then:function(a,s){var c=this,u=new Ro;return c.onFulfilled.push(Zb(a,u,"fulfill")),c.onRejected.push(Zb(s,u,"reject")),Xb(c),u.proxy}};var Kb=function(a,s,c,u){return 0===a.state&&(a.state=s,a[c]=u,Xb(a)),a},Xb=function(a){1===a.state?Qb(a,"onFulfilled",a.fulfillValue):2===a.state&&Qb(a,"onRejected",a.rejectReason)},Qb=function(a,s,c){if(0!==a[s].length){var u=a[s];a[s]=[];var h=function(){for(var f=0;f<u.length;f++)u[f](c)};"function"==typeof setImmediate?setImmediate(h):setTimeout(h,0)}},Zb=function(a,s,c){return function(u){if("function"!=typeof a)s[c].call(s,u);else{var h;try{h=a(u)}catch(m){return void s.reject(m)}dD(s,h)}}},dD=function l(a,s){if(a!==s&&a.proxy!==s){var c;if("object"===ni(s)&&null!==s||"function"==typeof s)try{c=s.then}catch(h){return void a.reject(h)}if("function"!=typeof c)a.fulfill(s);else{var u=!1;try{c.call(s,function(h){u||(u=!0,h===s?a.reject(new TypeError("circular thenable chain")):l(a,h))},function(h){u||(u=!0,a.reject(h))})}catch(h){u||a.reject(h)}}}else a.reject(new TypeError("cannot resolve promise with itself"))};Ro.all=function(l){return new Ro(function(a,s){for(var c=new Array(l.length),u=0,h=function(v,_){c[v]=_,++u===l.length&&a(c)},m=0;m<l.length;m++)!function(f){var v=l[f];null!=v&&null!=v.then?v.then(function(w){h(f,w)},function(w){s(w)}):h(f,v)}(m)})},Ro.resolve=function(l){return new Ro(function(a,s){a(l)})},Ro.reject=function(l){return new Ro(function(a,s){s(l)})};var Cc=typeof Promise<"u"?Promise:Ro,Af=function(a,s,c){var u=kn(a),h=!u,m=this._private=Bt({duration:1e3},s,c);if(m.target=a,m.style=m.style||m.css,m.started=!1,m.playing=!1,m.hooked=!1,m.applying=!1,m.progress=0,m.completes=[],m.frames=[],m.complete&&Ai(m.complete)&&m.completes.push(m.complete),h){var f=a.position();m.startPosition=m.startPosition||{x:f.x,y:f.y},m.startStyle=m.startStyle||a.cy().style().getAnimationStartStyle(a,m.style)}if(u){var v=a.pan();m.startPan={x:v.x,y:v.y},m.startZoom=a.zoom()}this.length=1,this[0]=this},_l=Af.prototype;Bt(_l,{instanceString:function(){return"animation"},hook:function(){var a=this._private;if(!a.hooked){var c=a.target._private.animation;(a.queue?c.queue:c.current).push(this),Ce(a.target)&&a.target.cy().addToAnimationPool(a.target),a.hooked=!0}return this},play:function(){var a=this._private;return 1===a.progress&&(a.progress=0),a.playing=!0,a.started=!1,a.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var a=this._private;return a.applying=!0,a.started=!1,a.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var a=this._private;return a.playing=!1,a.started=!1,this},stop:function(){var a=this._private;return a.playing=!1,a.started=!1,a.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(a){var s=this._private;return void 0===a?s.progress*s.duration:this.progress(a/s.duration)},progress:function(a){var s=this._private,c=s.playing;return void 0===a?s.progress:(c&&this.pause(),s.progress=a,s.started=!1,c&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var a=this._private,s=a.playing;s&&this.pause(),a.progress=1-a.progress,a.started=!1;var c=function(_,b){var w=a[_];null!=w&&(a[_]=a[b],a[b]=w)};if(c("zoom","startZoom"),c("pan","startPan"),c("position","startPosition"),a.style)for(var u=0;u<a.style.length;u++){var h=a.style[u],m=h.name,f=a.startStyle[m];a.startStyle[m]=h,a.style[u]=f}return s&&this.play(),this},promise:function(a){var c,s=this._private;return c="frame"===a?s.frames:s.completes,new Cc(function(u,h){c.push(function(){u()})})}}),_l.complete=_l.completed,_l.run=_l.play,_l.running=_l.playing;var Of={data:function(a){return a=Bt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(u){},beforeSet:function(u,h){},onSet:function(u){},canSet:function(u){return!0}},a),function(u,h){var m=a,f=this,v=void 0!==f.length,_=v?f:[f],b=v?f[0]:f;if(We(u)){var D,x=-1!==u.indexOf(".")&&Ki.default(u);if(m.allowGetting&&void 0===h)return b&&(m.beforeGet(b),D=x&&void 0===b._private[m.field][u]?_t.default(b._private[m.field],x):b._private[m.field][u]),D;if(m.allowSetting&&void 0!==h&&!m.immutableKeys[u]){var M=ln({},u,h);m.beforeSet(f,M);for(var S=0,T=_.length;S<T;S++){var R=_[S];m.canSet(R)&&(x&&void 0===b._private[m.field][u]?kt.default(R._private[m.field],x,h):R._private[m.field][u]=h)}m.updateStyle&&f.updateStyle(),m.onSet(f),m.settingTriggersEvent&&f[m.triggerFnName](m.settingEvent)}}else if(m.allowSetting&&vt(u)){var F,j,O=u,U=Object.keys(O);m.beforeSet(f,O);for(var L=0;L<U.length;L++)if(j=O[F=U[L]],!m.immutableKeys[F])for(var N=0;N<_.length;N++){var W=_[N];m.canSet(W)&&(W._private[m.field][F]=j)}m.updateStyle&&f.updateStyle(),m.onSet(f),m.settingTriggersEvent&&f[m.triggerFnName](m.settingEvent)}else if(m.allowBinding&&Ai(u))f.on(m.bindingEvent,u);else if(m.allowGetting&&void 0===u){var H;return b&&(m.beforeGet(b),H=b._private[m.field]),H}return f}},removeData:function(a){return a=Bt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},a),function(u){var h=a,m=this,v=void 0!==m.length?m:[m];if(We(u)){for(var _=u.split(/\s+/),b=_.length,w=0;w<b;w++){var x=_[w];if(!ji(x)&&!h.immutableKeys[x])for(var k=0,M=v.length;k<M;k++)v[k]._private[h.field][x]=void 0}h.triggerEvent&&m[h.triggerFnName](h.event)}else if(void 0===u){for(var S=0,T=v.length;S<T;S++)for(var R=v[S]._private[h.field],O=Object.keys(R),F=0;F<O.length;F++){var j=O[F];!h.immutableKeys[j]&&(R[j]=void 0)}h.triggerEvent&&m[h.triggerFnName](h.event)}return m}}},uD={eventAliasesOn:function(a){var s=a;s.addListener=s.listen=s.bind=s.on,s.unlisten=s.unbind=s.off=s.removeListener,s.trigger=s.emit,s.pon=s.promiseOn=function(c,u){var h=this,m=Array.prototype.slice.call(arguments,0);return new Cc(function(f,v){var b=m.concat([function(D){h.off.apply(h,w),f(D)}]),w=b.concat([]);h.on.apply(h,b)})}}},Ni={};[{animated:function(){return function(){var s=this,u=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return!1;var m=u[0];return m?m._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var s=this,u=void 0!==s.length?s:[s];if(!(this._private.cy||this).styleEnabled())return this;for(var m=0;m<u.length;m++)u[m]._private.animation.queue=[];return this}},delay:function(){return function(s,c){return(this._private.cy||this).styleEnabled()?this.animate({delay:s,duration:s,complete:c}):this}},delayAnimation:function(){return function(s,c){return(this._private.cy||this).styleEnabled()?this.animation({delay:s,duration:s,complete:c}):this}},animation:function(){return function(s,c){var u=this,h=void 0!==u.length,m=h?u:[u],f=this._private.cy||this,v=!h,_=!v;if(!f.styleEnabled())return this;var b=f.style();if(s=Bt({},s,c),0===Object.keys(s).length)return new Af(m[0],s);switch(void 0===s.duration&&(s.duration=400),s.duration){case"slow":s.duration=600;break;case"fast":s.duration=200}if(_&&(s.style=b.getPropsList(s.style||s.css),s.css=void 0),_&&null!=s.renderedPosition){var x=s.renderedPosition,D=f.pan(),k=f.zoom();s.position=_f(x,k,D)}if(v&&null!=s.panBy){var M=s.panBy,S=f.pan();s.pan={x:S.x+M.x,y:S.y+M.y}}var T=s.center||s.centre;if(v&&null!=T){var R=f.getCenterPan(T.eles,s.zoom);null!=R&&(s.pan=R)}if(v&&null!=s.fit){var O=s.fit,F=f.getFitViewport(O.eles||O.boundingBox,O.padding);null!=F&&(s.pan=F.pan,s.zoom=F.zoom)}if(v&&vt(s.zoom)){var j=f.getZoomedViewport(s.zoom);null!=j?(j.zoomed&&(s.zoom=j.zoom),j.panned&&(s.pan=j.pan)):s.zoom=null}return new Af(m[0],s)}},animate:function(){return function(s,c){var u=this,m=void 0!==u.length?u:[u];if(!(this._private.cy||this).styleEnabled())return this;c&&(s=Bt({},s,c));for(var v=0;v<m.length;v++){var _=m[v],b=_.animated()&&(void 0===s.queue||s.queue);_.animation(s,b?{queue:!0}:void 0).play()}return this}},stop:function(){return function(s,c){var u=this,m=void 0!==u.length?u:[u],f=this._private.cy||this;if(!f.styleEnabled())return this;for(var v=0;v<m.length;v++){for(var b=m[v]._private,w=b.animation.current,x=0;x<w.length;x++)c&&(w[x]._private.duration=0);s&&(b.animation.queue=[]),c||(b.animation.current=[])}return f.notify("draw"),this}}},Of,uD].forEach(function(l){Bt(Ni,l)});var hD={animate:Ni.animate(),animation:Ni.animation(),animated:Ni.animated(),clearQueue:Ni.clearQueue(),delay:Ni.delay(),delayAnimation:Ni.delayAnimation(),stop:Ni.stop()},Ba={classes:function(a){var s=this;if(void 0===a){var c=[];return s[0]._private.classes.forEach(function(k){return c.push(k)}),c}gi(a)||(a=(a||"").match(/\S+/g)||[]);for(var u=[],h=new hs(a),m=0;m<s.length;m++){for(var f=s[m],v=f._private,_=v.classes,b=!1,w=0;w<a.length;w++)if(!_.has(a[w])){b=!0;break}b||(b=_.size!==a.length),b&&(v.classes=h,u.push(f))}return u.length>0&&this.spawn(u).updateStyle().emit("class"),s},addClass:function(a){return this.toggleClass(a,!0)},hasClass:function(a){var s=this[0];return null!=s&&s._private.classes.has(a)},toggleClass:function(a,s){gi(a)||(a=a.match(/\S+/g)||[]);for(var c=this,u=void 0===s,h=[],m=0,f=c.length;m<f;m++)for(var v=c[m],_=v._private.classes,b=!1,w=0;w<a.length;w++){var x=a[w],D=_.has(x),k=!1;s||u&&!D?(_.add(x),k=!0):(!s||u&&D)&&(_.delete(x),k=!0),!b&&k&&(h.push(v),b=!0)}return h.length>0&&this.spawn(h).updateStyle().emit("class"),c},removeClass:function(a){return this.toggleClass(a,!1)},flashClass:function(a,s){var c=this;if(null==s)s=250;else if(0===s)return c;return c.addClass(a),setTimeout(function(){c.removeClass(a)},s),c}};Ba.className=Ba.classNames=Ba.classes;var xi={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Ln,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};xi.variable="(?:[\\w-.]|(?:\\\\"+xi.metaChar+"))+",xi.className="(?:[\\w-]|(?:\\\\"+xi.metaChar+"))+",xi.value=xi.string+"|"+xi.number,xi.id=xi.variable,function(){var l,a,s;for(l=xi.comparatorOp.split("|"),s=0;s<l.length;s++)xi.comparatorOp+="|@"+(a=l[s]);for(l=xi.comparatorOp.split("|"),s=0;s<l.length;s++)!((a=l[s]).indexOf("!")>=0)&&"="!==a&&(xi.comparatorOp+="|\\!"+a)}();var Jh=[{selector:":selected",matches:function(a){return a.selected()}},{selector:":unselected",matches:function(a){return!a.selected()}},{selector:":selectable",matches:function(a){return a.selectable()}},{selector:":unselectable",matches:function(a){return!a.selectable()}},{selector:":locked",matches:function(a){return a.locked()}},{selector:":unlocked",matches:function(a){return!a.locked()}},{selector:":visible",matches:function(a){return a.visible()}},{selector:":hidden",matches:function(a){return!a.visible()}},{selector:":transparent",matches:function(a){return a.transparent()}},{selector:":grabbed",matches:function(a){return a.grabbed()}},{selector:":free",matches:function(a){return!a.grabbed()}},{selector:":removed",matches:function(a){return a.removed()}},{selector:":inside",matches:function(a){return!a.removed()}},{selector:":grabbable",matches:function(a){return a.grabbable()}},{selector:":ungrabbable",matches:function(a){return!a.grabbable()}},{selector:":animated",matches:function(a){return a.animated()}},{selector:":unanimated",matches:function(a){return!a.animated()}},{selector:":parent",matches:function(a){return a.isParent()}},{selector:":childless",matches:function(a){return a.isChildless()}},{selector:":child",matches:function(a){return a.isChild()}},{selector:":orphan",matches:function(a){return a.isOrphan()}},{selector:":nonorphan",matches:function(a){return a.isChild()}},{selector:":compound",matches:function(a){return a.isNode()?a.isParent():a.source().isParent()||a.target().isParent()}},{selector:":loop",matches:function(a){return a.isLoop()}},{selector:":simple",matches:function(a){return a.isSimple()}},{selector:":active",matches:function(a){return a.active()}},{selector:":inactive",matches:function(a){return!a.active()}},{selector:":backgrounding",matches:function(a){return a.backgrounding()}},{selector:":nonbackgrounding",matches:function(a){return!a.backgrounding()}}].sort(function(l,a){return function(a,s){return-1*lf(a,s)}(l.selector,a.selector)}),Jb=function(){for(var a,l={},s=0;s<Jh.length;s++)l[(a=Jh[s]).selector]=a.matches;return l}(),Ff="("+Jh.map(function(l){return l.selector}).join("|")+")",vl=function(a){return a.replace(new RegExp("\\\\("+xi.metaChar+")","g"),function(s,c){return c})},Va=function(a,s,c){a[a.length-1]=c},em=[{name:"group",query:!0,regex:"("+xi.group+")",populate:function(a,s,c){var h=ki(c,1)[0];s.checks.push({type:0,value:"*"===h?h:h+"s"})}},{name:"state",query:!0,regex:Ff,populate:function(a,s,c){var u=ki(c,1);s.checks.push({type:7,value:u[0]})}},{name:"id",query:!0,regex:"\\#("+xi.id+")",populate:function(a,s,c){var u=ki(c,1);s.checks.push({type:8,value:vl(u[0])})}},{name:"className",query:!0,regex:"\\.("+xi.className+")",populate:function(a,s,c){var u=ki(c,1);s.checks.push({type:9,value:vl(u[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+xi.variable+")\\s*\\]",populate:function(a,s,c){var u=ki(c,1);s.checks.push({type:4,field:vl(u[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+xi.variable+")\\s*("+xi.comparatorOp+")\\s*("+xi.value+")\\s*\\]",populate:function(a,s,c){var u=ki(c,3),h=u[0],m=u[1],f=u[2];f=null!=new RegExp("^"+xi.string+"$").exec(f)?f.substring(1,f.length-1):parseFloat(f),s.checks.push({type:3,field:vl(h),operator:m,value:f})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+xi.boolOp+")\\s*("+xi.variable+")\\s*\\]",populate:function(a,s,c){var u=ki(c,2),h=u[0];s.checks.push({type:5,field:vl(u[1]),operator:h})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+xi.meta+")\\s*("+xi.comparatorOp+")\\s*("+xi.number+")\\s*\\]\\]",populate:function(a,s,c){var u=ki(c,3),m=u[1],f=u[2];s.checks.push({type:6,field:vl(u[0]),operator:m,value:parseFloat(f)})}},{name:"nextQuery",separator:!0,regex:xi.separator,populate:function(a,s){var c=a.currentSubject,u=a.edgeCount,h=a.compoundCount,m=a[a.length-1];return null!=c&&(m.subject=c,a.currentSubject=null),m.edgeCount=u,m.compoundCount=h,a.edgeCount=0,a.compoundCount=0,a[a.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:xi.directedEdge,populate:function(a,s){if(null==a.currentSubject){var c={checks:[]},h={checks:[]};return c.checks.push({type:11,source:s,target:h}),Va(a,0,c),a.edgeCount++,h}var m={checks:[]},v={checks:[]};return m.checks.push({type:12,source:s,target:v}),Va(a,0,m),a.edgeCount++,v}},{name:"undirectedEdge",separator:!0,regex:xi.undirectedEdge,populate:function(a,s){if(null==a.currentSubject){var c={checks:[]},h={checks:[]};return c.checks.push({type:10,nodes:[s,h]}),Va(a,0,c),a.edgeCount++,h}var m={checks:[]},v={checks:[]};return m.checks.push({type:14,node:s,neighbor:v}),Va(a,0,m),v}},{name:"child",separator:!0,regex:xi.child,populate:function(a,s){if(null==a.currentSubject){var c={checks:[]},u={checks:[]};return c.checks.push({type:15,parent:a[a.length-1],child:u}),Va(a,0,c),a.compoundCount++,u}if(a.currentSubject===s){var m={checks:[]},v={checks:[]},_={checks:[]},b={checks:[]},w={checks:[]};return m.checks.push({type:19,left:a[a.length-1],right:v,subject:_}),_.checks=s.checks,s.checks=[{type:20}],w.checks.push({type:20}),v.checks.push({type:17,parent:w,child:b}),Va(a,0,m),a.currentSubject=_,a.compoundCount++,b}var x={checks:[]},D={checks:[]},k=[{type:17,parent:x,child:D}];return x.checks=s.checks,s.checks=k,a.compoundCount++,D}},{name:"descendant",separator:!0,regex:xi.descendant,populate:function(a,s){if(null==a.currentSubject){var c={checks:[]},u={checks:[]};return c.checks.push({type:16,ancestor:a[a.length-1],descendant:u}),Va(a,0,c),a.compoundCount++,u}if(a.currentSubject===s){var m={checks:[]},v={checks:[]},_={checks:[]},b={checks:[]},w={checks:[]};return m.checks.push({type:19,left:a[a.length-1],right:v,subject:_}),_.checks=s.checks,s.checks=[{type:20}],w.checks.push({type:20}),v.checks.push({type:18,ancestor:w,descendant:b}),Va(a,0,m),a.currentSubject=_,a.compoundCount++,b}var x={checks:[]},D={checks:[]},k=[{type:18,ancestor:x,descendant:D}];return x.checks=s.checks,s.checks=k,a.compoundCount++,D}},{name:"subject",modifier:!0,regex:xi.subject,populate:function(a,s){if(null!=a.currentSubject&&a.currentSubject!==s)return Pi("Redefinition of subject in selector `"+a.toString()+"`"),!1;a.currentSubject=s;var u=a[a.length-1].checks[0],h=null==u?null:u.type;11===h?u.type=13:10===h&&(u.type=14,u.node=u.nodes[1],u.neighbor=u.nodes[0],u.nodes=null)}}];em.forEach(function(l){return l.regexObj=new RegExp("^"+l.regex)});var sa=function(a){for(var s,c,u,h=0;h<em.length;h++){var m=em[h],f=m.name,v=a.match(m.regexObj);if(null!=v){c=v,s=m,u=f,a=a.substring(v[0].length);break}}return{expr:s,match:c,name:u,remaining:a}},ey={parse:function(a){var s=this,c=s.inputText=a,u=s[0]={checks:[]};for(s.length=1,c=function(a){var s=a.match(/^\s+/);return s&&(a=a.substring(s[0].length)),a}(c);;){var h=sa(c);if(null==h.expr)return Pi("The selector `"+a+"`is invalid"),!1;var m=h.match.slice(1),f=h.expr.populate(s,u,m);if(!1===f)return!1;if(null!=f&&(u=f),(c=h.remaining).match(/^\s*$/))break}var v=s[s.length-1];null!=s.currentSubject&&(v.subject=s.currentSubject),v.edgeCount=s.edgeCount,v.compoundCount=s.compoundCount;for(var _=0;_<s.length;_++){var b=s[_];if(b.compoundCount>0&&b.edgeCount>0)return Pi("The selector `"+a+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(b.edgeCount>1)return Pi("The selector `"+a+"` is invalid because it uses multiple edge selectors"),!1;1===b.edgeCount&&Pi("The selector `"+a+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var a=function(b){return b??""},s=function(b){return We(b)?'"'+b+'"':a(b)},c=function(b){return" "+b+" "},h=function(b,w){return b.checks.reduce(function(x,D,k){return x+(w===b&&0===k?"$":"")+function(b,w){var D=b.value;switch(b.type){case 0:var k=a(D);return k.substring(0,k.length-1);case 3:return"["+b.field+c(a(b.operator))+s(D)+"]";case 5:var R=b.field;return"["+a(b.operator)+R+"]";case 4:return"["+b.field+"]";case 6:return"[["+b.field+c(a(b.operator))+s(D)+"]]";case 7:return D;case 8:return"#"+D;case 9:return"."+D;case 17:case 15:return h(b.parent,w)+c(">")+h(b.child,w);case 18:case 16:return h(b.ancestor,w)+" "+h(b.descendant,w);case 19:var U=h(b.left,w),L=h(b.subject,w),z=h(b.right,w);return U+(U.length>0?" ":"")+L+z;case 20:return""}}(D,w)},"")},m="",f=0;f<this.length;f++){var v=this[f];m+=h(v,v.subject),this.length>1&&f<this.length-1&&(m+=", ")}return this.toStringCache=m,m}},Dc=function(a,s,c){var u,v,_,h=We(a),m=Je(a),f=We(c),b=!1,w=!1,x=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),w=!0),s.indexOf("@")>=0&&(s=s.replace("@",""),b=!0),(h||f||b)&&(v=h||m?""+a:"",_=""+c),b&&(a=v=v.toLowerCase(),c=_=_.toLowerCase()),s){case"*=":u=v.indexOf(_)>=0;break;case"$=":u=v.indexOf(_,v.length-_.length)>=0;break;case"^=":u=0===v.indexOf(_);break;case"=":u=a===c;break;case">":x=!0,u=a>c;break;case">=":x=!0,u=a>=c;break;case"<":x=!0,u=a<c;break;case"<=":x=!0,u=a<=c;break;default:u=!1}return w&&(null!=a||!x)&&(u=!u),u},Od=function(a,s){return a.data(s)},bi=[],Ji=function(a,s){return a.checks.every(function(c){return bi[c.type](c,s)})};bi[0]=function(l,a){var s=l.value;return"*"===s||s===a.group()},bi[7]=function(l,a){return function(a,s){return Jb[a](s)}(l.value,a)},bi[8]=function(l,a){var s=l.value;return a.id()===s},bi[9]=function(l,a){return a.hasClass(l.value)},bi[6]=function(l,a){var c=l.operator,u=l.value;return Dc(function(a,s){return a[s]()}(a,l.field),c,u)},bi[3]=function(l,a){var c=l.operator,u=l.value;return Dc(Od(a,l.field),c,u)},bi[5]=function(l,a){var c=l.operator;return function(a,s){switch(s){case"?":return!!a;case"!":return!a;case"^":return void 0===a}}(Od(a,l.field),c)},bi[4]=function(l,a){return function(a){return void 0!==a}(Od(a,l.field))},bi[10]=function(l,a){var s=l.nodes[0],c=l.nodes[1],u=a.source(),h=a.target();return Ji(s,u)&&Ji(c,h)||Ji(c,u)&&Ji(s,h)},bi[14]=function(l,a){return Ji(l.node,a)&&a.neighborhood().some(function(s){return s.isNode()&&Ji(l.neighbor,s)})},bi[11]=function(l,a){return Ji(l.source,a.source())&&Ji(l.target,a.target())},bi[12]=function(l,a){return Ji(l.source,a)&&a.outgoers().some(function(s){return s.isNode()&&Ji(l.target,s)})},bi[13]=function(l,a){return Ji(l.target,a)&&a.incomers().some(function(s){return s.isNode()&&Ji(l.source,s)})},bi[15]=function(l,a){return Ji(l.child,a)&&Ji(l.parent,a.parent())},bi[17]=function(l,a){return Ji(l.parent,a)&&a.children().some(function(s){return Ji(l.child,s)})},bi[16]=function(l,a){return Ji(l.descendant,a)&&a.ancestors().some(function(s){return Ji(l.ancestor,s)})},bi[18]=function(l,a){return Ji(l.ancestor,a)&&a.descendants().some(function(s){return Ji(l.descendant,s)})},bi[19]=function(l,a){return Ji(l.subject,a)&&Ji(l.left,a)&&Ji(l.right,a)},bi[20]=function(){return!0},bi[1]=function(l,a){return l.value.has(a)},bi[2]=function(l,a){return(0,l.value)(a)};var Oo={matches:function(a){for(var c=0;c<this.length;c++)if(Ji(this[c],a))return!0;return!1},filter:function(a){var s=this;if(1===s.length&&1===s[0].checks.length&&8===s[0].checks[0].type)return a.getElementById(s[0].checks[0].value).collection();var c=function(h){for(var m=0;m<s.length;m++)if(Ji(s[m],h))return!0;return!1};return null==s.text()&&(c=function(){return!0}),a.filter(c)}},so=function(a){this.inputText=a,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==a||We(a)&&a.match(/^\s*$/)||(Ce(a)?this.addQuery({checks:[{type:1,value:a.collection()}]}):Ai(a)?this.addQuery({checks:[{type:2,value:a}]}):We(a)?this.parse(a)||(this.invalid=!0):Yi("A selector must be created from a string; found "))},Ha=so.prototype;[ey,Oo].forEach(function(l){return Bt(Ha,l)}),Ha.text=function(){return this.inputText},Ha.size=function(){return this.length},Ha.eq=function(l){return this[l]},Ha.sameText=function(l){return!this.invalid&&!l.invalid&&this.text()===l.text()},Ha.addQuery=function(l){this[this.length++]=l},Ha.selector=Ha.toString;var Pt={allAre:function(a){var s=new so(a);return this.every(function(c){return s.matches(c)})},is:function(a){var s=new so(a);return this.some(function(c){return s.matches(c)})},some:function(a,s){for(var c=0;c<this.length;c++)if(s?a.apply(s,[this[c],c,this]):a(this[c],c,this))return!0;return!1},every:function(a,s){for(var c=0;c<this.length;c++)if(!(s?a.apply(s,[this[c],c,this]):a(this[c],c,this)))return!1;return!0},same:function(a){if(this===a)return!0;a=this.cy().collection(a);var s=this.length;return s===a.length&&(1===s?this[0]===a[0]:this.every(function(u){return a.hasElementWithId(u.id())}))},anySame:function(a){return a=this.cy().collection(a),this.some(function(s){return a.hasElementWithId(s.id())})},allAreNeighbors:function(a){a=this.cy().collection(a);var s=this.neighborhood();return a.every(function(c){return s.hasElementWithId(c.id())})},contains:function(a){a=this.cy().collection(a);var s=this;return a.every(function(c){return s.hasElementWithId(c.id())})}};Pt.allAreNeighbours=Pt.allAreNeighbors,Pt.has=Pt.contains,Pt.equal=Pt.equals=Pt.same;var Mc,zf,Gr=function(a,s){return function(u,h,m,f){var b,v=u,_=this;if(null==v?b="":Ce(v)&&1===v.length&&(b=v.id()),1===_.length&&b){var w=_[0]._private,x=w.traversalCache=w.traversalCache||{},D=x[s]=x[s]||[],k=cs(b);return D[k]||(D[k]=a.call(_,u,h,m,f))}return a.call(_,u,h,m,f)}},kc={parent:function(a){var s=[];if(1===this.length){var c=this[0]._private.parent;if(c)return c}for(var u=0;u<this.length;u++){var m=this[u]._private.parent;m&&s.push(m)}return this.spawn(s,!0).filter(a)},parents:function(a){for(var s=[],c=this.parent();c.nonempty();){for(var u=0;u<c.length;u++)s.push(c[u]);c=c.parent()}return this.spawn(s,!0).filter(a)},commonAncestors:function(a){for(var s,c=0;c<this.length;c++){var h=this[c].parents();s=(s=s||h).intersect(h)}return s.filter(a)},orphans:function(a){return this.stdFilter(function(s){return s.isOrphan()}).filter(a)},nonorphans:function(a){return this.stdFilter(function(s){return s.isChild()}).filter(a)},children:Gr(function(l){for(var a=[],s=0;s<this.length;s++)for(var u=this[s]._private.children,h=0;h<u.length;h++)a.push(u[h]);return this.spawn(a,!0).filter(l)},"children"),siblings:function(a){return this.parent().children().not(this).filter(a)},isParent:function(){var a=this[0];if(a)return a.isNode()&&0!==a._private.children.length},isChildless:function(){var a=this[0];if(a)return a.isNode()&&0===a._private.children.length},isChild:function(){var a=this[0];if(a)return a.isNode()&&null!=a._private.parent},isOrphan:function(){var a=this[0];if(a)return a.isNode()&&null==a._private.parent},descendants:function(a){var s=[];return function c(u){for(var h=0;h<u.length;h++){var m=u[h];s.push(m),m.children().nonempty()&&c(m.children())}}(this.children()),this.spawn(s,!0).filter(a)}};function tm(l,a,s,c){for(var u=[],h=new hs,f=l.cy().hasCompoundNodes(),v=0;v<l.length;v++){var _=l[v];s?u.push(_):f&&c(u,h,_)}for(;u.length>0;){var b=u.shift();a(b),h.add(b.id()),f&&c(u,h,b)}return l}function Bf(l,a,s){if(s.isParent())for(var c=s._private.children,u=0;u<c.length;u++){var h=c[u];a.has(h.id())||l.push(h)}}function Vf(l,a,s){if(s.isChild()){var c=s._private.parent;a.has(c.id())||l.push(c)}}function Hf(l,a,s){Vf(l,a,s),Bf(l,a,s)}kc.forEachDown=function(l){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tm(this,l,a,Bf)},kc.forEachUp=function(l){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tm(this,l,a,Vf)},kc.forEachUpAndDown=function(l){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tm(this,l,a,Hf)},kc.ancestors=kc.parents,Mc=zf={data:Ni.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ni.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ni.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ni.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ni.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ni.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var a=this[0];if(a)return a._private.data.id}},Mc.attr=Mc.data,Mc.removeAttr=Mc.removeData;var Ae=zf,hi={};function ya(l){return function(a){var s=this;if(void 0===a&&(a=!0),0===s.length);else if(s.isNode()&&!s.removed()){for(var c=0,u=s[0],h=u._private.edges,m=0;m<h.length;m++){var f=h[m];!a&&f.isLoop()||(c+=l(u,f))}return c}}}function Ir(l,a){return function(s){for(var c,u=this.nodes(),h=0;h<u.length;h++){var f=u[h][l](s);void 0!==f&&(void 0===c||a(f,c))&&(c=f)}return c}}Bt(hi,{degree:ya(function(l,a){return a.source().same(a.target())?2:1}),indegree:ya(function(l,a){return a.target().same(l)?1:0}),outdegree:ya(function(l,a){return a.source().same(l)?1:0})}),Bt(hi,{minDegree:Ir("degree",function(l,a){return l<a}),maxDegree:Ir("degree",function(l,a){return l>a}),minIndegree:Ir("indegree",function(l,a){return l<a}),maxIndegree:Ir("indegree",function(l,a){return l>a}),minOutdegree:Ir("outdegree",function(l,a){return l<a}),maxOutdegree:Ir("outdegree",function(l,a){return l>a})}),Bt(hi,{totalDegree:function(a){for(var s=0,c=this.nodes(),u=0;u<c.length;u++)s+=c[u].degree(a);return s}});var Gi,im,yl=function(a,s,c){for(var u=0;u<a.length;u++){var h=a[u];if(!h.locked()){var m=h._private.position,f={x:null!=s.x?s.x-m.x:0,y:null!=s.y?s.y-m.y:0};h.isParent()&&!(0===f.x&&0===f.y)&&h.children().shift(f,c),h.dirtyBoundingBoxCache()}}},wa={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(a){a.updateCompoundBounds()},beforeSet:function(a,s){yl(a,s,!1)},onSet:function(a){a.dirtyCompoundBoundsCache()},canSet:function(a){return!a.locked()}};Gi=im={position:Ni.data(wa),silentPosition:Ni.data(Bt({},wa,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(a,s){yl(a,s,!0)},onSet:function(a){a.dirtyCompoundBoundsCache()}})),positions:function(a,s){if(vt(a))s?this.silentPosition(a):this.position(a);else if(Ai(a)){var c=a,u=this.cy();u.startBatch();for(var h=0;h<this.length;h++){var f,m=this[h];(f=c(m,h))&&(s?m.silentPosition(f):m.position(f))}u.endBatch()}return this},silentPositions:function(a){return this.positions(a,!0)},shift:function(a,s,c){var u;if(vt(a)?(u={x:Je(a.x)?a.x:0,y:Je(a.y)?a.y:0},c=s):We(a)&&Je(s)&&((u={x:0,y:0})[a]=s),null!=u){var h=this.cy();h.startBatch();for(var m=0;m<this.length;m++){var f=this[m];if(!(h.hasCompoundNodes()&&f.isChild()&&f.ancestors().anySame(this))){var v=f.position(),_={x:v.x+u.x,y:v.y+u.y};c?f.silentPosition(_):f.position(_)}}h.endBatch()}return this},silentShift:function(a,s){return vt(a)?this.shift(a,!0):We(a)&&Je(s)&&this.shift(a,s,!0),this},renderedPosition:function(a,s){var c=this[0],u=this.cy(),h=u.zoom(),m=u.pan(),f=vt(a)?a:void 0,v=void 0!==f||void 0!==s&&We(a);if(c&&c.isNode()){if(!v){var w=c.position();return f=Bh(w,h,m),void 0===a?f:f[a]}for(var _=0;_<this.length;_++){var b=this[_];void 0!==s?b.position(a,(s-m[a])/h):void 0!==f&&b.position(_f(f,h,m))}}else if(!v)return;return this},relativePosition:function(a,s){var c=this[0],u=this.cy(),h=vt(a)?a:void 0,m=void 0!==h||void 0!==s&&We(a),f=u.hasCompoundNodes();if(c&&c.isNode()){if(!m){var k=c.position(),M=f?c.parent():null,S=M&&M.length>0;S&&(M=M[0]);var R=S?M.position():{x:0,y:0};return h={x:k.x-R.x,y:k.y-R.y},void 0===a?h:h[a]}for(var v=0;v<this.length;v++){var _=this[v],b=f?_.parent():null,w=b&&b.length>0;w&&(b=b[0]);var D=w?b.position():{x:0,y:0};void 0!==s?_.position(a,s+D[a]):void 0!==h&&_.position({x:h.x+D.x,y:h.y+D.y})}}else if(!m)return;return this}},Gi.modelPosition=Gi.point=Gi.position,Gi.modelPositions=Gi.points=Gi.positions,Gi.renderedPoint=Gi.renderedPosition,Gi.relativePoint=Gi.relativePosition;var Po,Fo,nm=im;Po=Fo={},Fo.renderedBoundingBox=function(l){var a=this.boundingBox(l),s=this.cy(),c=s.zoom(),u=s.pan(),h=a.x1*c+u.x,m=a.x2*c+u.x,f=a.y1*c+u.y,v=a.y2*c+u.y;return{x1:h,x2:m,y1:f,y2:v,w:m-h,h:v-f}},Fo.dirtyCompoundBoundsCache=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.cy();return a.styleEnabled()&&a.hasCompoundNodes()?(this.forEachUp(function(s){if(s.isParent()){var c=s._private;c.compoundBoundsClean=!1,c.bbCache=null,l||s.emitAndNotify("bounds")}}),this):this},Fo.updateCompoundBounds=function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.cy();if(!a.styleEnabled()||!a.hasCompoundNodes())return this;if(!l&&a.batching())return this;function s(m){if(m.isParent()){var f=m._private,v=m.children(),_="include"===m.pstyle("compound-sizing-wrt-labels").value,b={width:{val:m.pstyle("min-width").pfValue,left:m.pstyle("min-width-bias-left"),right:m.pstyle("min-width-bias-right")},height:{val:m.pstyle("min-height").pfValue,top:m.pstyle("min-height-bias-top"),bottom:m.pstyle("min-height-bias-bottom")}},w=v.boundingBox({includeLabels:_,includeOverlays:!1,useCache:!1}),x=f.position;(0===w.w||0===w.h)&&((w={w:m.pstyle("width").pfValue,h:m.pstyle("height").pfValue}).x1=x.x-w.w/2,w.x2=x.x+w.w/2,w.y1=x.y-w.h/2,w.y2=x.y+w.h/2);var M=b.width.left.value;"px"===b.width.left.units&&b.width.val>0&&(M=100*M/b.width.val);var S=b.width.right.value;"px"===b.width.right.units&&b.width.val>0&&(S=100*S/b.width.val);var T=b.height.top.value;"px"===b.height.top.units&&b.height.val>0&&(T=100*T/b.height.val);var R=b.height.bottom.value;"px"===b.height.bottom.units&&b.height.val>0&&(R=100*R/b.height.val);var O=D(b.width.val-w.w,M,S),F=O.biasDiff,j=O.biasComplementDiff,U=D(b.height.val-w.h,T,R),L=U.biasDiff,z=U.biasComplementDiff;f.autoPadding=function k(N,W,G,H){if("%"!==G.units)return"px"===G.units?G.pfValue:0;switch(H){case"width":return N>0?G.pfValue*N:0;case"height":return W>0?G.pfValue*W:0;case"average":return N>0&&W>0?G.pfValue*(N+W)/2:0;case"min":return N>0&&W>0?N>W?G.pfValue*W:G.pfValue*N:0;case"max":return N>0&&W>0?N>W?G.pfValue*N:G.pfValue*W:0;default:return 0}}(w.w,w.h,m.pstyle("padding"),m.pstyle("padding-relative-to").value),f.autoWidth=Math.max(w.w,b.width.val),x.x=(-F+w.x1+w.x2+j)/2,f.autoHeight=Math.max(w.h,b.height.val),x.y=(-L+w.y1+w.y2+z)/2}function D(N,W,G){var H=0,q=0,$=W+G;return N>0&&$>0&&(H=W/$*N,q=G/$*N),{biasDiff:H,biasComplementDiff:q}}}for(var c=0;c<this.length;c++){var u=this[c],h=u._private;(!h.compoundBoundsClean||l)&&(s(u),a.batching()||(h.compoundBoundsClean=!0))}return this};var xa=function(a){return a===1/0||a===-1/0?0:a},la=function(a,s,c,u,h){u-s==0||h-c==0||null==s||null==c||null==u||null==h||(a.x1=s<a.x1?s:a.x1,a.x2=u>a.x2?u:a.x2,a.y1=c<a.y1?c:a.y1,a.y2=h>a.y2?h:a.y2,a.w=a.x2-a.x1,a.h=a.y2-a.y1)},wn=function(a,s){return null==s?a:la(a,s.x1,s.y1,s.x2,s.y2)},Wr=function(a,s,c){return pa(a,s,c)},Ec=function(a,s,c){if(!s.cy().headless()){var v,_,u=s._private,h=u.rstyle,m=h.arrowWidth/2;if("none"!==s.pstyle(c+"-arrow-shape").value){"source"===c?(v=h.srcX,_=h.srcY):"target"===c?(v=h.tgtX,_=h.tgtY):(v=h.midX,_=h.midY);var b=u.arrowBounds=u.arrowBounds||{},w=b[c]=b[c]||{};w.x1=v-m,w.y1=_-m,w.x2=v+m,w.y2=_+m,w.w=w.x2-w.x1,w.h=w.y2-w.y1,it(w,1),la(a,w.x1,w.y1,w.x2,w.y2)}}},Lo=function(a,s,c){if(!s.cy().headless()){var u,h=s._private,m=h.rstyle;if(s.pstyle((u=c?c+"-":"")+"label").strValue){var G,H,q,$,v=s.pstyle("text-halign"),_=s.pstyle("text-valign"),b=Wr(m,"labelWidth",c),w=Wr(m,"labelHeight",c),x=Wr(m,"labelX",c),D=Wr(m,"labelY",c),k=s.pstyle(u+"text-margin-x").pfValue,M=s.pstyle(u+"text-margin-y").pfValue,S=s.isEdge(),T=s.pstyle(u+"text-rotation"),R=s.pstyle("text-outline-width").pfValue,F=s.pstyle("text-border-width").pfValue/2,j=s.pstyle("text-background-padding").pfValue,L=w,z=b,N=z/2,W=L/2;if(S)G=x-N,H=x+N,q=D-W,$=D+W;else{switch(v.value){case"left":G=x-z,H=x;break;case"center":G=x-N,H=x+N;break;case"right":G=x,H=x+z}switch(_.value){case"top":q=D-L,$=D;break;case"center":q=D-W,$=D+W;break;case"bottom":q=D,$=D+L}}G+=k-Math.max(R,F)-j-2,H+=k+Math.max(R,F)+j+2,q+=M-Math.max(R,F)-j-2,$+=M+Math.max(R,F)+j+2;var ee=c||"main",K=h.labelBounds,Q=K[ee]=K[ee]||{};Q.x1=G,Q.y1=q,Q.x2=H,Q.y2=$,Q.w=H-G,Q.h=$-q;var ne=S&&"autorotate"===T.strValue;if(ne||null!=T.pfValue&&0!==T.pfValue){var pe=ne?Wr(h.rstyle,"labelAngle",c):T.pfValue,le=Math.cos(pe),se=Math.sin(pe),Me=(G+H)/2,Se=(q+$)/2;if(!S){switch(v.value){case"left":Me=H;break;case"right":Me=G}switch(_.value){case"top":Se=$;break;case"bottom":Se=q}}var xe=function(Zt,Xe){return{x:(Zt-=Me)*le-(Xe-=Se)*se+Me,y:Zt*se+Xe*le+Se}},ye=xe(G,q),te=xe(G,$),Ee=xe(H,q),Ie=xe(H,$);G=Math.min(ye.x,te.x,Ee.x,Ie.x),H=Math.max(ye.x,te.x,Ee.x,Ie.x),q=Math.min(ye.y,te.y,Ee.y,Ie.y),$=Math.max(ye.y,te.y,Ee.y,Ie.y)}var Be=ee+"Rot",Ke=K[Be]=K[Be]||{};Ke.x1=G,Ke.y1=q,Ke.x2=H,Ke.y2=$,Ke.w=H-G,Ke.h=$-q,la(a,G,q,H,$),la(h.labelBounds.all,G,q,H,$)}return a}},jf=function(a){var s=0,c=function(m){return(m?1:0)<<s++},u=0;return u+=c(a.incudeNodes),u+=c(a.includeEdges),u+=c(a.includeLabels),u+=c(a.includeMainLabels),u+=c(a.includeSourceLabels),(u+=c(a.includeTargetLabels))+c(a.includeOverlays)},rm=function(a){if(a.isEdge()){var s=a.source().position(),c=a.target().position(),u=function(m){return Math.round(m)};return function(a,s){var c={value:0,done:!1},u=0,h=a.length;return Ah({next:function(){return u<h?c.value=a[u++]:c.done=!0,c}},void 0)}([u(s.x),u(s.y),u(c.x),u(c.y)])}return 0},Uf=function(a,s){var u,c=a._private,h=a.isEdge(),f=(null==s?Fd:jf(s))===Fd,v=rm(a),_=c.bbCachePosKey===v,b=s.useCache&&_,w=function(M){return null==M._private.bbCache||M._private.styleDirty};if(!b||w(a)||h&&w(a.source())||w(a.target())?(_||a.recalculateRenderedStyle(b),u=function(a,s){var b,w,x,D,k,M,c=a._private.cy,u=c.styleEnabled(),h=c.headless(),m=zr(),f=a._private,v=a.isNode(),_=a.isEdge(),S=f.rstyle,T=v&&u?a.pstyle("bounds-expansion").pfValue:[0],R=function(Tt){return"none"!==Tt.pstyle("display").value},O=!u||R(a)&&(!_||R(a.source())&&R(a.target()));if(O){var j=0;u&&s.includeOverlays&&0!==a.pstyle("overlay-opacity").value&&(j=a.pstyle("overlay-padding").value);var L=0;u&&s.includeUnderlays&&0!==a.pstyle("underlay-opacity").value&&(L=a.pstyle("underlay-padding").value);var z=Math.max(j,L),W=0;if(u&&(W=a.pstyle("width").pfValue/2),v&&s.includeNodes){var G=a.position();k=G.x,M=G.y;var q=a.outerWidth()/2,ee=a.outerHeight()/2;la(m,b=k-q,x=M-ee,w=k+q,D=M+ee)}else if(_&&s.includeEdges)if(u&&!h){var K=a.pstyle("curve-style").strValue;if(b=Math.min(S.srcX,S.midX,S.tgtX),w=Math.max(S.srcX,S.midX,S.tgtX),x=Math.min(S.srcY,S.midY,S.tgtY),D=Math.max(S.srcY,S.midY,S.tgtY),la(m,b-=W,x-=W,w+=W,D+=W),"haystack"===K){var Q=S.haystackPts;if(Q&&2===Q.length){if((b=Q[0].x)>(w=Q[1].x)){var ne=b;b=w,w=ne}if((x=Q[0].y)>(D=Q[1].y)){var ce=x;x=D,D=ce}la(m,b-W,x-W,w+W,D+W)}}else if("bezier"===K||"unbundled-bezier"===K||"segments"===K||"taxi"===K){var pe;switch(K){case"bezier":case"unbundled-bezier":pe=S.bezierPts;break;case"segments":case"taxi":pe=S.linePts}if(null!=pe)for(var le=0;le<pe.length;le++){var se=pe[le];la(m,b=se.x-W,x=se.y-W,w=se.x+W,D=se.y+W)}}}else{var Se=a.source().position(),ye=a.target().position();if((b=Se.x)>(w=ye.x)){var te=b;b=w,w=te}if((x=Se.y)>(D=ye.y)){var Ee=x;x=D,D=Ee}la(m,b-=W,x-=W,w+=W,D+=W)}if(u&&s.includeEdges&&_&&(Ec(m,a,"mid-source"),Ec(m,a,"mid-target"),Ec(m,a,"source"),Ec(m,a,"target")),u&&"yes"===a.pstyle("ghost").value){var Be=a.pstyle("ghost-offset-x").pfValue,Ke=a.pstyle("ghost-offset-y").pfValue;la(m,m.x1+Be,m.y1+Ke,m.x2+Be,m.y2+Ke)}var jt=f.bodyBounds=f.bodyBounds||{};Fb(jt,m),ll(jt,T),it(jt,1),u&&la(m,(b=m.x1)-z,(x=m.y1)-z,(w=m.x2)+z,(D=m.y2)+z);var Zt=f.overlayBounds=f.overlayBounds||{};Fb(Zt,m),ll(Zt,T),it(Zt,1);var Xe=f.labelBounds=f.labelBounds||{};null!=Xe.all?function(a){a.x1=1/0,a.y1=1/0,a.x2=-1/0,a.y2=-1/0,a.w=0,a.h=0}(Xe.all):Xe.all=zr(),u&&s.includeLabels&&(s.includeMainLabels&&Lo(m,a,null),_&&(s.includeSourceLabels&&Lo(m,a,"source"),s.includeTargetLabels&&Lo(m,a,"target")))}return m.x1=xa(m.x1),m.y1=xa(m.y1),m.x2=xa(m.x2),m.y2=xa(m.y2),m.w=xa(m.x2-m.x1),m.h=xa(m.y2-m.y1),m.w>0&&m.h>0&&O&&(ll(m,T),it(m,1)),m}(a,Sc),c.bbCache=u,c.bbCachePosKey=v):u=c.bbCache,!f){var D=a.isNode();u=zr(),(s.includeNodes&&D||s.includeEdges&&!D)&&wn(u,s.includeOverlays?c.overlayBounds:c.bodyBounds),s.includeLabels&&(s.includeMainLabels&&(!h||s.includeSourceLabels&&s.includeTargetLabels)?wn(u,c.labelBounds.all):(s.includeMainLabels&&wn(u,c.labelBounds.mainRot),s.includeSourceLabels&&wn(u,c.labelBounds.sourceRot),s.includeTargetLabels&&wn(u,c.labelBounds.targetRot))),u.w=u.x2-u.x1,u.h=u.y2-u.y1}return u},Sc={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Fd=jf(Sc),Ld=Nn(Sc);Fo.boundingBox=function(l){var a;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==l&&void 0!==l.useCache&&!0!==l.useCache){a=zr();var s=Ld(l=l||Sc),c=this;if(c.cy().styleEnabled())for(var m=0;m<c.length;m++){var f=c[m],v=f._private,_=rm(f);f.recalculateRenderedStyle(s.useCache&&v.bbCachePosKey===_&&!v.styleDirty)}this.updateCompoundBounds(!l.useCache);for(var x=0;x<c.length;x++)wn(a,Uf(c[x],s))}else l=void 0===l?Sc:Ld(l),a=Uf(this[0],l);return a.x1=xa(a.x1),a.y1=xa(a.y1),a.x2=xa(a.x2),a.y2=xa(a.y2),a.w=xa(a.x2-a.x1),a.h=xa(a.y2-a.y1),a},Fo.dirtyBoundingBoxCache=function(){for(var l=0;l<this.length;l++){var a=this[l]._private;a.bbCache=null,a.bbCachePosKey=null,a.bodyBounds=null,a.overlayBounds=null,a.labelBounds.all=null,a.labelBounds.source=null,a.labelBounds.target=null,a.labelBounds.main=null,a.labelBounds.sourceRot=null,a.labelBounds.targetRot=null,a.labelBounds.mainRot=null,a.arrowBounds.source=null,a.arrowBounds.target=null,a.arrowBounds["mid-source"]=null,a.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Fo.boundingBoxAt=function(l){var a=this.nodes(),s=this.cy(),c=s.hasCompoundNodes(),u=s.collection();if(c&&(u=a.filter(function(_){return _.isParent()}),a=a.not(u)),vt(l)){var h=l;l=function(){return h}}s.startBatch(),a.forEach(function(b,w){return b._private.bbAtOldPos=l(b,w)}).silentPositions(l),c&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0));var v=function(a){return{x1:a.x1,x2:a.x2,w:a.w,y1:a.y1,y2:a.y2,h:a.h}}(this.boundingBox({useCache:!1}));return a.silentPositions(function(b){return b._private.bbAtOldPos}),c&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0)),s.endBatch(),v},Po.boundingbox=Po.bb=Po.boundingBox,Po.renderedBoundingbox=Po.renderedBoundingBox;var _s,Tc,$f=Fo;_s=Tc={};var am=function(a){a.uppercaseName=bb(a.name),a.autoName="auto"+a.uppercaseName,a.labelName="label"+a.uppercaseName,a.outerName="outer"+a.uppercaseName,a.uppercaseOuterName=bb(a.outerName),_s[a.name]=function(){var c=this[0],u=c._private;if(c){if(u.cy._private.styleEnabled){if(c.isParent())return c.updateCompoundBounds(),u[a.autoName]||0;var f=c.pstyle(a.name);return"label"===f.strValue?(c.recalculateRenderedStyle(),u.rstyle[a.labelName]||0):f.pfValue}return 1}},_s["outer"+a.uppercaseName]=function(){var c=this[0];if(c)return c._private.cy._private.styleEnabled?c[a.name]()+c.pstyle("border-width").pfValue+2*c.padding():1},_s["rendered"+a.uppercaseName]=function(){var c=this[0];if(c)return c[a.name]()*this.cy().zoom()},_s["rendered"+a.uppercaseOuterName]=function(){var c=this[0];if(c)return c[a.outerName]()*this.cy().zoom()}};am({name:"width"}),am({name:"height"}),Tc.padding=function(){var l=this[0],a=l._private;return l.isParent()?(l.updateCompoundBounds(),void 0!==a.autoPadding?a.autoPadding:l.pstyle("padding").pfValue):l.pstyle("padding").pfValue},Tc.paddedHeight=function(){var l=this[0];return l.height()+2*l.padding()},Tc.paddedWidth=function(){var l=this[0];return l.width()+2*l.padding()};var om=Tc,No={controlPoints:{get:function(a){return a.renderer().getControlPoints(a)},mult:!0},segmentPoints:{get:function(a){return a.renderer().getSegmentPoints(a)},mult:!0},sourceEndpoint:{get:function(a){return a.renderer().getSourceEndpoint(a)}},targetEndpoint:{get:function(a){return a.renderer().getTargetEndpoint(a)}},midpoint:{get:function(a){return a.renderer().getEdgeMidpoint(a)}}},wl=Object.keys(No).reduce(function(l,a){var s=No[a],c=function(a){return"rendered"+a[0].toUpperCase()+a.substr(1)}(a);return l[a]=function(){return function(a,s){if(a.isEdge())return s(a)}(this,s.get)},l[c]=s.mult?function(){return function(a,s){if(a.isEdge()){var c=a.cy(),u=c.pan(),h=c.zoom();return s(a).map(function(m){return Bh(m,h,u)})}}(this,s.get)}:function(){return function(a,s){if(a.isEdge()){var c=a.cy();return Bh(s(a),c.zoom(),c.pan())}}(this,s.get)},l},{}),ay=Bt({},nm,$f,om,wl),xl=function(a,s){this.recycle(a,s)};function Ic(){return!1}function Nd(){return!0}xl.prototype={instanceString:function(){return"event"},recycle:function(a,s){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ic,null!=a&&a.preventDefault?(this.type=a.type,this.isDefaultPrevented=a.defaultPrevented?Nd:Ic):null!=a&&a.type?s=a:this.type=a,null!=s&&(this.originalEvent=s.originalEvent,this.type=null!=s.type?s.type:this.type,this.cy=s.cy,this.target=s.target,this.position=s.position,this.renderedPosition=s.renderedPosition,this.namespace=s.namespace,this.layout=s.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var c=this.position,u=this.cy.zoom(),h=this.cy.pan();this.renderedPosition={x:c.x*u+h.x,y:c.y*u+h.y}}this.timeStamp=a&&a.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Nd;var a=this.originalEvent;!a||a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Nd;var a=this.originalEvent;!a||a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Nd,this.stopPropagation()},isDefaultPrevented:Ic,isPropagationStopped:Ic,isImmediatePropagationStopped:Ic};var Kf=/^([^.]+)(\.(?:[^.]+))?$/,Ac={qualifierCompare:function(a,s){return a===s},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(a){return a},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Rc=Object.keys(Ac),lm={};function Oc(){for(var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lm,a=arguments.length>1?arguments[1]:void 0,s=0;s<Rc.length;s++){var c=Rc[s];this[c]=l[c]||Ac[c]}this.context=a||this.context,this.listeners=[],this.emitting=0}var Bo=Oc.prototype,vs=function(a,s,c,u,h,m,f){Ai(u)&&(h=u,u=null),f&&(m=null==m?f:Bt({},m,f));for(var v=gi(c)?c:c.split(/\s+/),_=0;_<v.length;_++){var b=v[_];if(!ji(b)){var w=b.match(Kf);if(w&&!1===s(a,b,w[1],w[2]?w[2]:null,u,h,m))break}}},Cl=function(a,s){return a.addEventFields(a.context,s),new xl(s.type,s)};Bo.on=Bo.addListener=function(l,a,s,c,u){return vs(this,function(h,m,f,v,_,b,w){Ai(b)&&h.listeners.push({event:m,callback:b,type:f,namespace:v,qualifier:_,conf:w})},l,a,s,c,u),this},Bo.one=function(l,a,s,c){return this.on(l,a,s,c,{one:!0})},Bo.removeListener=Bo.off=function(l,a,s,c){var u=this;0!==this.emitting&&(this.listeners=function(a){return a.slice()}(this.listeners));for(var h=this.listeners,m=function(_){var b=h[_];vs(u,function(w,x,D,k,M,S){if((b.type===D||"*"===l)&&(!k&&".*"!==b.namespace||b.namespace===k)&&(!M||w.qualifierCompare(b.qualifier,M))&&(!S||b.callback===S))return h.splice(_,1),!1},l,a,s,c)},f=h.length-1;f>=0;f--)m(f);return this},Bo.removeAllListeners=function(){return this.removeListener("*")},Bo.emit=Bo.trigger=function(l,a,s){var c=this.listeners,u=c.length;return this.emitting++,gi(a)||(a=[a]),function(a,s,c){if(function(a){return"event"===cn(a)}(c))s(a,c);else if(vt(c))s(a,Cl(a,c));else for(var u=gi(c)?c:c.split(/\s+/),h=0;h<u.length;h++){var m=u[h];if(!ji(m)){var f=m.match(Kf);f&&s(a,Cl(a,{type:f[1],namespace:f[2]?f[2]:null,target:a.context}))}}}(this,function(h,m){null!=s&&(u=(c=[{event:m.event,type:m.type,namespace:m.namespace,callback:s}]).length);for(var f=function(b){var w=c[b];if(w.type===m.type&&(!w.namespace||w.namespace===m.namespace||".*"===w.namespace)&&h.eventMatches(h.context,w,m)){var x=[m];null!=a&&function(a,s){for(var c=0;c<s.length;c++)a.push(s[c])}(x,a),h.beforeEmit(h.context,w,m),w.conf&&w.conf.one&&(h.listeners=h.listeners.filter(function(M){return M!==w}));var D=h.callbackContext(h.context,w,m),k=w.callback.apply(D,x);h.afterEmit(h.context,w,m),!1===k&&(m.stopPropagation(),m.preventDefault())}},v=0;v<u;v++)f(v);h.bubble(h.context)&&!m.isPropagationStopped()&&h.parent(h.context).emit(m,a)},l),this.emitting--,this};var mD={qualifierCompare:function(a,s){return null==a||null==s?null==a&&null==s:a.sameText(s)},eventMatches:function(a,s,c){var u=s.qualifier;return null==u||a!==c.target&&il(c.target)&&u.matches(c.target)},addEventFields:function(a,s){s.cy=a.cy(),s.target=a},callbackContext:function(a,s,c){return null!=s.qualifier?c.target:a},beforeEmit:function(a,s){s.conf&&s.conf.once&&s.conf.onceCollection.removeListener(s.event,s.qualifier,s.callback)},bubble:function(){return!0},parent:function(a){return a.isChild()?a.parent():a.cy()}},Dl=function(a){return We(a)?new so(a):a},sy={createEmitter:function(){for(var a=0;a<this.length;a++){var s=this[a],c=s._private;c.emitter||(c.emitter=new Oc(mD,s))}return this},emitter:function(){return this._private.emitter},on:function(a,s,c){for(var u=Dl(s),h=0;h<this.length;h++)this[h].emitter().on(a,u,c);return this},removeListener:function(a,s,c){for(var u=Dl(s),h=0;h<this.length;h++)this[h].emitter().removeListener(a,u,c);return this},removeAllListeners:function(){for(var a=0;a<this.length;a++)this[a].emitter().removeAllListeners();return this},one:function(a,s,c){for(var u=Dl(s),h=0;h<this.length;h++)this[h].emitter().one(a,u,c);return this},once:function(a,s,c){for(var u=Dl(s),h=0;h<this.length;h++)this[h].emitter().on(a,u,c,{once:!0,onceCollection:this})},emit:function(a,s){for(var c=0;c<this.length;c++)this[c].emitter().emit(a,s);return this},emitAndNotify:function(a,s){if(0!==this.length)return this.cy().notify(a,this),this.emit(a,s),this}};Ni.eventAliasesOn(sy);var Xf={nodes:function(a){return this.filter(function(s){return s.isNode()}).filter(a)},edges:function(a){return this.filter(function(s){return s.isEdge()}).filter(a)},byGroup:function(){for(var a=this.spawn(),s=this.spawn(),c=0;c<this.length;c++){var u=this[c];u.isNode()?a.push(u):s.push(u)}return{nodes:a,edges:s}},filter:function(a,s){if(void 0===a)return this;if(We(a)||Ce(a))return new so(a).filter(this);if(Ai(a)){for(var c=this.spawn(),u=this,h=0;h<u.length;h++){var m=u[h];(s?a.apply(s,[m,h,u]):a(m,h,u))&&c.push(m)}return c}return this.spawn()},not:function(a){if(a){We(a)&&(a=this.filter(a));for(var s=this.spawn(),c=0;c<this.length;c++){var u=this[c];a.has(u)||s.push(u)}return s}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(a){if(We(a))return this.filter(a);for(var c=this.spawn(),m=this.length<a.length,f=m?this:a,v=m?a:this,_=0;_<f.length;_++){var b=f[_];v.has(b)&&c.push(b)}return c},xor:function(a){var s=this._private.cy;We(a)&&(a=s.$(a));var c=this.spawn(),h=a,m=function(v,_){for(var b=0;b<v.length;b++){var w=v[b];_.hasElementWithId(w._private.data.id)||c.push(w)}};return m(this,h),m(h,this),c},diff:function(a){var s=this._private.cy;We(a)&&(a=s.$(a));var c=this.spawn(),u=this.spawn(),h=this.spawn(),f=a,v=function(b,w,x){for(var D=0;D<b.length;D++){var k=b[D];w.hasElementWithId(k._private.data.id)?h.merge(k):x.push(k)}};return v(this,f,c),v(f,this,u),{left:c,right:u,both:h}},add:function(a){var s=this._private.cy;if(!a)return this;if(We(a)){var c=a;a=s.mutableElements().filter(c)}for(var u=this.spawnSelf(),h=0;h<a.length;h++){var m=a[h];!this.has(m)&&u.push(m)}return u},merge:function(a){var s=this._private,c=s.cy;if(!a)return this;if(a&&We(a)){var u=a;a=c.mutableElements().filter(u)}for(var h=s.map,m=0;m<a.length;m++){var f=a[m],v=f._private.data.id;if(!h.has(v)){var b=this.length++;this[b]=f,h.set(v,{ele:f,index:b})}}return this},unmergeAt:function(a){var c=this[a].id(),h=this._private.map;if(this[a]=void 0,h.delete(c),this.length>1&&a!==this.length-1){var f=this.length-1,v=this[f],_=v._private.data.id;this[f]=void 0,this[a]=v,h.set(_,{ele:v,index:a})}return this.length--,this},unmergeOne:function(a){var h=this._private.map.get((a=a[0])._private.data.id);return h?(this.unmergeAt(h.index),this):this},unmerge:function(a){var s=this._private.cy;if(!a)return this;if(a&&We(a)){var c=a;a=s.mutableElements().filter(c)}for(var u=0;u<a.length;u++)this.unmergeOne(a[u]);return this},unmergeBy:function(a){for(var s=this.length-1;s>=0;s--)a(this[s])&&this.unmergeAt(s);return this},map:function(a,s){for(var c=[],u=this,h=0;h<u.length;h++){var m=u[h],f=s?a.apply(s,[m,h,u]):a(m,h,u);c.push(f)}return c},reduce:function(a,s){for(var c=s,u=this,h=0;h<u.length;h++)c=a(c,u[h],h,u);return c},max:function(a,s){for(var u,c=-1/0,h=this,m=0;m<h.length;m++){var f=h[m],v=s?a.apply(s,[f,m,h]):a(f,m,h);v>c&&(c=v,u=f)}return{value:c,ele:u}},min:function(a,s){for(var u,c=1/0,h=this,m=0;m<h.length;m++){var f=h[m],v=s?a.apply(s,[f,m,h]):a(f,m,h);v<c&&(c=v,u=f)}return{value:c,ele:u}}},Mi=Xf;Mi.u=Mi["|"]=Mi["+"]=Mi.union=Mi.or=Mi.add,Mi["\\"]=Mi["!"]=Mi["-"]=Mi.difference=Mi.relativeComplement=Mi.subtract=Mi.not,Mi.n=Mi["&"]=Mi["."]=Mi.and=Mi.intersection=Mi.intersect,Mi["^"]=Mi["(+)"]=Mi["(-)"]=Mi.symmetricDifference=Mi.symdiff=Mi.xor,Mi.fnFilter=Mi.filterFn=Mi.stdFilter=Mi.filter,Mi.complement=Mi.abscomp=Mi.absoluteComplement;var a,ly=function(a,s){var u=a.cy().hasCompoundNodes();function h(b){var w=b.pstyle("z-compound-depth");return"auto"===w.value?u?b.zDepth():0:"bottom"===w.value?-1:"top"===w.value?Rh:0}var m=h(a)-h(s);if(0!==m)return m;function f(b){return"auto"===b.pstyle("z-index-compare").value&&b.isNode()?1:0}var v=f(a)-f(s);if(0!==v)return v;var _=a.pstyle("z-index").value-s.pstyle("z-index").value;return 0!==_?_:a.poolIndex()-s.poolIndex()},kl={forEach:function(a,s){if(Ai(a))for(var c=this.length,u=0;u<c;u++){var h=this[u];if(!1===(s?a.apply(s,[h,u,this]):a(h,u,this)))break}return this},toArray:function(){for(var a=[],s=0;s<this.length;s++)a.push(this[s]);return a},slice:function(a,s){var c=[],u=this.length;null==s&&(s=u),null==a&&(a=0),a<0&&(a=u+a),s<0&&(s=u+s);for(var h=a;h>=0&&h<s&&h<u;h++)c.push(this[h]);return this.spawn(c)},size:function(){return this.length},eq:function(a){return this[a]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(a){if(!Ai(a))return this;var s=this.toArray().sort(a);return this.spawn(s)},sortByZIndex:function(){return this.sort(ly)},zDepth:function(){var a=this[0];if(a){var s=a._private;if("nodes"===s.group){var u=s.data.parent?a.parents().size():0;return a.isParent()?u:Rh-1}var m=s.target,f=s.source.zDepth(),v=m.zDepth();return Math.max(f,v,0)}}};kl.each=kl.forEach,a="undefined",(typeof Symbol>"u"?"undefined":ni(Symbol))!=a&&ni(Symbol.iterator)!=a&&(kl[Symbol.iterator]=function(){var c=this,u={value:void 0,done:!1},h=0,m=this.length;return ln({next:function(){return h<m?u.value=c[h++]:(u.value=void 0,u.done=!0),u}},Symbol.iterator,function(){return this})});var Zf=Nn({nodeDimensionsIncludeLabels:!1}),Vo={layoutDimensions:function(a){var s;if(a=Zf(a),this.takesUpSpace())if(a.nodeDimensionsIncludeLabels){var c=this.boundingBox();s={w:c.w,h:c.h}}else s={w:this.outerWidth(),h:this.outerHeight()};else s={w:0,h:0};return(0===s.w||0===s.h)&&(s.w=s.h=1),s},layoutPositions:function(a,s,c){var u=this.nodes().filter(function(j){return!j.isParent()}),h=this.cy(),m=s.eles,f=function(U){return U.id()},v=xd(c,f);a.emit({type:"layoutstart",layout:a}),a.animations=[];var b=s.spacingFactor&&1!==s.spacingFactor,x=function(){if(!b)return null;for(var U=zr(),L=0;L<u.length;L++){var N=v(u[L],L);oD(U,N.x,N.y)}return U}(),D=xd(function(j,U){var L=v(j,U);return b&&(L=function(U,L,z){var N_x=L.x1+L.w/2,N_y=L.y1+L.h/2;return{x:N_x+(z.x-N_x)*U,y:N_y+(z.y-N_y)*U}}(Math.abs(s.spacingFactor),x,L)),null!=s.transform&&(L=s.transform(j,L)),L},f);if(s.animate){for(var k=0;k<u.length;k++){var M=u[k],S=D(M,k);if(null==s.animateFilter||s.animateFilter(M,k)){var R=M.animation({position:S,duration:s.animationDuration,easing:s.animationEasing});a.animations.push(R)}else M.position(S)}if(s.fit){var O=h.animation({fit:{boundingBox:m.boundingBoxAt(D),padding:s.padding},duration:s.animationDuration,easing:s.animationEasing});a.animations.push(O)}else if(void 0!==s.zoom&&void 0!==s.pan){var F=h.animation({zoom:s.zoom,pan:s.pan,duration:s.animationDuration,easing:s.animationEasing});a.animations.push(F)}a.animations.forEach(function(j){return j.play()}),a.one("layoutready",s.ready),a.emit({type:"layoutready",layout:a}),Cc.all(a.animations.map(function(j){return j.promise()})).then(function(){a.one("layoutstop",s.stop),a.emit({type:"layoutstop",layout:a})})}else u.positions(D),s.fit&&h.fit(s.eles,s.padding),null!=s.zoom&&h.zoom(s.zoom),s.pan&&h.pan(s.pan),a.one("layoutready",s.ready),a.emit({type:"layoutready",layout:a}),a.one("layoutstop",s.stop),a.emit({type:"layoutstop",layout:a});return this},layout:function(a){return this.cy().makeLayout(Bt({},a,{eles:this}))}};function cm(l,a,s){var h,c=s._private,u=c.styleCache=c.styleCache||[];return null!=(h=u[l])||(h=u[l]=a(s)),h}function Pc(l,a){return l=cs(l),function(c){return cm(l,a,c)}}function bs(l,a){l=cs(l);var s=function(u){return a.call(u)};return function(){var u=this[0];if(u)return cm(l,s,u)}}Vo.createLayout=Vo.makeLayout=Vo.layout;var Zn={recalculateRenderedStyle:function(a){var s=this.cy(),c=s.renderer(),u=s.styleEnabled();return c&&u&&c.recalculateRenderedStyle(this,a),this},dirtyStyleCache:function(){var c,a=this.cy(),s=function(h){return h._private.styleCache=null};return a.hasCompoundNodes()?((c=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(c.connectedEdges()),c.forEach(s)):this.forEach(function(u){s(u),u.connectedEdges().forEach(s)}),this},updateStyle:function(a){var s=this._private.cy;if(!s.styleEnabled())return this;if(s.batching())return s._private.batchStyleEles.merge(this),this;var h=this;a=!(!a&&void 0!==a),s.hasCompoundNodes()&&(h=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var m=h;return a?m.emitAndNotify("style"):m.emit("style"),h.forEach(function(f){return f._private.styleDirty=!0}),this},cleanStyle:function(){var a=this.cy();if(a.styleEnabled())for(var s=0;s<this.length;s++){var c=this[s];c._private.styleDirty&&(c._private.styleDirty=!1,a.style().apply(c))}},parsedStyle:function(a){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this[0],u=c.cy();if(u.styleEnabled()&&c){this.cleanStyle();var h=c._private.style[a];return h??(s?u.style().getDefaultProperty(a):null)}},numericStyle:function(a){var s=this[0];if(s.cy().styleEnabled()&&s){var c=s.pstyle(a);return void 0!==c.pfValue?c.pfValue:c.value}},numericStyleUnits:function(a){var s=this[0];if(s.cy().styleEnabled()&&s)return s.pstyle(a).units},renderedStyle:function(a){var s=this.cy();if(!s.styleEnabled())return this;var c=this[0];return c?s.style().getRenderedStyle(c,a):void 0},style:function(a,s){var c=this.cy();if(!c.styleEnabled())return this;var h=c.style();if(vt(a))h.applyBypass(this,a,!1),this.emitAndNotify("style");else if(We(a)){if(void 0===s){var f=this[0];return f?h.getStylePropertyValue(f,a):void 0}h.applyBypass(this,a,s,!1),this.emitAndNotify("style")}else if(void 0===a){var v=this[0];return v?h.getRawStyle(v):void 0}return this},removeStyle:function(a){var s=this.cy();if(!s.styleEnabled())return this;var u=s.style(),h=this;if(void 0===a)for(var m=0;m<h.length;m++)u.removeAllBypasses(h[m],!1);else{a=a.split(/\s+/);for(var v=0;v<h.length;v++)u.removeBypasses(h[v],a,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var a=this.cy();if(!a.styleEnabled())return 1;var s=a.hasCompoundNodes(),c=this[0];if(c){var u=c._private,h=c.pstyle("opacity").value;if(!s)return h;var m=u.data.parent?c.parents():null;if(m)for(var f=0;f<m.length;f++)h*=m[f].pstyle("opacity").value;return h}},transparent:function(){if(!this.cy().styleEnabled())return!1;var s=this[0],c=s.cy().hasCompoundNodes();return s?c?0===s.effectiveOpacity():0===s.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Ml(l,a){var c=l._private.data.parent?l.parents():null;if(c)for(var u=0;u<c.length;u++)if(!a(c[u]))return!1;return!0}function Fc(l){var a=l.ok,s=l.edgeOkViaNode||l.ok,c=l.parentOk||l.ok;return function(){var u=this.cy();if(!u.styleEnabled())return!0;var h=this[0],m=u.hasCompoundNodes();if(h){var f=h._private;if(!a(h))return!1;if(h.isNode())return!m||Ml(h,c);var v=f.source,_=f.target;return s(v)&&(!m||Ml(v,s))&&(v===_||s(_)&&(!m||Ml(_,s)))}}}var co=Pc("eleTakesUpSpace",function(l){return"element"===l.pstyle("display").value&&0!==l.width()&&(!l.isNode()||0!==l.height())});Zn.takesUpSpace=bs("takesUpSpace",Fc({ok:co}));var fD=Pc("eleInteractive",function(l){return"yes"===l.pstyle("events").value&&"visible"===l.pstyle("visibility").value&&co(l)}),Jf=Pc("parentInteractive",function(l){return"visible"===l.pstyle("visibility").value&&co(l)});Zn.interactive=bs("interactive",Fc({ok:fD,parentOk:Jf,edgeOkViaNode:co})),Zn.noninteractive=function(){var l=this[0];if(l)return!l.interactive()};var eg=Pc("eleVisible",function(l){return"visible"===l.pstyle("visibility").value&&0!==l.pstyle("opacity").pfValue&&co(l)});Zn.visible=bs("visible",Fc({ok:eg,edgeOkViaNode:co})),Zn.hidden=function(){var l=this[0];if(l)return!l.visible()},Zn.isBundledBezier=bs("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Zn.bypass=Zn.css=Zn.style,Zn.renderedCss=Zn.renderedStyle,Zn.removeBypass=Zn.removeCss=Zn.removeStyle,Zn.pstyle=Zn.parsedStyle;var Jn={};function tg(l){return function(){var a=arguments,s=[];if(2===a.length){var c=a[0],u=a[1];this.on(l.event,c,u)}else if(1===a.length&&Ai(a[0])){var h=a[0];this.on(l.event,h)}else if(0===a.length||1===a.length&&gi(a[0])){for(var m=1===a.length?a[0]:null,f=0;f<this.length;f++){var v=this[f],_=!l.ableField||v._private[l.ableField],b=v._private[l.field]!=l.value;if(l.overrideAble){var w=l.overrideAble(v);if(void 0!==w&&(_=w,!w))return this}_&&(v._private[l.field]=l.value,b&&s.push(v))}var x=this.spawn(s);x.updateStyle(),x.emit(l.event),m&&x.emit(m)}return this}}function uo(l){Jn[l.field]=function(){var a=this[0];if(a){if(l.overrideField){var s=l.overrideField(a);if(void 0!==s)return s}return a._private[l.field]}},Jn[l.on]=tg({event:l.on,field:l.field,ableField:l.ableField,overrideAble:l.overrideAble,value:!0}),Jn[l.off]=tg({event:l.off,field:l.field,ableField:l.ableField,overrideAble:l.overrideAble,value:!1})}uo({field:"locked",overrideField:function(a){return!!a.cy().autolock()||void 0},on:"lock",off:"unlock"}),uo({field:"grabbable",overrideField:function(a){return!a.cy().autoungrabify()&&!a.pannable()&&void 0},on:"grabify",off:"ungrabify"}),uo({field:"selected",ableField:"selectable",overrideAble:function(a){return!a.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),uo({field:"selectable",overrideField:function(a){return!a.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Jn.deselect=Jn.unselect,Jn.grabbed=function(){var l=this[0];if(l)return l._private.grabbed},uo({field:"active",on:"activate",off:"unactivate"}),uo({field:"pannable",on:"panify",off:"unpanify"}),Jn.inactive=function(){var l=this[0];if(l)return!l._private.active};var Hn={},dm=function(a){return function(c){for(var h=[],m=0;m<this.length;m++){var f=this[m];if(f.isNode()){for(var v=!1,_=f.connectedEdges(),b=0;b<_.length;b++){var w=_[b],x=w.source(),D=w.target();if(a.noIncomingEdges&&D===f&&x!==f||a.noOutgoingEdges&&x===f&&D!==f){v=!0;break}}v||h.push(f)}}return this.spawn(h,!0).filter(c)}},Vd=function(a){return function(s){for(var u=[],h=0;h<this.length;h++){var m=this[h];if(m.isNode())for(var f=m.connectedEdges(),v=0;v<f.length;v++){var _=f[v],b=_.source(),w=_.target();a.outgoing&&b===m?(u.push(_),u.push(w)):a.incoming&&w===m&&(u.push(_),u.push(b))}}return this.spawn(u,!0).filter(s)}},Hd=function(a){return function(s){for(var c=this,u=[],h={};;){var m=a.outgoing?c.outgoers():c.incomers();if(0===m.length)break;for(var f=!1,v=0;v<m.length;v++){var _=m[v],b=_.id();h[b]||(h[b]=!0,u.push(_),f=!0)}if(!f)break;c=m}return this.spawn(u,!0).filter(s)}};function ig(l){return function(s){for(var c=[],u=0;u<this.length;u++){var m=this[u]._private[l.attr];m&&c.push(m)}return this.spawn(c,!0).filter(s)}}function um(l){return function(s){var c=[],u=this._private.cy,h=l||{};We(s)&&(s=u.$(s));for(var m=0;m<s.length;m++)for(var f=s[m]._private.edges,v=0;v<f.length;v++){var _=f[v],b=_._private.data,w=this.hasElementWithId(b.source)&&s.hasElementWithId(b.target),x=s.hasElementWithId(b.source)&&this.hasElementWithId(b.target);!w&&!x||(h.thisIsSrc||h.thisIsTgt)&&(h.thisIsSrc&&!w||h.thisIsTgt&&!x)||c.push(_)}return this.spawn(c,!0)}}function hm(l){return l=Bt({},{codirected:!1},l),function(c){for(var u=[],h=this.edges(),m=l,f=0;f<h.length;f++)for(var _=h[f]._private,b=_.source,w=b._private.data.id,x=_.data.target,D=b._private.edges,k=0;k<D.length;k++){var M=D[k],S=M._private.data,T=S.target,R=S.source,O=T===x&&R===w;(m.codirected&&O||!m.codirected&&(O||w===T&&x===R))&&u.push(M)}return this.spawn(u,!0).filter(c)}}Hn.clearTraversalCache=function(){for(var l=0;l<this.length;l++)this[l]._private.traversalCache=null},Bt(Hn,{roots:dm({noIncomingEdges:!0}),leaves:dm({noOutgoingEdges:!0}),outgoers:Gr(Vd({outgoing:!0}),"outgoers"),successors:Hd({outgoing:!0}),incomers:Gr(Vd({incoming:!0}),"incomers"),predecessors:Hd({incoming:!0})}),Bt(Hn,{neighborhood:Gr(function(l){for(var a=[],s=this.nodes(),c=0;c<s.length;c++)for(var u=s[c],h=u.connectedEdges(),m=0;m<h.length;m++){var f=h[m],v=f.source(),_=f.target(),b=u===v?_:v;b.length>0&&a.push(b[0]),a.push(f[0])}return this.spawn(a,!0).filter(l)},"neighborhood"),closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},openNeighborhood:function(a){return this.neighborhood(a)}}),Hn.neighbourhood=Hn.neighborhood,Hn.closedNeighbourhood=Hn.closedNeighborhood,Hn.openNeighbourhood=Hn.openNeighborhood,Bt(Hn,{source:Gr(function(a){var c,s=this[0];return s&&(c=s._private.source||s.cy().collection()),c&&a?c.filter(a):c},"source"),target:Gr(function(a){var c,s=this[0];return s&&(c=s._private.target||s.cy().collection()),c&&a?c.filter(a):c},"target"),sources:ig({attr:"source"}),targets:ig({attr:"target"})}),Bt(Hn,{edgesWith:Gr(um(),"edgesWith"),edgesTo:Gr(um({thisIsSrc:!0}),"edgesTo")}),Bt(Hn,{connectedEdges:Gr(function(l){for(var a=[],c=0;c<this.length;c++){var u=this[c];if(u.isNode())for(var h=u._private.edges,m=0;m<h.length;m++)a.push(h[m])}return this.spawn(a,!0).filter(l)},"connectedEdges"),connectedNodes:Gr(function(l){for(var a=[],c=0;c<this.length;c++){var u=this[c];!u.isEdge()||(a.push(u.source()[0]),a.push(u.target()[0]))}return this.spawn(a,!0).filter(l)},"connectedNodes"),parallelEdges:Gr(hm(),"parallelEdges"),codirectedEdges:Gr(hm({codirected:!0}),"codirectedEdges")}),Bt(Hn,{components:function(a){var s=this,c=s.cy(),u=c.collection(),h=null==a?s.nodes():a.nodes(),m=[];null!=a&&h.empty()&&(h=a.sources());var f=function(b,w){u.merge(b),h.unmerge(b),w.merge(b)};if(h.empty())return s.spawn();var v=function(){var b=c.collection();m.push(b);var w=h[0];f(w,b),s.bfs({directed:!1,roots:w,visit:function(D){return f(D,b)}}),b.forEach(function(x){x.connectedEdges().forEach(function(D){s.has(D)&&b.has(D.source())&&b.has(D.target())&&b.merge(D)})})};do{v()}while(h.length>0);return m},component:function(){var a=this[0];return a.cy().mutableElements().components(a)[0]}}),Hn.componentsOf=Hn.components;var zn=function(a,s){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==a){var h=new La,m=!1;if(s){if(s.length>0&&vt(s[0])&&!il(s[0])){m=!0;for(var f=[],v=new hs,_=0,b=s.length;_<b;_++){var w=s[_];null==w.data&&(w.data={});var x=w.data;if(null==x.id)x.id=al();else if(a.hasElementWithId(x.id)||v.has(x.id))continue;var D=new ol(a,w,!1);f.push(D),v.add(x.id)}s=f}}else s=[];this.length=0;for(var k=0,M=s.length;k<M;k++){var S=s[k][0];if(null!=S){var T=S._private.data.id;(!c||!h.has(T))&&(c&&h.set(T,{index:this.length,ele:S}),this[this.length]=S,this.length++)}}this._private={eles:this,cy:a,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(R){this.lazyMap=R},rebuildMap:function(){for(var O=this.lazyMap=new La,F=this.eles,j=0;j<F.length;j++){var U=F[j];O.set(U.id(),{index:j,ele:U})}}},c&&(this._private.map=h),m&&!u&&this.restore()}else Yi("A collection must have a reference to the core")},Wi=ol.prototype=zn.prototype=Object.create(Array.prototype);Wi.instanceString=function(){return"collection"},Wi.spawn=function(l,a){return new zn(this.cy(),l,a)},Wi.spawnSelf=function(){return this.spawn(this)},Wi.cy=function(){return this._private.cy},Wi.renderer=function(){return this._private.cy.renderer()},Wi.element=function(){return this[0]},Wi.collection=function(){return Mh(this)?this:new zn(this._private.cy,[this])},Wi.unique=function(){return new zn(this._private.cy,this,!0)},Wi.hasElementWithId=function(l){return this._private.map.has(l=""+l)},Wi.getElementById=function(l){var a=this._private.cy,s=this._private.map.get(l=""+l);return s?s.ele:new zn(a)},Wi.$id=Wi.getElementById,Wi.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Wi.indexOf=function(l){return this._private.map.get(l[0]._private.data.id).index},Wi.indexOfId=function(l){return this._private.map.get(l=""+l).index},Wi.json=function(l){var a=this.element(),s=this.cy();if(null==a&&l)return this;if(null!=a){var c=a._private;if(vt(l)){if(s.startBatch(),l.data){a.data(l.data);var u=c.data;if(a.isEdge()){var h=!1,m={},f=l.data.source,v=l.data.target;null!=f&&f!=u.source&&(m.source=""+f,h=!0),null!=v&&v!=u.target&&(m.target=""+v,h=!0),h&&(a=a.move(m))}else{var b=l.data.parent;"parent"in l.data&&(null!=b||null!=u.parent)&&b!=u.parent&&(void 0===b&&(b=null),null!=b&&(b=""+b),a=a.move({parent:b}))}}l.position&&a.position(l.position);var w=function(M,S,T){var R=l[M];null!=R&&R!==c[M]&&(R?a[S]():a[T]())};return w("removed","remove","restore"),w("selected","select","unselect"),w("selectable","selectify","unselectify"),w("locked","lock","unlock"),w("grabbable","grabify","ungrabify"),w("pannable","panify","unpanify"),null!=l.classes&&a.classes(l.classes),s.endBatch(),this}if(void 0===l){var x={data:na(c.data),position:na(c.position),group:c.group,removed:c.removed,selected:c.selected,selectable:c.selectable,locked:c.locked,grabbable:c.grabbable,pannable:c.pannable,classes:""},D=0;return c.classes.forEach(function(k){return x.classes+=0==D++?k:" "+k}),x}}},Wi.jsons=function(){for(var l=[],a=0;a<this.length;a++){var c=this[a].json();l.push(c)}return l},Wi.clone=function(){for(var l=this.cy(),a=[],s=0;s<this.length;s++){var u=this[s].json(),h=new ol(l,u,!1);a.push(h)}return new zn(l,a)},Wi.copy=Wi.clone,Wi.restore=function(){for(var f,l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,c=s.cy(),u=c._private,h=[],m=[],v=0,_=s.length;v<_;v++){var b=s[v];a&&!b.removed()||(b.isNode()?h.push(b):m.push(b))}f=h.concat(m);var w,x=function(){f.splice(w,1),w--};for(w=0;w<f.length;w++){var D=f[w],k=D._private,M=k.data;if(D.clearTraversalCache(),a||k.removed)if(void 0===M.id)M.id=al();else if(Je(M.id))M.id=""+M.id;else{if(ji(M.id)||!We(M.id)){Yi("Can not create element with invalid string ID `"+M.id+"`"),x();continue}if(c.hasElementWithId(M.id)){Yi("Can not create second element with ID `"+M.id+"`"),x();continue}}var S=M.id;if(D.isNode()){var T=k.position;null==T.x&&(T.x=0),null==T.y&&(T.y=0)}if(D.isEdge()){for(var R=D,O=["source","target"],F=O.length,j=!1,U=0;U<F;U++){var L=O[U],z=M[L];Je(z)&&(z=M[L]=""+M[L]),null==z||""===z?(Yi("Can not create edge `"+S+"` with unspecified "+L),j=!0):c.hasElementWithId(z)||(Yi("Can not create edge `"+S+"` with nonexistant "+L+" `"+z+"`"),j=!0)}if(j){x();continue}var N=c.getElementById(M.source),W=c.getElementById(M.target);N.same(W)?N._private.edges.push(R):(N._private.edges.push(R),W._private.edges.push(R)),R._private.source=N,R._private.target=W}k.map=new La,k.map.set(S,{ele:D,index:0}),k.removed=!1,a&&c.addToPool(D)}for(var G=0;G<h.length;G++){var H=h[G],q=H._private.data;Je(q.parent)&&(q.parent=""+q.parent);var $=q.parent,ee=null!=$;if(ee||H._private.parent){var K=H._private.parent?c.collection().merge(H._private.parent):c.getElementById($);if(K.empty())q.parent=void 0;else if(K[0].removed())Pi("Node added with missing parent, reference to parent removed"),q.parent=void 0,H._private.parent=null;else{for(var Q=!1,ne=K;!ne.empty();){if(H.same(ne)){Q=!0,q.parent=void 0;break}ne=ne.parent()}Q||(K[0]._private.children.push(H),H._private.parent=K[0],u.hasCompoundNodes=!0)}}}if(f.length>0){for(var ce=f.length===s.length?s:new zn(c,f),pe=0;pe<ce.length;pe++){var le=ce[pe];le.isNode()||(le.parallelEdges().clearTraversalCache(),le.source().clearTraversalCache(),le.target().clearTraversalCache())}(u.hasCompoundNodes?c.collection().merge(ce).merge(ce.connectedNodes()).merge(ce.parent()):ce).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(l),l?ce.emitAndNotify("add"):a&&ce.emit("add")}return s},Wi.removed=function(){var l=this[0];return l&&l._private.removed},Wi.inside=function(){var l=this[0];return l&&!l._private.removed},Wi.remove=function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=this,c=[],u={},h=s._private.cy;function m($){for(var ee=$._private.edges,K=0;K<ee.length;K++)v(ee[K])}function f($){for(var ee=$._private.children,K=0;K<ee.length;K++)v(ee[K])}function v($){var ee=u[$.id()];a&&$.removed()||ee||(u[$.id()]=!0,$.isNode()?(c.push($),m($),f($)):c.unshift($))}for(var _=0,b=s.length;_<b;_++){var w=s[_];v(w)}function x($,ee){So($._private.edges,ee),$.clearTraversalCache()}function D($){$.clearTraversalCache()}var k=[];function M($,ee){ee=ee[0];var K=($=$[0])._private.children,Q=$.id();So(K,ee),ee._private.parent=null,k.ids[Q]||(k.ids[Q]=!0,k.push($))}k.ids={},s.dirtyCompoundBoundsCache(),a&&h.removeFromPool(c);for(var S=0;S<c.length;S++){var T=c[S];if(T.isEdge()){var R=T.source()[0],O=T.target()[0];x(R,T),x(O,T);for(var F=T.parallelEdges(),j=0;j<F.length;j++){var U=F[j];D(U),U.isBundledBezier()&&U.dirtyBoundingBoxCache()}}else{var L=T.parent();0!==L.length&&M(L,T)}a&&(T._private.removed=!0)}var z=h._private.elements;h._private.hasCompoundNodes=!1;for(var N=0;N<z.length;N++){var W=z[N];if(W.isParent()){h._private.hasCompoundNodes=!0;break}}var G=new zn(this.cy(),c);G.size()>0&&(l?G.emitAndNotify("remove"):a&&G.emit("remove"));for(var H=0;H<k.length;H++){var q=k[H];(!a||!q.removed())&&q.updateStyle()}return G},Wi.move=function(l){var a=this._private.cy,s=this,c=!1,u=!1,h=function(k){return null==k?k:""+k};if(void 0!==l.source||void 0!==l.target){var m=h(l.source),f=h(l.target),v=null!=m&&a.hasElementWithId(m),_=null!=f&&a.hasElementWithId(f);(v||_)&&(a.batch(function(){s.remove(c,u),s.emitAndNotify("moveout");for(var D=0;D<s.length;D++){var k=s[D],M=k._private.data;k.isEdge()&&(v&&(M.source=m),_&&(M.target=f))}s.restore(c,u)}),s.emitAndNotify("move"))}else if(void 0!==l.parent){var b=h(l.parent);if(null===b||a.hasElementWithId(b)){var x=null===b?void 0:b;a.batch(function(){var D=s.remove(c,u);D.emitAndNotify("moveout");for(var k=0;k<s.length;k++){var M=s[k],S=M._private.data;M.isNode()&&(S.parent=x)}D.restore(c,u)}),s.emitAndNotify("move")}}return this},[If,hD,Ba,Pt,kc,Ae,hi,ay,sy,Xf,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var a=this[0];if(a)return a._private.group}},kl,Vo,Zn,Jn,Hn].forEach(function(l){Bt(Wi,l)});var dy={add:function(a){var s,c=this;if(Ce(a)){var u=a;if(u._private.cy===c)s=u.restore();else{for(var h=[],m=0;m<u.length;m++)h.push(u[m].json());s=new zn(c,h)}}else if(gi(a))s=new zn(c,a);else if(vt(a)&&(gi(a.nodes)||gi(a.edges))){for(var _=a,b=[],w=["nodes","edges"],x=0,D=w.length;x<D;x++){var k=w[x],M=_[k];if(gi(M))for(var S=0,T=M.length;S<T;S++){var R=Bt({group:k},M[S]);b.push(R)}}s=new zn(c,b)}else s=new ol(c,a).collection();return s},remove:function(a){return Ce(a)||We(a)&&(a=this.$(a)),a.remove()}},ys=function(){function l(c){return-c.tension*c.x-c.friction*c.v}function a(c,u,h){var m={x:c.x+h.dx*u,v:c.v+h.dv*u,tension:c.tension,friction:c.friction};return{dx:m.v,dv:l(m)}}function s(c,u){var h={dx:c.v,dv:l(c)},m=a(c,.5*u,h),f=a(c,.5*u,m),v=a(c,u,f),b=1/6*(h.dv+2*(m.dv+f.dv)+v.dv);return c.x=c.x+1/6*(h.dx+2*(m.dx+f.dx)+v.dx)*u,c.v=c.v+b*u,c}return function c(u,h,m){var x,D,k,f={x:-1,v:0,tension:null,friction:null},v=[0],_=0,b=1e-4;for(u=parseFloat(u)||500,h=parseFloat(h)||20,m=m||null,f.tension=u,f.friction=h,D=(x=null!==m)?(_=c(u,h))/m*.016:.016;k=s(k||f,D),v.push(1+k.x),_+=16,Math.abs(k.x)>b&&Math.abs(k.v)>b;);return x?function(M){return v[M*(v.length-1)|0]}:_}}(),qi=function(a,s,c,u){var h=function zd(l,a,s,c){var u=4,h=.001,m=1e-7,f=10,v=11,_=1/(v-1),b=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;l=Math.min(l,1),s=Math.min(s,1),l=Math.max(l,0),s=Math.max(s,0);var x=b?new Float32Array(v):new Array(v);function D(W,G){return 1-3*G+3*W}function k(W,G){return 3*G-6*W}function M(W){return 3*W}function S(W,G,H){return((D(G,H)*W+k(G,H))*W+M(G))*W}function T(W,G,H){return 3*D(G,H)*W*W+2*k(G,H)*W+M(G)}function R(W,G){for(var H=0;H<u;++H){var q=T(G,l,s);if(0===q)return G;G-=(S(G,l,s)-W)/q}return G}function O(){for(var W=0;W<v;++W)x[W]=S(W*_,l,s)}function F(W,G,H){var q,$,ee=0;do{(q=S($=G+(H-G)/2,l,s)-W)>0?H=$:G=$}while(Math.abs(q)>m&&++ee<f);return $}function j(W){for(var G=0,H=1,q=v-1;H!==q&&x[H]<=W;++H)G+=_;--H;var ee=G+(W-x[H])/(x[H+1]-x[H])*_,K=T(ee,l,s);return K>=h?R(W,ee):0===K?ee:F(W,G,G+_)}var U=!1;function L(){U=!0,(l!==a||s!==c)&&O()}var z=function(G){return U||L(),l===a&&s===c?G:0===G?0:1===G?1:S(j(G),a,c)};z.getControlPoints=function(){return[{x:l,y:a},{x:s,y:c}]};var N="generateBezier("+[l,a,s,c]+")";return z.toString=function(){return N},z}(a,s,c,u);return function(m,f,v){return m+(f-m)*h(v)}},Lc={linear:function(a,s,c){return a+(s-a)*c},ease:qi(.25,.1,.25,1),"ease-in":qi(.42,0,1,1),"ease-out":qi(0,0,.58,1),"ease-in-out":qi(.42,0,.58,1),"ease-in-sine":qi(.47,0,.745,.715),"ease-out-sine":qi(.39,.575,.565,1),"ease-in-out-sine":qi(.445,.05,.55,.95),"ease-in-quad":qi(.55,.085,.68,.53),"ease-out-quad":qi(.25,.46,.45,.94),"ease-in-out-quad":qi(.455,.03,.515,.955),"ease-in-cubic":qi(.55,.055,.675,.19),"ease-out-cubic":qi(.215,.61,.355,1),"ease-in-out-cubic":qi(.645,.045,.355,1),"ease-in-quart":qi(.895,.03,.685,.22),"ease-out-quart":qi(.165,.84,.44,1),"ease-in-out-quart":qi(.77,0,.175,1),"ease-in-quint":qi(.755,.05,.855,.06),"ease-out-quint":qi(.23,1,.32,1),"ease-in-out-quint":qi(.86,0,.07,1),"ease-in-expo":qi(.95,.05,.795,.035),"ease-out-expo":qi(.19,1,.22,1),"ease-in-out-expo":qi(1,0,0,1),"ease-in-circ":qi(.6,.04,.98,.335),"ease-out-circ":qi(.075,.82,.165,1),"ease-in-out-circ":qi(.785,.135,.15,.86),spring:function(a,s,c){if(0===c)return Lc.linear;var u=ys(a,s,c);return function(h,m,f){return h+(m-h)*u(f)}},"cubic-bezier":qi};function mm(l,a,s,c,u){if(1===c||a===s)return s;var h=u(a,s,c);return null==l||((l.roundValue||l.color)&&(h=Math.round(h)),void 0!==l.min&&(h=Math.max(h,l.min)),void 0!==l.max&&(h=Math.min(h,l.max))),h}function ws(l,a){return null!=l.pfValue||null!=l.value?null==l.pfValue||null!=a&&"%"===a.type.units?l.value:l.pfValue:l}function El(l,a,s,c,u){var h=null!=u?u.type:null;s<0?s=0:s>1&&(s=1);var m=ws(l,u),f=ws(a,u);if(Je(m)&&Je(f))return mm(h,m,f,s,c);if(gi(m)&&gi(f)){for(var v=[],_=0;_<f.length;_++){var b=m[_],w=f[_];if(null!=b&&null!=w){var x=mm(h,b,w,s,c);v.push(x)}else v.push(w)}return v}}function At(l,a,s,c){var u=!c,h=l._private,m=a._private,f=m.easing,v=m.startTime,b=(c?l:l.cy()).style();if(!m.easingImpl)if(null==f)m.easingImpl=Lc.linear;else{var w,D,k;w=We(f)?b.parse("transition-timing-function",f).value:f,We(w)?(D=w,k=[]):(D=w[1],k=w.slice(2).map(function(ce){return+ce})),k.length>0?("spring"===D&&k.push(m.duration),m.easingImpl=Lc[D].apply(null,k)):m.easingImpl=Lc[D]}var S,M=m.easingImpl;if(S=0===m.duration?1:(s-v)/m.duration,m.applying&&(S=m.progress),S<0?S=0:S>1&&(S=1),null==m.delay){var T=m.startPosition,R=m.position;if(R&&u&&!l.locked()){var O={};xs(T.x,R.x)&&(O.x=El(T.x,R.x,S,M)),xs(T.y,R.y)&&(O.y=El(T.y,R.y,S,M)),l.position(O)}var F=m.startPan,j=m.pan,U=h.pan,L=null!=j&&c;L&&(xs(F.x,j.x)&&(U.x=El(F.x,j.x,S,M)),xs(F.y,j.y)&&(U.y=El(F.y,j.y,S,M)),l.emit("pan"));var z=m.startZoom,N=m.zoom,W=null!=N&&c;W&&(xs(z,N)&&(h.zoom=_i(h.minZoom,El(z,N,S,M),h.maxZoom)),l.emit("zoom")),(L||W)&&l.emit("viewport");var G=m.style;if(G&&G.length>0&&u){for(var H=0;H<G.length;H++){var q=G[H],$=q.name,K=m.startStyle[$],ne=El(K,q,S,M,b.properties[K.name]);b.overrideBypass(l,$,ne)}l.emit("style")}}return m.progress=S,S}function xs(l,a){return!!(null!=l&&null!=a&&(Je(l)&&Je(a)||l&&a))}function uy(l,a,s,c){var u=a._private;u.started=!0,u.startTime=s-u.progress*u.duration}function pm(l,a){var s=a._private.aniEles,c=[];function u(b,w){var x=b._private,D=x.animation.current,k=x.animation.queue,M=!1;if(0===D.length){var S=k.shift();S&&D.push(S)}for(var T=function(U){for(var L=U.length-1;L>=0;L--)(0,U[L])();U.splice(0,U.length)},R=D.length-1;R>=0;R--){var O=D[R],F=O._private;F.stopped?(D.splice(R,1),F.hooked=!1,F.playing=!1,F.started=!1,T(F.frames)):!F.playing&&!F.applying||(F.playing&&F.applying&&(F.applying=!1),F.started||uy(0,O,l),At(b,O,l,w),F.applying&&(F.applying=!1),T(F.frames),null!=F.step&&F.step(l),O.completed()&&(D.splice(R,1),F.hooked=!1,F.playing=!1,F.started=!1,T(F.completes)),M=!0)}return!w&&0===D.length&&0===k.length&&c.push(b),M}for(var h=!1,m=0;m<s.length;m++){var v=u(s[m]);h=h||v}var _=u(a,!0);(h||_)&&(s.length>0?a.notify("draw",s):a.notify("draw")),s.unmerge(c),a.emit("step")}var Ar={animate:Ni.animate(),animation:Ni.animation(),animated:Ni.animated(),clearQueue:Ni.clearQueue(),delay:Ni.delay(),delayAnimation:Ni.delayAnimation(),stop:Ni.stop(),addToAnimationPool:function(a){!this.styleEnabled()||this._private.aniEles.merge(a)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var a=this;if(a._private.animationsRunning=!0,a.styleEnabled()){var c=a.renderer();c&&c.beforeRender?c.beforeRender(function(h,m){pm(m,a)},c.beforeRenderPriorities.animations):function s(){!a._private.animationsRunning||Th(function(h){pm(h,a),s()})}()}}},Sl={qualifierCompare:function(a,s){return null==a||null==s?null==a&&null==s:a.sameText(s)},eventMatches:function(a,s,c){var u=s.qualifier;return null==u||a!==c.target&&il(c.target)&&u.matches(c.target)},addEventFields:function(a,s){s.cy=a,s.target=a},callbackContext:function(a,s,c){return null!=s.qualifier?c.target:a}},ho=function(a){return We(a)?new so(a):a},Cs={createEmitter:function(){var a=this._private;return a.emitter||(a.emitter=new Oc(Sl,this)),this},emitter:function(){return this._private.emitter},on:function(a,s,c){return this.emitter().on(a,ho(s),c),this},removeListener:function(a,s,c){return this.emitter().removeListener(a,ho(s),c),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(a,s,c){return this.emitter().one(a,ho(s),c),this},once:function(a,s,c){return this.emitter().one(a,ho(s),c),this},emit:function(a,s){return this.emitter().emit(a,s),this},emitAndNotify:function(a,s){return this.emit(a),this.notify(a,s),this}};Ni.eventAliasesOn(Cs);var jd={png:function(a){return this._private.renderer.png(a=a||{})},jpg:function(a){var s=this._private.renderer;return(a=a||{}).bg=a.bg||"#fff",s.jpg(a)}};jd.jpeg=jd.jpg;var Tl={layout:function(a){var s=this;if(null!=a)if(null!=a.name){var h,c=a.name,u=s.extension("layout",c);if(null!=u)return h=We(a.eles)?s.$(a.eles):null!=a.eles?a.eles:s.$(),new u(Bt({},a,{cy:s,eles:h}));Yi("No such layout `"+c+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Yi("A `name` must be specified to make a layout");else Yi("Layout options must be specified to make a layout")}};Tl.createLayout=Tl.makeLayout=Tl.layout;var Il={notify:function(a,s){var c=this._private;if(this.batching()){c.batchNotifications=c.batchNotifications||{};var u=c.batchNotifications[a]=c.batchNotifications[a]||this.collection();null!=s&&u.merge(s)}else if(c.notificationsEnabled){var h=this.renderer();this.destroyed()||!h||h.notify(a,s)}},notifications:function(a){var s=this._private;return void 0===a?s.notificationsEnabled:(s.notificationsEnabled=!!a,this)},noNotifications:function(a){this.notifications(!1),a(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var a=this._private;return null==a.batchCount&&(a.batchCount=0),0===a.batchCount&&(a.batchStyleEles=this.collection(),a.batchNotifications={}),a.batchCount++,this},endBatch:function(){var a=this._private;if(0===a.batchCount)return this;if(a.batchCount--,0===a.batchCount){a.batchStyleEles.updateStyle();var s=this.renderer();Object.keys(a.batchNotifications).forEach(function(c){var u=a.batchNotifications[c];u.empty()?s.notify(c):s.notify(c,u)})}return this},batch:function(a){return this.startBatch(),a(),this.endBatch(),this},batchData:function(a){var s=this;return this.batch(function(){for(var c=Object.keys(a),u=0;u<c.length;u++){var h=c[u],m=a[h];s.getElementById(h).data(m)}})}},gD=Nn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),fm={renderTo:function(a,s,c,u){return this._private.renderer.renderTo(a,s,c,u),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(a){var s=this,c=s.extension("renderer",a.name);if(null!=c){void 0!==a.wheelSensitivity&&Pi("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var u=gD(a);u.cy=s,s._private.renderer=new c(u),this.notify("init")}else Yi("Can not initialise: No such renderer `".concat(a.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var a=this;a.notify("destroy");var s=a.container();if(s)for(s._cyreg=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);a._private.renderer=null,a.mutableElements().forEach(function(c){var u=c._private;u.rscratch={},u.rstyle={},u.animation.current=[],u.animation.queue=[]})},onRender:function(a){return this.on("render",a)},offRender:function(a){return this.off("render",a)}};fm.invalidateDimensions=fm.resize;var oe={collection:function(a,s){return We(a)?this.$(a):Ce(a)?a.collection():gi(a)?(s||(s={}),new zn(this,a,s.unique,s.removed)):new zn(this)},nodes:function(a){var s=this.$(function(c){return c.isNode()});return a?s.filter(a):s},edges:function(a){var s=this.$(function(c){return c.isEdge()});return a?s.filter(a):s},$:function(a){var s=this._private.elements;return a?s.filter(a):s.spawnSelf()},mutableElements:function(){return this._private.elements}};oe.elements=oe.filter=oe.$;var xr={apply:function(l){for(var a=this,u=a._private.cy.collection(),h=0;h<l.length;h++){var m=l[h],f=a.getContextMeta(m);if(!f.empty){var v=a.getContextStyle(f),_=a.applyContextStyle(f,v,m);m._private.appliedInitStyle?a.updateTransitions(m,_.diffProps):m._private.appliedInitStyle=!0,a.updateStyleHints(m)&&u.push(m)}}return u},getPropertiesDiff:function(l,a){var s=this,c=s._private.propDiffs=s._private.propDiffs||{},u=l+"-"+a,h=c[u];if(h)return h;for(var m=[],f={},v=0;v<s.length;v++){var _=s[v],w="t"===a[v],x="t"===l[v]!==w,D=_.mappedProperties.length>0;if(x||w&&D){var k=void 0;x&&D||x?k=_.properties:D&&(k=_.mappedProperties);for(var M=0;M<k.length;M++){for(var S=k[M],T=S.name,R=!1,O=v+1;O<s.length&&("t"!==a[O]||!(R=null!=s[O].properties[S.name]));O++);!f[T]&&!R&&(f[T]=!0,m.push(T))}}}return c[u]=m,m},getContextMeta:function(l){for(var c,a=this,s="",u=l._private.styleCxtKey||"",h=0;h<a.length;h++){var m=a[h];s+=m.selector&&m.selector.matches(l)?"t":"f"}return c=a.getPropertiesDiff(u,s),l._private.styleCxtKey=s,{key:s,diffPropNames:c,empty:0===c.length}},getContextStyle:function(l){var a=l.key,c=this._private.contextStyles=this._private.contextStyles||{};if(c[a])return c[a];for(var u={_private:{key:a}},h=0;h<this.length;h++){var m=this[h];if("t"===a[h])for(var v=0;v<m.properties.length;v++){var _=m.properties[v];u[_.name]=_}}return c[a]=u,u},applyContextStyle:function(l,a,s){for(var u=l.diffPropNames,h={},m=this.types,f=0;f<u.length;f++){var v=u[f],_=a[v],b=s.pstyle(v);if(!_){if(!b)continue;_=b.bypass?{name:v,deleteBypassed:!0}:{name:v,delete:!0}}if(b!==_){if(_.mapped===m.fn&&null!=b&&null!=b.mapping&&b.mapping.value===_.value){var w=b.mapping;if((w.fnValue=_.value(s))===w.prevFnValue)continue}var D=h[v]={prev:b};this.applyParsedProperty(s,_),D.next=s.pstyle(v),D.next&&D.next.bypass&&(D.next=D.next.bypassed)}}return{diffProps:h}},updateStyleHints:function(l){var c,a=l._private,s=this,u=s.propertyGroupKeys,h=function(Be,Ke,jt){return s.getPropertiesHash(Be,Ke,jt)},m=a.styleKey;if(l.removed())return!1;var Be,f="nodes"===a.group,v=l._private.style;c=Object.keys(v);for(var _=0;_<u.length;_++)a.styleKeys[u[_]]=[ls,nl];for(var w=function(Be,Ke){return a.styleKeys[Ke][0]=cc(Be,a.styleKeys[Ke][0])},x=function(Be,Ke){return a.styleKeys[Ke][1]=rl(Be,a.styleKeys[Ke][1])},D=function(Be,Ke){w(Be,Ke),x(Be,Ke)},k=function(Be,Ke){for(var jt=0;jt<Be.length;jt++){var Zt=Be.charCodeAt(jt);w(Zt,Ke),x(Zt,Ke)}},T=0;T<c.length;T++){var R=c[T],O=v[R];if(null!=O){var F=this.properties[R],j=F.type,U=F.groupKey,L=void 0;null!=F.hashOverride?L=F.hashOverride(l,O):null!=O.pfValue&&(L=O.pfValue);var z=null==F.enums?O.value:null,N=null!=L,H=O.units;!j.number||!N&&null==z||j.multiple?k(O.strValue,U):(D(-128<(Be=N?L:z)&&Be<128&&Math.floor(Be)!==Be?2e9-(1024*Be|0):Be,U),!N&&null!=H&&k(H,U))}}for(var $=[ls,nl],ee=0;ee<u.length;ee++){var Q=a.styleKeys[u[ee]];$[0]=cc(Q[0],$[0]),$[1]=rl(Q[1],$[1])}a.styleKey=function(a,s){return 2097152*a+s}($[0],$[1]);var ne=a.styleKeys;a.labelDimsKey=to(ne.labelDimensions);var ce=h(l,["label"],ne.labelDimensions);if(a.labelKey=to(ce),a.labelStyleKey=to(dc(ne.commonLabel,ce)),!f){var pe=h(l,["source-label"],ne.labelDimensions);a.sourceLabelKey=to(pe),a.sourceLabelStyleKey=to(dc(ne.commonLabel,pe));var le=h(l,["target-label"],ne.labelDimensions);a.targetLabelKey=to(le),a.targetLabelStyleKey=to(dc(ne.commonLabel,le))}if(f){var se=a.styleKeys,te=se.pie,Ee=[se.nodeBody,se.nodeBorder,se.backgroundImage,se.compound,te].filter(function(Ie){return null!=Ie}).reduce(dc,[ls,nl]);a.nodeKey=to(Ee),a.hasPie=null!=te&&te[0]!==ls&&te[1]!==nl}return m!==a.styleKey},clearStyleHints:function(l){var a=l._private;a.styleCxtKey="",a.styleKeys={},a.styleKey=null,a.labelKey=null,a.labelStyleKey=null,a.sourceLabelKey=null,a.sourceLabelStyleKey=null,a.targetLabelKey=null,a.targetLabelStyleKey=null,a.nodeKey=null,a.hasPie=null},applyParsedProperty:function(l,a){var h,s=this,c=a,u=l._private.style,m=s.types,f=s.properties[c.name].type,v=c.bypass,_=u[c.name],b=_&&_.bypass,w=l._private,x="mapping",D=function(Me){return null==Me?null:null!=Me.pfValue?Me.pfValue:Me.value},k=function(){var Me=D(_),Se=D(c);s.checkTriggers(l,c.name,Me,Se)};if(c&&"pie"===c.name.substr(0,3)&&Pi("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===a.name&&l.isEdge()&&("bezier"!==a.value&&l.isLoop()||"haystack"===a.value&&(l.source().isParent()||l.target().isParent()))&&(c=a=this.parse(a.name,"bezier",v)),c.delete)return u[c.name]=void 0,k(),!0;if(c.deleteBypassed)return _?!!_.bypass&&(_.bypassed=void 0,k(),!0):(k(),!0);if(c.deleteBypass)return _?!!_.bypass&&(u[c.name]=_.bypassed,k(),!0):(k(),!0);var M=function(){Pi("Do not assign mappings to elements without corresponding data (i.e. ele `"+l.id()+"` has no mapping for property `"+c.name+"` with data field `"+c.field+"`); try a `["+c.field+"]` selector to limit scope to elements with `"+c.field+"` defined")};switch(c.mapped){case m.mapData:for(var S=c.field.split("."),T=w.data,R=0;R<S.length&&T;R++)T=T[S[R]];if(null==T)return M(),!1;var F;if(!Je(T))return Pi("Do not use continuous mappers without specifying numeric data (i.e. `"+c.field+": "+T+"` for `"+l.id()+"` is non-numeric)"),!1;var j=c.fieldMax-c.fieldMin;if((F=0===j?0:(T-c.fieldMin)/j)<0?F=0:F>1&&(F=1),f.color){var U=c.valueMin[0],z=c.valueMin[1],N=c.valueMax[1],W=c.valueMin[2],G=c.valueMax[2],H=null==c.valueMin[3]?1:c.valueMin[3],q=null==c.valueMax[3]?1:c.valueMax[3],$=[Math.round(U+(c.valueMax[0]-U)*F),Math.round(z+(N-z)*F),Math.round(W+(G-W)*F),Math.round(H+(q-H)*F)];h={bypass:c.bypass,name:c.name,value:$,strValue:"rgb("+$[0]+", "+$[1]+", "+$[2]+")"}}else{if(!f.number)return!1;h=this.parse(c.name,c.valueMin+(c.valueMax-c.valueMin)*F,c.bypass,x)}if(!h)return M(),!1;h.mapping=c,c=h;break;case m.data:for(var K=c.field.split("."),Q=w.data,ne=0;ne<K.length&&Q;ne++)Q=Q[K[ne]];if(null!=Q&&(h=this.parse(c.name,Q,c.bypass,x)),!h)return M(),!1;h.mapping=c,c=h;break;case m.fn:var le=null!=c.fnValue?c.fnValue:(0,c.value)(l);if(c.prevFnValue=le,null==le)return Pi("Custom function mappers may not return null (i.e. `"+c.name+"` for ele `"+l.id()+"` is null)"),!1;if(!(h=this.parse(c.name,le,c.bypass,x)))return Pi("Custom function mappers may not return invalid values for the property type (i.e. `"+c.name+"` for ele `"+l.id()+"` is invalid)"),!1;h.mapping=na(c),c=h;break;case void 0:break;default:return!1}return v?(c.bypassed=b?_.bypassed:_,u[c.name]=c):b?_.bypassed=c:u[c.name]=c,k(),!0},cleanElements:function(l,a){for(var s=0;s<l.length;s++){var c=l[s];if(this.clearStyleHints(c),c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),a)for(var u=c._private.style,h=Object.keys(u),m=0;m<h.length;m++){var f=h[m],v=u[f];null!=v&&(v.bypass?v.bypassed=null:u[f]=null)}else c._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(l,a){var s=this,c=l._private,u=l.pstyle("transition-property").value,h=l.pstyle("transition-duration").pfValue,m=l.pstyle("transition-delay").pfValue;if(u.length>0&&h>0){for(var f={},v=!1,_=0;_<u.length;_++){var b=u[_],w=l.pstyle(b),x=a[b];if(x){var k=x.prev,M=null!=x.next?x.next:w,S=!1,T=void 0,R=1e-6;!k||(Je(k.pfValue)&&Je(M.pfValue)?T=k.pfValue+R*(S=M.pfValue-k.pfValue):Je(k.value)&&Je(M.value)?T=k.value+R*(S=M.value-k.value):gi(k.value)&&gi(M.value)&&(S=k.value[0]!==M.value[0]||k.value[1]!==M.value[1]||k.value[2]!==M.value[2],T=k.strValue),S&&(f[b]=M.strValue,this.applyBypass(l,b,T),v=!0))}}if(!v)return;c.transitioning=!0,new Cc(function(O){m>0?l.delayAnimation(m).play().promise().then(O):O()}).then(function(){return l.animation({style:f,duration:h,easing:l.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){s.removeBypasses(l,u),l.emitAndNotify("style"),c.transitioning=!1})}else c.transitioning&&(this.removeBypasses(l,u),l.emitAndNotify("style"),c.transitioning=!1)},checkTrigger:function(l,a,s,c,u,h){var m=this.properties[a],f=u(m);null!=f&&f(s,c)&&h(m)},checkZOrderTrigger:function(l,a,s,c){var u=this;this.checkTrigger(l,a,s,c,function(h){return h.triggersZOrder},function(){u._private.cy.notify("zorder",l)})},checkBoundsTrigger:function(l,a,s,c){this.checkTrigger(l,a,s,c,function(u){return u.triggersBounds},function(u){l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),u.triggersBoundsOfParallelBeziers&&("curve-style"===a&&("bezier"===s||"bezier"===c)||"display"===a&&("none"===s||"none"===c))&&l.parallelEdges().forEach(function(h){h.isBundledBezier()&&h.dirtyBoundingBoxCache()})})},checkTriggers:function(l,a,s,c){l.dirtyStyleCache(),this.checkZOrderTrigger(l,a,s,c),this.checkBoundsTrigger(l,a,s,c)}},$d={applyBypass:function(l,a,s,c){var h=[];if("*"===a||"**"===a){if(void 0!==s)for(var f=0;f<this.properties.length;f++){var b=this.parse(this.properties[f].name,s,!0);b&&h.push(b)}}else if(We(a)){var w=this.parse(a,s,!0);w&&h.push(w)}else{if(!vt(a))return!1;var x=a;c=s;for(var D=Object.keys(x),k=0;k<D.length;k++){var M=D[k],S=x[M];if(void 0===S&&(S=x[Sh(M)]),void 0!==S){var T=this.parse(M,S,!0);T&&h.push(T)}}}if(0===h.length)return!1;for(var R=!1,O=0;O<l.length;O++){for(var F=l[O],j={},U=void 0,L=0;L<h.length;L++){var z=h[L];if(c){var N=F.pstyle(z.name);U=j[z.name]={prev:N}}R=this.applyParsedProperty(F,na(z))||R,c&&(U.next=F.pstyle(z.name))}R&&this.updateStyleHints(F),c&&this.updateTransitions(F,j,!0)}return R},overrideBypass:function(l,a,s){a=rf(a);for(var c=0;c<l.length;c++){var u=l[c],h=u._private.style[a],m=this.properties[a].type,f=m.color,v=m.mutiple,_=h?null!=h.pfValue?h.pfValue:h.value:null;h&&h.bypass?(h.value=s,null!=h.pfValue&&(h.pfValue=s),h.strValue=f?"rgb("+s.join(",")+")":v?s.join(" "):""+s,this.updateStyleHints(u)):this.applyBypass(u,a,s),this.checkTriggers(u,a,_,s)}},removeAllBypasses:function(l,a){return this.removeBypasses(l,this.propertyNames,a)},removeBypasses:function(l,a,s){for(var u=0;u<l.length;u++){for(var h=l[u],m={},f=0;f<a.length;f++){var v=a[f],_=this.properties[v],b=h.pstyle(_.name);if(b&&b.bypass){var x=this.parse(v,"",!0),D=m[_.name]={prev:b};this.applyParsedProperty(h,x),D.next=h.pstyle(_.name)}}this.updateStyleHints(h),s&&this.updateTransitions(h,m,!0)}}},ng={getEmSizeInPixels:function(){var l=this.containerCss("font-size");return null!=l?parseFloat(l):1},containerCss:function(l){var s=this._private.cy.container();if(Nt&&s&&Nt.getComputedStyle)return Nt.getComputedStyle(s).getPropertyValue(l)}},mo={getRenderedStyle:function(l,a){return a?this.getStylePropertyValue(l,a,!0):this.getRawStyle(l,!0)},getRawStyle:function(l,a){var s=this;if(l=l[0]){for(var c={},u=0;u<s.properties.length;u++){var h=s.properties[u],m=s.getStylePropertyValue(l,h.name,a);null!=m&&(c[h.name]=m,c[Sh(h.name)]=m)}return c}},getIndexedStyle:function(l,a,s,c){return l.pstyle(a)[s][c]??l.cy().style().getDefaultProperty(a)[s][0]},getStylePropertyValue:function(l,a,s){if(l=l[0]){var u=this.properties[a];u.alias&&(u=u.pointsTo);var h=u.type,m=l.pstyle(u.name);if(m){var f=m.value,v=m.units,_=m.strValue;if(s&&h.number&&null!=f&&Je(f)){var b=l.cy().zoom(),w=function(S){return S*b},x=function(S,T){return w(S)+T},D=gi(f);return(D?v.every(function(M){return null!=M}):null!=v)?D?f.map(function(M,S){return x(M,v[S])}).join(" "):x(f,v):D?f.map(function(M){return We(M)?M:""+w(M)}).join(" "):""+w(f)}if(null!=_)return _}return null}},getAnimationStartStyle:function(l,a){for(var s={},c=0;c<a.length;c++){var h=a[c].name,m=l.pstyle(h);void 0!==m&&(m=vt(m)?this.parse(h,m.strValue):this.parse(h,m)),m&&(s[h]=m)}return s},getPropsList:function(l){var s=[],c=l,u=this.properties;if(c)for(var h=Object.keys(c),m=0;m<h.length;m++){var f=h[m],v=c[f],_=u[f]||u[rf(f)],b=this.parse(_.name,v);b&&s.push(b)}return s},getNonDefaultPropertiesHash:function(l,a,s){var h,m,f,v,_,c=s.slice();for(v=0;v<a.length;v++)if(null!=(h=l.pstyle(a[v],!1)))if(null!=h.pfValue)c[0]=cc(f,c[0]),c[1]=rl(f,c[1]);else for(m=h.strValue,_=0;_<m.length;_++)f=m.charCodeAt(_),c[0]=cc(f,c[0]),c[1]=rl(f,c[1]);return c}};mo.getPropertiesHash=mo.getNonDefaultPropertiesHash;var gm={appendFromJson:function(l){for(var a=this,s=0;s<l.length;s++){var c=l[s],u=c.selector,h=c.style||c.css,m=Object.keys(h);a.selector(u);for(var f=0;f<m.length;f++){var v=m[f];a.css(v,h[v])}}return a},fromJson:function(l){var a=this;return a.resetToDefault(),a.appendFromJson(l),a},json:function(){for(var l=[],a=this.defaultLength;a<this.length;a++){for(var s=this[a],c=s.selector,u=s.properties,h={},m=0;m<u.length;m++){var f=u[m];h[f.name]=f.strValue}l.push({selector:c?c.toString():"core",style:h})}return l}},Ds={appendFromString:function(l){var u,h,m,s=this,c=""+l;function f(){c=c.length>u.length?c.substr(u.length):""}function v(){h=h.length>m.length?h.substr(m.length):""}for(c=c.replace(/[/][*](\s|.)+?[*][/]/g,"");!c.match(/^\s*$/);){var b=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!b){Pi("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}u=b[0];var w=b[1];if("core"!==w&&new so(w).invalid)Pi("Skipping parsing of block: Invalid selector found in string stylesheet: "+w),f();else{var D=b[2],k=!1;h=D;for(var M=[];!h.match(/^\s*$/);){var T=h.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!T){Pi("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+D),k=!0;break}m=T[0];var R=T[1],O=T[2];this.properties[R]?s.parse(R,O)?(M.push({name:R,val:O}),v()):(Pi("Skipping property: Invalid property definition in: "+m),v()):(Pi("Skipping property: Invalid property name in: "+m),v())}if(k){f();break}s.selector(w);for(var U=0;U<M.length;U++){var L=M[U];s.css(L.name,L.val)}f()}}return s},fromString:function(l){var a=this;return a.resetToDefault(),a.appendFromString(l),a}},dr={};(function(){var l=Ln,h=function(Ee){return"^"+Ee+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},m=function(Ee){var Ie=l+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Ee+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+l+")\\s*\\,\\s*("+l+")\\s*,\\s*("+Ie+")\\s*\\,\\s*("+Ie+")\\)$"},f=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];dr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:h("data")},layoutData:{mapping:!0,regex:h("layoutData")},scratch:{mapping:!0,regex:h("scratch")},mapData:{mapping:!0,regex:m("mapData")},mapLayoutData:{mapping:!0,regex:m("mapLayoutData")},mapScratch:{mapping:!0,regex:m("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:f,singleRegexMatchValue:!0},urls:{regexes:f,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ee,Ie){switch(Ee.length){case 2:return"deg"!==Ie[0]&&"rad"!==Ie[0]&&"deg"!==Ie[1]&&"rad"!==Ie[1];case 1:return We(Ee[0])||"deg"===Ie[0]||"rad"===Ie[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+l+")\\s*,\\s*("+l+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+l+")\\s*,\\s*("+l+")\\s*,\\s*("+l+")\\s*,\\s*("+l+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ee){var Ie=Ee.length;return 1===Ie||2===Ie||4===Ie}}};var v={zeroNonZero:function(Ee,Ie){return(null==Ee||null==Ie)&&Ee!==Ie||0==Ee&&0!=Ie||0!=Ee&&0==Ie},any:function(Ee,Ie){return Ee!=Ie},emptyNonEmpty:function(Ee,Ie){var Be=ji(Ee),Ke=ji(Ie);return Be&&!Ke||!Be&&Ke}},_=dr.types,b=[{name:"label",type:_.text,triggersBounds:v.any,triggersZOrder:v.emptyNonEmpty},{name:"text-rotation",type:_.textRotation,triggersBounds:v.any},{name:"text-margin-x",type:_.bidirectionalSize,triggersBounds:v.any},{name:"text-margin-y",type:_.bidirectionalSize,triggersBounds:v.any}],w=[{name:"source-label",type:_.text,triggersBounds:v.any},{name:"source-text-rotation",type:_.textRotation,triggersBounds:v.any},{name:"source-text-margin-x",type:_.bidirectionalSize,triggersBounds:v.any},{name:"source-text-margin-y",type:_.bidirectionalSize,triggersBounds:v.any},{name:"source-text-offset",type:_.size,triggersBounds:v.any}],x=[{name:"target-label",type:_.text,triggersBounds:v.any},{name:"target-text-rotation",type:_.textRotation,triggersBounds:v.any},{name:"target-text-margin-x",type:_.bidirectionalSize,triggersBounds:v.any},{name:"target-text-margin-y",type:_.bidirectionalSize,triggersBounds:v.any},{name:"target-text-offset",type:_.size,triggersBounds:v.any}],D=[{name:"font-family",type:_.fontFamily,triggersBounds:v.any},{name:"font-style",type:_.fontStyle,triggersBounds:v.any},{name:"font-weight",type:_.fontWeight,triggersBounds:v.any},{name:"font-size",type:_.size,triggersBounds:v.any},{name:"text-transform",type:_.textTransform,triggersBounds:v.any},{name:"text-wrap",type:_.textWrap,triggersBounds:v.any},{name:"text-overflow-wrap",type:_.textOverflowWrap,triggersBounds:v.any},{name:"text-max-width",type:_.size,triggersBounds:v.any},{name:"text-outline-width",type:_.size,triggersBounds:v.any},{name:"line-height",type:_.positiveNumber,triggersBounds:v.any}],k=[{name:"text-valign",type:_.valign,triggersBounds:v.any},{name:"text-halign",type:_.halign,triggersBounds:v.any},{name:"color",type:_.color},{name:"text-outline-color",type:_.color},{name:"text-outline-opacity",type:_.zeroOneNumber},{name:"text-background-color",type:_.color},{name:"text-background-opacity",type:_.zeroOneNumber},{name:"text-background-padding",type:_.size,triggersBounds:v.any},{name:"text-border-opacity",type:_.zeroOneNumber},{name:"text-border-color",type:_.color},{name:"text-border-width",type:_.size,triggersBounds:v.any},{name:"text-border-style",type:_.borderStyle,triggersBounds:v.any},{name:"text-background-shape",type:_.textBackgroundShape,triggersBounds:v.any},{name:"text-justification",type:_.justification}],M=[{name:"events",type:_.bool},{name:"text-events",type:_.bool}],S=[{name:"display",type:_.display,triggersZOrder:v.any,triggersBounds:v.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:_.visibility,triggersZOrder:v.any},{name:"opacity",type:_.zeroOneNumber,triggersZOrder:v.zeroNonZero},{name:"text-opacity",type:_.zeroOneNumber},{name:"min-zoomed-font-size",type:_.size},{name:"z-compound-depth",type:_.zCompoundDepth,triggersZOrder:v.any},{name:"z-index-compare",type:_.zIndexCompare,triggersZOrder:v.any},{name:"z-index",type:_.nonNegativeInt,triggersZOrder:v.any}],T=[{name:"overlay-padding",type:_.size,triggersBounds:v.any},{name:"overlay-color",type:_.color},{name:"overlay-opacity",type:_.zeroOneNumber,triggersBounds:v.zeroNonZero},{name:"overlay-shape",type:_.overlayShape,triggersBounds:v.any}],R=[{name:"underlay-padding",type:_.size,triggersBounds:v.any},{name:"underlay-color",type:_.color},{name:"underlay-opacity",type:_.zeroOneNumber,triggersBounds:v.zeroNonZero},{name:"underlay-shape",type:_.overlayShape,triggersBounds:v.any}],O=[{name:"transition-property",type:_.propList},{name:"transition-duration",type:_.time},{name:"transition-delay",type:_.time},{name:"transition-timing-function",type:_.easing}],F=function(Ee,Ie){return"label"===Ie.value?-Ee.poolIndex():Ie.pfValue},j=[{name:"height",type:_.nodeSize,triggersBounds:v.any,hashOverride:F},{name:"width",type:_.nodeSize,triggersBounds:v.any,hashOverride:F},{name:"shape",type:_.nodeShape,triggersBounds:v.any},{name:"shape-polygon-points",type:_.polygonPointList,triggersBounds:v.any},{name:"background-color",type:_.color},{name:"background-fill",type:_.fill},{name:"background-opacity",type:_.zeroOneNumber},{name:"background-blacken",type:_.nOneOneNumber},{name:"background-gradient-stop-colors",type:_.colors},{name:"background-gradient-stop-positions",type:_.percentages},{name:"background-gradient-direction",type:_.gradientDirection},{name:"padding",type:_.sizeMaybePercent,triggersBounds:v.any},{name:"padding-relative-to",type:_.paddingRelativeTo,triggersBounds:v.any},{name:"bounds-expansion",type:_.boundsExpansion,triggersBounds:v.any}],U=[{name:"border-color",type:_.color},{name:"border-opacity",type:_.zeroOneNumber},{name:"border-width",type:_.size,triggersBounds:v.any},{name:"border-style",type:_.borderStyle}],L=[{name:"background-image",type:_.urls},{name:"background-image-crossorigin",type:_.bgCrossOrigin},{name:"background-image-opacity",type:_.zeroOneNumbers},{name:"background-image-containment",type:_.bgContainment},{name:"background-image-smoothing",type:_.bools},{name:"background-position-x",type:_.bgPos},{name:"background-position-y",type:_.bgPos},{name:"background-width-relative-to",type:_.bgRelativeTo},{name:"background-height-relative-to",type:_.bgRelativeTo},{name:"background-repeat",type:_.bgRepeat},{name:"background-fit",type:_.bgFit},{name:"background-clip",type:_.bgClip},{name:"background-width",type:_.bgWH},{name:"background-height",type:_.bgWH},{name:"background-offset-x",type:_.bgPos},{name:"background-offset-y",type:_.bgPos}],z=[{name:"position",type:_.position,triggersBounds:v.any},{name:"compound-sizing-wrt-labels",type:_.compoundIncludeLabels,triggersBounds:v.any},{name:"min-width",type:_.size,triggersBounds:v.any},{name:"min-width-bias-left",type:_.sizeMaybePercent,triggersBounds:v.any},{name:"min-width-bias-right",type:_.sizeMaybePercent,triggersBounds:v.any},{name:"min-height",type:_.size,triggersBounds:v.any},{name:"min-height-bias-top",type:_.sizeMaybePercent,triggersBounds:v.any},{name:"min-height-bias-bottom",type:_.sizeMaybePercent,triggersBounds:v.any}],N=[{name:"line-style",type:_.lineStyle},{name:"line-color",type:_.color},{name:"line-fill",type:_.fill},{name:"line-cap",type:_.lineCap},{name:"line-opacity",type:_.zeroOneNumber},{name:"line-dash-pattern",type:_.numbers},{name:"line-dash-offset",type:_.number},{name:"line-gradient-stop-colors",type:_.colors},{name:"line-gradient-stop-positions",type:_.percentages},{name:"curve-style",type:_.curveStyle,triggersBounds:v.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:_.zeroOneNumber,triggersBounds:v.any},{name:"source-endpoint",type:_.edgeEndpoint,triggersBounds:v.any},{name:"target-endpoint",type:_.edgeEndpoint,triggersBounds:v.any},{name:"control-point-step-size",type:_.size,triggersBounds:v.any},{name:"control-point-distances",type:_.bidirectionalSizes,triggersBounds:v.any},{name:"control-point-weights",type:_.numbers,triggersBounds:v.any},{name:"segment-distances",type:_.bidirectionalSizes,triggersBounds:v.any},{name:"segment-weights",type:_.numbers,triggersBounds:v.any},{name:"taxi-turn",type:_.bidirectionalSizeMaybePercent,triggersBounds:v.any},{name:"taxi-turn-min-distance",type:_.size,triggersBounds:v.any},{name:"taxi-direction",type:_.axisDirection,triggersBounds:v.any},{name:"edge-distances",type:_.edgeDistances,triggersBounds:v.any},{name:"arrow-scale",type:_.positiveNumber,triggersBounds:v.any},{name:"loop-direction",type:_.angle,triggersBounds:v.any},{name:"loop-sweep",type:_.angle,triggersBounds:v.any},{name:"source-distance-from-node",type:_.size,triggersBounds:v.any},{name:"target-distance-from-node",type:_.size,triggersBounds:v.any}],W=[{name:"ghost",type:_.bool,triggersBounds:v.any},{name:"ghost-offset-x",type:_.bidirectionalSize,triggersBounds:v.any},{name:"ghost-offset-y",type:_.bidirectionalSize,triggersBounds:v.any},{name:"ghost-opacity",type:_.zeroOneNumber}],G=[{name:"selection-box-color",type:_.color},{name:"selection-box-opacity",type:_.zeroOneNumber},{name:"selection-box-border-color",type:_.color},{name:"selection-box-border-width",type:_.size},{name:"active-bg-color",type:_.color},{name:"active-bg-opacity",type:_.zeroOneNumber},{name:"active-bg-size",type:_.size},{name:"outside-texture-bg-color",type:_.color},{name:"outside-texture-bg-opacity",type:_.zeroOneNumber}],H=[];dr.pieBackgroundN=16,H.push({name:"pie-size",type:_.sizeMaybePercent});for(var q=1;q<=dr.pieBackgroundN;q++)H.push({name:"pie-"+q+"-background-color",type:_.color}),H.push({name:"pie-"+q+"-background-size",type:_.percent}),H.push({name:"pie-"+q+"-background-opacity",type:_.zeroOneNumber});var $=[],ee=dr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:_.arrowShape,triggersBounds:v.any},{name:"arrow-color",type:_.color},{name:"arrow-fill",type:_.arrowFill}].forEach(function(te){ee.forEach(function(Ee){$.push({name:Ee+"-"+te.name,type:te.type,triggersBounds:te.triggersBounds})})},{});var K=dr.properties=[].concat(M,O,S,T,R,W,k,D,b,w,x,j,U,L,H,z,N,$,G),Q=dr.propertyGroups={behavior:M,transition:O,visibility:S,overlay:T,underlay:R,ghost:W,commonLabel:k,labelDimensions:D,mainLabel:b,sourceLabel:w,targetLabel:x,nodeBody:j,nodeBorder:U,backgroundImage:L,pie:H,compound:z,edgeLine:N,edgeArrow:$,core:G},ne=dr.propertyGroupNames={};(dr.propertyGroupKeys=Object.keys(Q)).forEach(function(te){ne[te]=Q[te].map(function(Ee){return Ee.name}),Q[te].forEach(function(Ee){return Ee.groupKey=te})});var pe=dr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];dr.propertyNames=K.map(function(te){return te.name});for(var le=0;le<K.length;le++){var se=K[le];K[se.name]=se}for(var Me=0;Me<pe.length;Me++){var Se=pe[Me],ye={name:Se.name,alias:!0,pointsTo:K[Se.pointsTo]};K.push(ye),K[Se.name]=ye}})(),dr.getDefaultProperty=function(l){return this.getDefaultProperties()[l]},dr.getDefaultProperties=function(){var l=this._private;if(null!=l.defaultProperties)return l.defaultProperties;for(var a=Bt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(v,_){for(var b=1;b<=dr.pieBackgroundN;b++)v[_.name.replace("{{i}}",b)]=_.value;return v},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(v,_){return dr.arrowPrefixes.forEach(function(b){v[b+"-"+_.name]=_.value}),v},{})),s={},c=0;c<this.properties.length;c++){var u=this.properties[c];if(!u.pointsTo){var h=u.name,f=this.parse(h,a[h]);s[h]=f}}return l.defaultProperties=s,l.defaultProperties},dr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var _m={parse:function(l,a,s,c){var u=this;if(Ai(a))return u.parseImplWarn(l,a,s,c);var b,v=hf(l,""+a,s?"t":"f","mapping"===c||!0===c||!1===c||null==c?"dontcare":c),_=u.propCache=u.propCache||[];return(b=_[v])||(b=_[v]=u.parseImplWarn(l,a,s,c)),(s||"mapping"===c)&&(b=na(b))&&(b.value=na(b.value)),b},parseImplWarn:function(l,a,s,c){var u=this.parseImpl(l,a,s,c);return!u&&null!=a&&Pi("The style property `".concat(l,": ").concat(a,"` is invalid")),u&&("width"===u.name||"height"===u.name)&&"label"===a&&Pi("The style value of `label` is deprecated for `"+u.name+"`"),u}};_m.parseImpl=function(l,a,s,c){var u=this;l=rf(l);var h=u.properties[l],m=a,f=u.types;if(!h||void 0===a)return null;h.alias&&(l=(h=h.pointsTo).name);var v=We(a);v&&(a=a.trim());var b,w,_=h.type;if(!_)return null;if(s&&(""===a||null===a))return{name:l,value:a,bypass:!0,deleteBypass:!0};if(Ai(a))return{name:l,value:a,strValue:"fn",mapped:f.fn,bypass:s};if(!(!v||c||a.length<7||"a"!==a[1])){if(a.length>=7&&"d"===a[0]&&(b=new RegExp(f.data.regex).exec(a)))return!s&&{name:l,value:b,strValue:""+a,mapped:f.data,field:b[1],bypass:s};if(a.length>=10&&"m"===a[0]&&(w=new RegExp(f.mapData.regex).exec(a))){if(s||_.multiple)return!1;var D=f.mapData;if(!_.color&&!_.number)return!1;var k=this.parse(l,w[4]);if(!k||k.mapped)return!1;var M=this.parse(l,w[5]);if(!M||M.mapped)return!1;if(k.pfValue===M.pfValue||k.strValue===M.strValue)return Pi("`"+l+": "+a+"` is not a valid mapper because the output range is zero; converting to `"+l+": "+k.strValue+"`"),this.parse(l,k.strValue);if(_.color){var S=k.value,T=M.value;if(!(S[0]!==T[0]||S[1]!==T[1]||S[2]!==T[2]||S[3]!==T[3]&&(null!=S[3]&&1!==S[3]||null!=T[3]&&1!==T[3])))return!1}return{name:l,value:w,strValue:""+a,mapped:D,field:w[1],fieldMin:parseFloat(w[2]),fieldMax:parseFloat(w[3]),valueMin:k.value,valueMax:M.value,bypass:s}}}if(_.multiple&&"multiple"!==c){var O;if(O=v?a.split(/\s+/):gi(a)?a:[a],_.evenMultiple&&O.length%2!=0)return null;for(var F=[],j=[],U=[],L="",z=!1,N=0;N<O.length;N++){var W=u.parse(l,O[N],s,"multiple");z=z||We(W.value),F.push(W.value),U.push(null!=W.pfValue?W.pfValue:W.value),j.push(W.units),L+=(N>0?" ":"")+W.strValue}return _.validate&&!_.validate(F,j)?null:_.singleEnum&&z?1===F.length&&We(F[0])?{name:l,value:F[0],strValue:F[0],bypass:s}:null:{name:l,value:F,pfValue:U,strValue:L,bypass:s,units:j}}var G=function(){for(var Ie=0;Ie<_.enums.length;Ie++)if(_.enums[Ie]===a)return{name:l,value:a,strValue:""+a,bypass:s};return null};if(_.number){var H,q="px";if(_.units&&(H=_.units),_.implicitUnits&&(q=_.implicitUnits),!_.unitless)if(v){var $="px|em"+(_.allowPercent?"|\\%":"");H&&($=H);var ee=a.match("^("+Ln+")("+$+")?$");ee&&(a=ee[1],H=ee[2]||q)}else(!H||_.implicitUnits)&&(H=q);if(a=parseFloat(a),isNaN(a)&&void 0===_.enums)return null;if(isNaN(a)&&void 0!==_.enums)return a=m,G();if(_.integer&&!function(a){return Je(a)&&Math.floor(a)===a}(a)||void 0!==_.min&&(a<_.min||_.strictMin&&a===_.min)||void 0!==_.max&&(a>_.max||_.strictMax&&a===_.max))return null;var K={name:l,value:a,strValue:""+a+(H||""),units:H,bypass:s};return K.pfValue=_.unitless||"px"!==H&&"em"!==H?a:"px"!==H&&H?this.getEmSizeInPixels()*a:a,("ms"===H||"s"===H)&&(K.pfValue="ms"===H?a:1e3*a),("deg"===H||"rad"===H)&&(K.pfValue="rad"===H?a:function(a){return Math.PI*a/180}(a)),"%"===H&&(K.pfValue=a/100),K}if(_.propList){var Q=[],ne=""+a;if("none"!==ne){for(var ce=ne.split(/\s*,\s*|\s+/),pe=0;pe<ce.length;pe++){var le=ce[pe].trim();u.properties[le]?Q.push(le):Pi("`"+le+"` is not a valid property name")}if(0===Q.length)return null}return{name:l,value:Q,strValue:0===Q.length?"none":Q.join(" "),bypass:s}}if(_.color){var se=function(a){return(gi(a)?a:null)||function(a){return ZC[a.toLowerCase()]}(a)||function(a){if((4===a.length||7===a.length)&&"#"===a[0]){var c,u,h,m=16;return 4===a.length?(c=parseInt(a[1]+a[1],m),u=parseInt(a[2]+a[2],m),h=parseInt(a[3]+a[3],m)):(c=parseInt(a[1]+a[2],m),u=parseInt(a[3]+a[4],m),h=parseInt(a[5]+a[6],m)),[c,u,h]}}(a)||function(a){var s,c=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(a);if(c){s=[];for(var u=[],h=1;h<=3;h++){var m=c[h];if("%"===m[m.length-1]&&(u[h]=!0),m=parseFloat(m),u[h]&&(m=m/100*255),m<0||m>255)return;s.push(Math.floor(m))}if((u[1]||u[2]||u[3])&&!(u[1]&&u[2]&&u[3]))return;var _=c[4];if(void 0!==_){if((_=parseFloat(_))<0||_>1)return;s.push(_)}}return s}(a)||function(a){var s,c,u,h,m,f,v,_;function b(k,M,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?k+6*(M-k)*S:S<.5?M:S<2/3?k+(M-k)*(2/3-S)*6:k}var w=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(a);if(w){if((c=parseInt(w[1]))<0?c=(360- -1*c%360)%360:c>360&&(c%=360),c/=360,(u=parseFloat(w[2]))<0||u>100||(u/=100,(h=parseFloat(w[3]))<0||h>100)||(h/=100,void 0!==(m=w[4])&&((m=parseFloat(m))<0||m>1)))return;if(0===u)f=v=_=Math.round(255*h);else{var x=h<.5?h*(1+u):h+u-h*u,D=2*h-x;f=Math.round(255*b(D,x,c+1/3)),v=Math.round(255*b(D,x,c)),_=Math.round(255*b(D,x,c-1/3))}s=[f,v,_,m]}return s}(a)}(a);return se?{name:l,value:se,pfValue:se,strValue:"rgb("+se[0]+","+se[1]+","+se[2]+")",bypass:s}:null}if(_.regex||_.regexes){if(_.enums){var Me=G();if(Me)return Me}for(var Se=_.regexes?_.regexes:[_.regex],xe=0;xe<Se.length;xe++){var te=new RegExp(Se[xe]).exec(a);if(te)return{name:l,value:_.singleRegexMatchValue?te[1]:te,strValue:""+a,bypass:s}}return null}return _.string?{name:l,value:""+a,strValue:""+a,bypass:s}:_.enums?G():null};var yi=function l(a){if(!(this instanceof l))return new l(a);kn(a)?(this._private={cy:a,coreStyle:{}},this.length=0,this.resetToDefault()):Yi("A style must have a core reference")},jn=yi.prototype;jn.instanceString=function(){return"style"},jn.clear=function(){for(var l=this._private,s=l.cy.elements(),c=0;c<this.length;c++)this[c]=void 0;return this.length=0,l.contextStyles={},l.propDiffs={},this.cleanElements(s,!0),s.forEach(function(u){var h=u[0]._private;h.styleDirty=!0,h.appliedInitStyle=!1}),this},jn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},jn.core=function(l){return this._private.coreStyle[l]||this.getDefaultProperty(l)},jn.selector=function(l){var a="core"===l?null:new so(l),s=this.length++;return this[s]={selector:a,properties:[],mappedProperties:[],index:s},this},jn.css=function(){var l=this,a=arguments;if(1===a.length)for(var s=a[0],c=0;c<l.properties.length;c++){var u=l.properties[c],h=s[u.name];void 0===h&&(h=s[Sh(u.name)]),void 0!==h&&this.cssRule(u.name,h)}else 2===a.length&&this.cssRule(a[0],a[1]);return this},jn.style=jn.css,jn.cssRule=function(l,a){var s=this.parse(l,a);if(s){var c=this.length-1;this[c].properties.push(s),this[c].properties[s.name]=s,s.name.match(/pie-(\d+)-background-size/)&&s.value&&(this._private.hasPie=!0),s.mapped&&this[c].mappedProperties.push(s),!this[c].selector&&(this._private.coreStyle[s.name]=s)}return this},jn.append=function(l){return vn(l)?l.appendToStyle(this):gi(l)?this.appendFromJson(l):We(l)&&this.appendFromString(l),this},yi.fromJson=function(l,a){var s=new yi(l);return s.fromJson(a),s},yi.fromString=function(l,a){return new yi(l).fromString(a)},[xr,$d,ng,mo,gm,Ds,dr,_m].forEach(function(l){Bt(jn,l)}),yi.types=jn.types,yi.properties=jn.properties,yi.propertyGroups=jn.propertyGroups,yi.propertyGroupNames=jn.propertyGroupNames,yi.propertyGroupKeys=jn.propertyGroupKeys;var Nc={style:function(a){return a&&this.setStyle(a).update(),this._private.style},setStyle:function(a){var s=this._private;return s.style=vn(a)?a.generateStyle(this):gi(a)?yi.fromJson(this,a):We(a)?yi.fromString(this,a):yi(this),s.style},updateStyle:function(){this.mutableElements().updateStyle()}},Un={autolock:function(a){return void 0===a?this._private.autolock:(this._private.autolock=!!a,this)},autoungrabify:function(a){return void 0===a?this._private.autoungrabify:(this._private.autoungrabify=!!a,this)},autounselectify:function(a){return void 0===a?this._private.autounselectify:(this._private.autounselectify=!!a,this)},selectionType:function(a){var s=this._private;return null==s.selectionType&&(s.selectionType="single"),void 0===a?s.selectionType:(("additive"===a||"single"===a)&&(s.selectionType=a),this)},panningEnabled:function(a){return void 0===a?this._private.panningEnabled:(this._private.panningEnabled=!!a,this)},userPanningEnabled:function(a){return void 0===a?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!a,this)},zoomingEnabled:function(a){return void 0===a?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!a,this)},userZoomingEnabled:function(a){return void 0===a?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!a,this)},boxSelectionEnabled:function(a){return void 0===a?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!a,this)},pan:function(){var c,u,h,m,f,a=arguments,s=this._private.pan;switch(a.length){case 0:return s;case 1:if(We(a[0]))return s[c=a[0]];if(vt(a[0])){if(!this._private.panningEnabled)return this;f=(h=a[0]).y,Je(m=h.x)&&(s.x=m),Je(f)&&(s.y=f),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;u=a[1],("x"===(c=a[0])||"y"===c)&&Je(u)&&(s[c]=u),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(a,s){var h,m,f,v,_,c=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(c.length){case 1:vt(a)&&(_=(f=c[0]).y,Je(v=f.x)&&(u.x+=v),Je(_)&&(u.y+=_),this.emit("pan viewport"));break;case 2:m=s,("x"===(h=a)||"y"===h)&&Je(m)&&(u[h]+=m),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(a,s){var c=this.getFitViewport(a,s);if(c){var u=this._private;u.zoom=c.zoom,u.pan=c.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(a,s){var c;if((Je(a)&&void 0===s&&(s=a,a=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(We(a)?a=this.$(a):!function(a){return vt(a)&&Je(a.x1)&&Je(a.x2)&&Je(a.y1)&&Je(a.y2)}(a)?Ce(a)||(a=this.mutableElements()):((c={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}).w=c.x2-c.x1,c.h=c.y2-c.y1),!Ce(a)||!a.empty())){c=c||a.boundingBox();var v,m=this.width(),f=this.height();if(s=Je(s)?s:0,!isNaN(m)&&!isNaN(f)&&m>0&&f>0&&!isNaN(c.w)&&!isNaN(c.h)&&c.w>0&&c.h>0)return{zoom:v=(v=(v=Math.min((m-2*s)/c.w,(f-2*s)/c.h))>this._private.maxZoom?this._private.maxZoom:v)<this._private.minZoom?this._private.minZoom:v,pan:{x:(m-v*(c.x1+c.x2))/2,y:(f-v*(c.y1+c.y2))/2}}}},zoomRange:function(a,s){var c=this._private;if(null==s){var u=a;a=u.min,s=u.max}return Je(a)&&Je(s)&&a<=s?(c.minZoom=a,c.maxZoom=s):Je(a)&&void 0===s&&a<=c.maxZoom?c.minZoom=a:Je(s)&&void 0===a&&s>=c.minZoom&&(c.maxZoom=s),this},minZoom:function(a){return void 0===a?this._private.minZoom:this.zoomRange({min:a})},maxZoom:function(a){return void 0===a?this._private.maxZoom:this.zoomRange({max:a})},getZoomedViewport:function(a){var h,m,s=this._private,c=s.pan,u=s.zoom,f=!1;return s.zoomingEnabled||(f=!0),Je(a)?m=a:vt(a)&&(m=a.level,null!=a.position?h=Bh(a.position,u,c):null!=a.renderedPosition&&(h=a.renderedPosition),null!=h&&!s.panningEnabled&&(f=!0)),m=(m=m>s.maxZoom?s.maxZoom:m)<s.minZoom?s.minZoom:m,!f&&Je(m)&&m!==u&&(null==h||Je(h.x)&&Je(h.y))?null!=h?{zoomed:!0,panned:!0,zoom:m,pan:{x:-m/u*(h.x-c.x)+h.x,y:-m/u*(h.y-c.y)+h.y}}:{zoomed:!0,panned:!1,zoom:m,pan:c}:null},zoom:function(a){if(void 0===a)return this._private.zoom;var s=this.getZoomedViewport(a),c=this._private;return null!=s&&s.zoomed?(c.zoom=s.zoom,s.panned&&(c.pan.x=s.pan.x,c.pan.y=s.pan.y),this.emit("zoom"+(s.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(a){var s=this._private,c=!0,u=!0,h=[],m=!1,f=!1;if(!a)return this;if(Je(a.zoom)||(c=!1),vt(a.pan)||(u=!1),!c&&!u)return this;if(c){var v=a.zoom;v<s.minZoom||v>s.maxZoom||!s.zoomingEnabled?m=!0:(s.zoom=v,h.push("zoom"))}if(u&&(!m||!a.cancelOnFailedZoom)&&s.panningEnabled){var _=a.pan;Je(_.x)&&(s.pan.x=_.x,f=!1),Je(_.y)&&(s.pan.y=_.y,f=!1),f||h.push("pan")}return h.length>0&&(h.push("viewport"),this.emit(h.join(" ")),this.notify("viewport")),this},center:function(a){var s=this.getCenterPan(a);return s&&(this._private.pan=s,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(a,s){if(this._private.panningEnabled){if(We(a)){var c=a;a=this.mutableElements().filter(c)}else Ce(a)||(a=this.mutableElements());if(0!==a.length){var u=a.boundingBox(),h=this.width(),m=this.height();return{x:(h-(s=void 0===s?this._private.zoom:s)*(u.x1+u.x2))/2,y:(m-s*(u.y1+u.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var c,u,a=this._private,s=a.container;return a.sizeCache=a.sizeCache||(s?(c=Nt.getComputedStyle(s),{width:s.clientWidth-(u=function(m){return parseFloat(c.getPropertyValue(m))})("padding-left")-u("padding-right"),height:s.clientHeight-u("padding-top")-u("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var a=this._private.pan,s=this._private.zoom,c=this.renderedExtent(),u={x1:(c.x1-a.x)/s,x2:(c.x2-a.x)/s,y1:(c.y1-a.y)/s,y2:(c.y2-a.y)/s};return u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},renderedExtent:function(){var a=this.width(),s=this.height();return{x1:0,y1:0,x2:a,y2:s,w:a,h:s}},multiClickDebounceTime:function(a){return a?(this._private.multiClickDebounceTime=a,this):this._private.multiClickDebounceTime}};Un.centre=Un.center,Un.autolockNodes=Un.autolock,Un.autoungrabifyNodes=Un.autoungrabify;var Ca={data:Ni.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ni.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ni.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ni.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ca.attr=Ca.data,Ca.removeAttr=Ca.removeData;var Al=function(a){var s=this,c=(a=Bt({},a)).container;c&&!wd(c)&&wd(c[0])&&(c=c[0]);var u=c?c._cyreg:null;(u=u||{})&&u.cy&&(u.cy.destroy(),u={});var h=u.readies=u.readies||[];c&&(c._cyreg=u),u.cy=s;var m=void 0!==Nt&&void 0!==c&&!a.headless,f=a;f.layout=Bt({name:m?"grid":"null"},f.layout),f.renderer=Bt({name:m?"canvas":"null"},f.renderer);var v=function(k,M,S){return void 0!==M?M:void 0!==S?S:k},_=this._private={container:c,ready:!1,options:f,elements:new zn(this),listeners:[],aniEles:new zn(this),data:f.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:v(!0,f.zoomingEnabled),userZoomingEnabled:v(!0,f.userZoomingEnabled),panningEnabled:v(!0,f.panningEnabled),userPanningEnabled:v(!0,f.userPanningEnabled),boxSelectionEnabled:v(!0,f.boxSelectionEnabled),autolock:v(!1,f.autolock,f.autolockNodes),autoungrabify:v(!1,f.autoungrabify,f.autoungrabifyNodes),autounselectify:v(!1,f.autounselectify),styleEnabled:void 0===f.styleEnabled?m:f.styleEnabled,zoom:Je(f.zoom)?f.zoom:1,pan:{x:vt(f.pan)&&Je(f.pan.x)?f.pan.x:0,y:vt(f.pan)&&Je(f.pan.y)?f.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:v(250,f.multiClickDebounceTime)};this.createEmitter(),this.selectionType(f.selectionType),this.zoomRange({min:f.minZoom,max:f.maxZoom}),_.styleEnabled&&s.setStyle([]);var w=Bt({},f,f.renderer);s.initRenderer(w),function(k,M){if(k.some(nf))return Cc.all(k).then(M);M(k)}([f.style,f.elements],function(D){var k=D[0],M=D[1];_.styleEnabled&&s.style().append(k),function(k,M,S){s.notifications(!1);var T=s.mutableElements();T.length>0&&T.remove(),null!=k&&(vt(k)||gi(k))&&s.add(k),s.one("layoutready",function(O){s.notifications(!0),s.emit(O),s.one("load",M),s.emitAndNotify("load")}).one("layoutstop",function(){s.one("done",S),s.emit("done")});var R=Bt({},s._private.options.layout);R.eles=s.elements(),s.layout(R).run()}(M,function(){s.startAnimationLoop(),_.ready=!0,Ai(f.ready)&&s.on("ready",f.ready);for(var S=0;S<h.length;S++)s.on("ready",h[S]);u&&(u.readies=[]),s.emit("ready")},f.done)})},ks=Al.prototype;Bt(ks,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(a){return this.isReady()?this.emitter().emit("ready",[],a):this.on("ready",a),this},destroy:function(){var a=this;if(!a.destroyed())return a.stopAnimationLoop(),a.destroyRenderer(),this.emit("destroy"),a._private.destroyed=!0,a},hasElementWithId:function(a){return this._private.elements.hasElementWithId(a)},getElementById:function(a){return this._private.elements.getElementById(a)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(a){return this._private.elements.merge(a),this},removeFromPool:function(a){return this._private.elements.unmerge(a),this},container:function(){return this._private.container||null},mount:function(a){if(null!=a){var s=this,c=s._private,u=c.options;return!wd(a)&&wd(a[0])&&(a=a[0]),s.stopAnimationLoop(),s.destroyRenderer(),c.container=a,c.styleEnabled=!0,s.invalidateSize(),s.initRenderer(Bt({},u,u.renderer,{name:"null"===u.renderer.name?"canvas":u.renderer.name})),s.startAnimationLoop(),s.style(u.style),s.emit("mount"),s}},unmount:function(){var a=this;return a.stopAnimationLoop(),a.destroyRenderer(),a.initRenderer({name:"null"}),a.emit("unmount"),a},options:function(){return na(this._private.options)},json:function(a){var s=this,c=s._private,u=s.mutableElements();if(vt(a)){if(s.startBatch(),a.elements){var m={},f=function(F,j){for(var U=[],L=[],z=0;z<F.length;z++){var N=F[z];if(N.data.id){var W=""+N.data.id,G=s.getElementById(W);m[W]=!0,0!==G.length?L.push({ele:G,json:N}):(j&&(N.group=j),U.push(N))}else Pi("cy.json() cannot handle elements without an ID attribute")}s.add(U);for(var H=0;H<L.length;H++){var q=L[H];q.ele.json(q.json)}};if(gi(a.elements))f(a.elements);else for(var v=["nodes","edges"],_=0;_<v.length;_++){var b=v[_],w=a.elements[b];gi(w)&&f(w,b)}var x=s.collection();u.filter(function(O){return!m[O.id()]}).forEach(function(O){O.isParent()?x.merge(O):O.remove()}),x.forEach(function(O){return O.children().move({parent:null})}),x.forEach(function(O){return(F=O,s.getElementById(F.id())).remove();var F})}a.style&&s.style(a.style),null!=a.zoom&&a.zoom!==c.zoom&&s.zoom(a.zoom),a.pan&&(a.pan.x!==c.pan.x||a.pan.y!==c.pan.y)&&s.pan(a.pan),a.data&&s.data(a.data);for(var D=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],k=0;k<D.length;k++){var M=D[k];null!=a[M]&&s[M](a[M])}return s.endBatch(),this}var T={};a?T.elements=this.elements().map(function(O){return O.json()}):(T.elements={},u.forEach(function(O){var F=O.group();T.elements[F]||(T.elements[F]=[]),T.elements[F].push(O.json())})),this._private.styleEnabled&&(T.style=s.style().json()),T.data=na(s.data());var R=c.options;return T.zoomingEnabled=c.zoomingEnabled,T.userZoomingEnabled=c.userZoomingEnabled,T.zoom=c.zoom,T.minZoom=c.minZoom,T.maxZoom=c.maxZoom,T.panningEnabled=c.panningEnabled,T.userPanningEnabled=c.userPanningEnabled,T.pan=na(c.pan),T.boxSelectionEnabled=c.boxSelectionEnabled,T.renderer=na(R.renderer),T.hideEdgesOnViewport=R.hideEdgesOnViewport,T.textureOnViewport=R.textureOnViewport,T.wheelSensitivity=R.wheelSensitivity,T.motionBlur=R.motionBlur,T.multiClickDebounceTime=R.multiClickDebounceTime,T}}),ks.$id=ks.getElementById,[dy,Ar,Cs,jd,Tl,Il,fm,oe,Nc,Un,Ca].forEach(function(l){Bt(ks,l)});var Bc={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,s){return!0},ready:void 0,stop:void 0,transform:function(a,s){return s}},Rl=function(a){return a.scratch("breadthfirst")},my=function(a,s){return a.scratch("breadthfirst",s)};function rg(l){this.options=Bt({},Bc,l)}rg.prototype.run=function(){var _,l=this.options,a=l,s=l.cy,c=a.eles,u=c.nodes().filter(function(Xe){return!Xe.isParent()}),h=c,m=a.directed,f=a.maximal||a.maximalAdjustments>0,v=zr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(Ce(a.roots))_=a.roots;else if(gi(a.roots)){for(var b=[],w=0;w<a.roots.length;w++){var D=s.getElementById(a.roots[w]);b.push(D)}_=s.collection(b)}else if(We(a.roots))_=s.$(a.roots);else if(m)_=u.roots();else{var k=c.components();_=s.collection();for(var M=function(Ue){var Tt=k[Ue],ft=Tt.maxDegree(!1),et=Tt.filter(function(xt){return xt.degree(!1)===ft});_=_.add(et)},S=0;S<k.length;S++)M(S)}var T=[],R={},O=function(Ue,Tt){null==T[Tt]&&(T[Tt]=[]);var ft=T[Tt].length;T[Tt].push(Ue),my(Ue,{index:ft,depth:Tt})};h.bfs({roots:_,directed:a.directed,visit:function(Ue,Tt,ft,et,xt){var ci=Ue[0],Xt=ci.id();O(ci,xt),R[Xt]=!0}});for(var j=[],U=0;U<u.length;U++){var L=u[U];R[L.id()]||j.push(L)}var z=function(Ue){for(var Tt=T[Ue],ft=0;ft<Tt.length;ft++){var et=Tt[ft];null!=et?my(et,{depth:Ue,index:ft}):(Tt.splice(ft,1),ft--)}},N=function(){for(var Ue=0;Ue<T.length;Ue++)z(Ue)},W=function(Ue,Tt){for(var ft=Rl(Ue),et=Ue.incomers().filter(function(V){return V.isNode()&&c.has(V)}),xt=-1,ci=Ue.id(),Xt=0;Xt<et.length;Xt++){var Le=Rl(et[Xt]);xt=Math.max(xt,Le.depth)}return ft.depth<=xt&&(Tt[ci]?null:(function(Ue,Tt){var ft=Rl(Ue);T[ft.depth][ft.index]=null,O(Ue,Tt)}(Ue,xt+1),Tt[ci]=!0,!0))};if(m&&f){var G=[],H={},q=function(Ue){return G.push(Ue)};for(u.forEach(function(Xe){return G.push(Xe)});G.length>0;){var ee=G.shift(),K=W(ee,H);if(K)ee.outgoers().filter(function(Xe){return Xe.isNode()&&c.has(Xe)}).forEach(q);else if(null===K){Pi("Detected double maximal shift for node `"+ee.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}N();var Q=0;if(a.avoidOverlap)for(var ne=0;ne<u.length;ne++){var pe=u[ne].layoutDimensions(a);Q=Math.max(Q,pe.w,pe.h)}var Me={},Se=function(Ue){if(Me[Ue.id()])return Me[Ue.id()];for(var Tt=Rl(Ue).depth,ft=Ue.neighborhood(),et=0,xt=0,ci=0;ci<ft.length;ci++){var Xt=ft[ci];if(!Xt.isEdge()&&!Xt.isParent()&&u.has(Xt)){var Ot=Rl(Xt);if(null!=Ot){var Le=Ot.index,V=Ot.depth;null!=Le&&null!=V&&V<Tt&&(et+=Le/T[V].length,xt++)}}}return et/=xt=Math.max(1,xt),0===xt&&(et=0),Me[Ue.id()]=et,et},xe=function(Ue,Tt){var xt=Se(Ue)-Se(Tt);return 0===xt?lf(Ue.id(),Tt.id()):xt};void 0!==a.depthSort&&(xe=a.depthSort);for(var ye=0;ye<T.length;ye++)T[ye].sort(xe),z(ye);for(var te=[],Ee=0;Ee<j.length;Ee++)te.push(j[Ee]);T.unshift(te),N();for(var Ie=0,Be=0;Be<T.length;Be++)Ie=Math.max(T[Be].length,Ie);var Ke_x=v.x1+v.w/2,Ke_y=v.x1+v.h/2,jt=T.reduce(function(Xe,Ue){return Math.max(Xe,Ue.length)},0);return c.nodes().layoutPositions(this,a,function(Ue){var Tt=Rl(Ue),ft=Tt.depth,et=Tt.index,xt=T[ft].length,ci=Math.max(v.w/((a.grid?jt:xt)+1),Q),Xt=Math.max(v.h/(T.length+1),Q),Ot=Math.min(v.w/2/T.length,v.h/2/T.length);if(Ot=Math.max(Ot,Q),a.circle){var V=Ot*ft+Ot-(T.length>0&&T[0].length<=3?Ot/2:0),de=2*Math.PI/T[ft].length*et;return 0===ft&&1===T[0].length&&(V=1),{x:Ke_x+V*Math.cos(de),y:Ke_y+V*Math.sin(de)}}return{x:Ke_x+(et+1-(xt+1)/2)*ci,y:(ft+1)*Xt}}),this};var vD={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,s){return!0},ready:void 0,stop:void 0,transform:function(a,s){return s}};function Rr(l){this.options=Bt({},vD,l)}Rr.prototype.run=function(){var l=this.options,a=l,s=l.cy,c=a.eles,u=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise,h=c.nodes().not(":parent");a.sort&&(h=h.sort(a.sort));for(var b,m=zr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),f={x:m.x1+m.w/2,y:m.y1+m.h/2},_=(void 0===a.sweep?2*Math.PI-2*Math.PI/h.length:a.sweep)/Math.max(1,h.length-1),w=0,x=0;x<h.length;x++){var k=h[x].layoutDimensions(a);w=Math.max(w,k.w,k.h)}if(b=Je(a.radius)?a.radius:h.length<=1?0:Math.min(m.h,m.w)/2-w,h.length>1&&a.avoidOverlap){w*=1.75;var T=Math.cos(_)-Math.cos(0),R=Math.sin(_)-Math.sin(0),O=Math.sqrt(w*w/(T*T+R*R));b=Math.max(O,b)}return c.nodes().layoutPositions(this,a,function(U,L){var z=a.startAngle+L*_*(u?1:-1),N=b*Math.cos(z),W=b*Math.sin(z);return{x:f.x+N,y:f.y+W}}),this};var vm={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(a){return a.degree()},levelWidth:function(a){return a.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,s){return!0},ready:void 0,stop:void 0,transform:function(a,s){return s}};function Ms(l){this.options=Bt({},vm,l)}Ms.prototype.run=function(){for(var l=this.options,a=l,s=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise,c=l.cy,u=a.eles,h=u.nodes().not(":parent"),m=zr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),f={x:m.x1+m.w/2,y:m.y1+m.h/2},v=[],_=0,b=0;b<h.length;b++){var x,w=h[b];x=a.concentric(w),v.push({value:x,node:w}),w._private.scratch.concentric=x}h.updateStyle();for(var D=0;D<h.length;D++){var M=h[D].layoutDimensions(a);_=Math.max(_,M.w,M.h)}v.sort(function(Xe,Ue){return Ue.value-Xe.value});for(var S=a.levelWidth(h),T=[[]],R=T[0],O=0;O<v.length;O++){var F=v[O];R.length>0&&Math.abs(R[0].value-F.value)>=S&&T.push(R=[]),R.push(F)}var U=_+a.minNodeSpacing;if(!a.avoidOverlap){var L=T.length>0&&T[0].length>1,z=Math.min(m.w,m.h)/2-U;U=Math.min(U,z/(T.length+L?1:0))}for(var W=0,G=0;G<T.length;G++){var H=T[G],q=void 0===a.sweep?2*Math.PI-2*Math.PI/H.length:a.sweep,$=H.dTheta=q/Math.max(1,H.length-1);if(H.length>1&&a.avoidOverlap){var ee=Math.cos($)-Math.cos(0),K=Math.sin($)-Math.sin(0),Q=Math.sqrt(U*U/(ee*ee+K*K));W=Math.max(Q,W)}H.r=W,W+=U}if(a.equidistant){for(var ne=0,ce=0,pe=0;pe<T.length;pe++)ne=Math.max(ne,T[pe].r-ce);ce=0;for(var Me=0;Me<T.length;Me++){var Se=T[Me];0===Me&&(ce=Se.r),Se.r=ce,ce+=ne}}for(var xe={},ye=0;ye<T.length;ye++)for(var te=T[ye],Ee=te.dTheta,Ie=te.r,Be=0;Be<te.length;Be++){var Ke=te[Be],jt=a.startAngle+(s?1:-1)*Ee*Be,Zt={x:f.x+Ie*Math.cos(jt),y:f.y+Ie*Math.sin(jt)};xe[Ke.node.id()]=Zt}return u.nodes().layoutPositions(this,a,function(Xe){var Ue=Xe.id();return xe[Ue]}),this};var ag,og={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(a,s){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(a){return 2048},nodeOverlap:4,idealEdgeLength:function(a){return 32},edgeElasticity:function(a){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Gd(l){this.options=Bt({},og,l),this.options.layout=this}Gd.prototype.run=function(){var l=this.options,a=l.cy,s=this;s.stopped=!1,(!0===l.animate||!1===l.animate)&&s.emit({type:"layoutstart",layout:s}),ag=!0===l.debug;var c=py(a,s,l);ag&&(void 0)(c),l.randomize&&vy(c);var u=ma(),h=function(){Yd(c,a,l),!0===l.fit&&a.fit(l.padding)},m=function(x){return!(s.stopped||x>=l.numIter||(Vc(c,l),c.temperature=c.temperature*l.coolingFactor,c.temperature<l.minTemp))},f=function(){if(!0===l.animate||!1===l.animate)h(),s.one("layoutstop",l.stop),s.emit({type:"layoutstop",layout:s});else{var x=l.eles.nodes(),D=Wd(c,l,x);x.layoutPositions(s,l,D)}},v=0,_=!0;if(!0===l.animate)!function w(){for(var x=0;_&&x<l.refresh;)_=m(v),v++,x++;_?(ma()-u>=l.animationThreshold&&h(),Th(w)):(Pl(c,l),f())}();else{for(;_;)_=m(v),v++;Pl(c,l),f()}return this},Gd.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Gd.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var py=function(a,s,c){for(var u=c.eles.edges(),h=c.eles.nodes(),m={isCompound:a.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:h.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:u.size(),temperature:c.initialTemp,clientWidth:a.width(),clientHeight:a.width(),boundingBox:zr(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()})},f=c.eles.components(),v={},_=0;_<f.length;_++)for(var b=f[_],w=0;w<b.length;w++)v[b[w].id()]=_;for(_=0;_<m.nodeSize;_++){var k=(D=h[_]).layoutDimensions(c);(M={}).isLocked=D.locked(),M.id=D.data("id"),M.parentId=D.data("parent"),M.cmptId=v[D.id()],M.children=[],M.positionX=D.position("x"),M.positionY=D.position("y"),M.offsetX=0,M.offsetY=0,M.height=k.w,M.width=k.h,M.maxX=M.positionX+M.width/2,M.minX=M.positionX-M.width/2,M.maxY=M.positionY+M.height/2,M.minY=M.positionY-M.height/2,M.padLeft=parseFloat(D.style("padding")),M.padRight=parseFloat(D.style("padding")),M.padTop=parseFloat(D.style("padding")),M.padBottom=parseFloat(D.style("padding")),M.nodeRepulsion=Ai(c.nodeRepulsion)?c.nodeRepulsion(D):c.nodeRepulsion,m.layoutNodes.push(M),m.idToIndex[M.id]=_}var S=[],T=0,R=-1,O=[];for(_=0;_<m.nodeSize;_++){var D,F=(D=m.layoutNodes[_]).parentId;null!=F?m.layoutNodes[m.idToIndex[F]].children.push(D.id):(S[++R]=D.id,O.push(D.id))}for(m.graphSet.push(O);T<=R;){var j=S[T++],L=m.layoutNodes[m.idToIndex[j]].children;if(L.length>0)for(m.graphSet.push(L),_=0;_<L.length;_++)S[++R]=L[_]}for(_=0;_<m.graphSet.length;_++){var z=m.graphSet[_];for(w=0;w<z.length;w++)m.indexToGraph[m.idToIndex[z[w]]]=_}for(_=0;_<m.edgeSize;_++){var W=u[_],G={};G.id=W.data("id"),G.sourceId=W.data("source"),G.targetId=W.data("target");var H=Ai(c.idealEdgeLength)?c.idealEdgeLength(W):c.idealEdgeLength,q=Ai(c.edgeElasticity)?c.edgeElasticity(W):c.edgeElasticity,$=m.idToIndex[G.sourceId],ee=m.idToIndex[G.targetId];if(m.indexToGraph[$]!=m.indexToGraph[ee]){for(var ne=fy(G.sourceId,G.targetId,m),ce=m.graphSet[ne],pe=0,M=m.layoutNodes[$];-1===ce.indexOf(M.id);)M=m.layoutNodes[m.idToIndex[M.parentId]],pe++;for(M=m.layoutNodes[ee];-1===ce.indexOf(M.id);)M=m.layoutNodes[m.idToIndex[M.parentId]],pe++;H*=pe*c.nestingFactor}G.idealLength=H,G.elasticity=q,m.layoutEdges.push(G)}return m},fy=function(a,s,c){var u=gy(a,s,0,c);return 2>u.count?0:u.graph},gy=function l(a,s,c,u){var h=u.graphSet[c];if(-1<h.indexOf(a)&&-1<h.indexOf(s))return{count:2,graph:c};for(var m=0,f=0;f<h.length;f++){var b=u.layoutNodes[u.idToIndex[h[f]]].children;if(0!==b.length){var x=l(a,s,u.indexToGraph[u.idToIndex[b[0]]],u);if(0!==x.count){if(1!==x.count)return x;if(2==++m)break}}}return{count:m,graph:c}},vy=function(a,s){for(var c=a.clientWidth,u=a.clientHeight,h=0;h<a.nodeSize;h++){var m=a.layoutNodes[h];0===m.children.length&&!m.isLocked&&(m.positionX=Math.random()*c,m.positionY=Math.random()*u)}},Wd=function(a,s,c){var u=a.boundingBox,h={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return s.boundingBox&&(c.forEach(function(m){var f=a.layoutNodes[a.idToIndex[m.data("id")]];h.x1=Math.min(h.x1,f.positionX),h.x2=Math.max(h.x2,f.positionX),h.y1=Math.min(h.y1,f.positionY),h.y2=Math.max(h.y2,f.positionY)}),h.w=h.x2-h.x1,h.h=h.y2-h.y1),function(m,f){var v=a.layoutNodes[a.idToIndex[m.data("id")]];return s.boundingBox?{x:u.x1+(v.positionX-h.x1)/h.w*u.w,y:u.y1+(v.positionY-h.y1)/h.h*u.h}:{x:v.positionX,y:v.positionY}}},Yd=function(a,s,c){var u=c.layout,h=c.eles.nodes(),m=Wd(a,c,h);h.positions(m),!0!==a.ready&&(a.ready=!0,u.one("layoutready",c.ready),u.emit({type:"layoutready",layout:this}))},Vc=function(a,s,c){Cr(a,s),zc(a),qd(a,s),sg(a),yy(a)},Cr=function(a,s){for(var c=0;c<a.graphSet.length;c++)for(var u=a.graphSet[c],h=u.length,m=0;m<h;m++)for(var f=a.layoutNodes[a.idToIndex[u[m]]],v=m+1;v<h;v++)Yr(f,a.layoutNodes[a.idToIndex[u[v]]],a,s)},bm=function(a){return-a+2*a*Math.random()},Yr=function(a,s,c,u){if(a.cmptId===s.cmptId||c.isCompound){var f=s.positionX-a.positionX,v=s.positionY-a.positionY;0===f&&0===v&&(f=bm(1),v=bm(1));var b=by(a,s,f,v);if(b>0)var D=(w=u.nodeOverlap*b)*f/(x=Math.sqrt(f*f+v*v)),k=w*v/x;else{var w,M=Hc(a,f,v),S=Hc(s,-1*f,-1*v),T=S.x-M.x,R=S.y-M.y,O=T*T+R*R,x=Math.sqrt(O);D=(w=(a.nodeRepulsion+s.nodeRepulsion)/O)*T/x,k=w*R/x}a.isLocked||(a.offsetX-=D,a.offsetY-=k),s.isLocked||(s.offsetX+=D,s.offsetY+=k)}},by=function(a,s,c,u){if(c>0)var h=a.maxX-s.minX;else h=s.maxX-a.minX;if(u>0)var m=a.maxY-s.minY;else m=s.maxY-a.minY;return h>=0&&m>=0?Math.sqrt(h*h+m*m):0},Hc=function(a,s,c){var u=a.positionX,h=a.positionY,m=a.height||1,f=a.width||1,v=c/s,_=m/f,b={};return 0===s&&0<c||0===s&&0>c?(b.x=u,b.y=h+m/2,b):0<s&&-1*_<=v&&v<=_?(b.x=u+f/2,b.y=h+f*c/2/s,b):0>s&&-1*_<=v&&v<=_?(b.x=u-f/2,b.y=h-f*c/2/s,b):0<c&&(v<=-1*_||v>=_)?(b.x=u+m*s/2/c,b.y=h+m/2,b):(0>c&&(v<=-1*_||v>=_)&&(b.x=u-m*s/2/c,b.y=h-m/2),b)},zc=function(a,s){for(var c=0;c<a.edgeSize;c++){var u=a.layoutEdges[c],m=a.layoutNodes[a.idToIndex[u.sourceId]],v=a.layoutNodes[a.idToIndex[u.targetId]],_=v.positionX-m.positionX,b=v.positionY-m.positionY;if(0!==_||0!==b){var w=Hc(m,_,b),x=Hc(v,-1*_,-1*b),D=x.x-w.x,k=x.y-w.y,M=Math.sqrt(D*D+k*k),S=Math.pow(u.idealLength-M,2)/u.elasticity;if(0!==M)var T=S*D/M,R=S*k/M;else T=0,R=0;m.isLocked||(m.offsetX+=T,m.offsetY+=R),v.isLocked||(v.offsetX-=T,v.offsetY-=R)}}},qd=function(a,s){if(0!==s.gravity)for(var u=0;u<a.graphSet.length;u++){var h=a.graphSet[u],m=h.length;if(0===u)var f=a.clientHeight/2,v=a.clientWidth/2;else{var b=a.layoutNodes[a.idToIndex[a.layoutNodes[a.idToIndex[h[0]]].parentId]];f=b.positionX,v=b.positionY}for(var w=0;w<m;w++){var x=a.layoutNodes[a.idToIndex[h[w]]];if(!x.isLocked){var D=f-x.positionX,k=v-x.positionY,M=Math.sqrt(D*D+k*k);if(M>1){var T=s.gravity*k/M;x.offsetX+=s.gravity*D/M,x.offsetY+=T}}}}},sg=function(a,s){var c=[],u=0,h=-1;for(c.push.apply(c,a.graphSet[0]),h+=a.graphSet[0].length;u<=h;){var m=c[u++],v=a.layoutNodes[a.idToIndex[m]],_=v.children;if(0<_.length&&!v.isLocked){for(var b=v.offsetX,w=v.offsetY,x=0;x<_.length;x++){var D=a.layoutNodes[a.idToIndex[_[x]]];D.offsetX+=b,D.offsetY+=w,c[++h]=_[x]}v.offsetX=0,v.offsetY=0}}},yy=function(a,s){for(var c=0;c<a.nodeSize;c++)0<(u=a.layoutNodes[c]).children.length&&(u.maxX=void 0,u.minX=void 0,u.maxY=void 0,u.minY=void 0);for(c=0;c<a.nodeSize;c++)if(!(0<(u=a.layoutNodes[c]).children.length||u.isLocked)){var h=wy(u.offsetX,u.offsetY,a.temperature);u.positionX+=h.x,u.positionY+=h.y,u.offsetX=0,u.offsetY=0,u.minX=u.positionX-u.width,u.maxX=u.positionX+u.width,u.minY=u.positionY-u.height,u.maxY=u.positionY+u.height,Ol(u,a)}for(c=0;c<a.nodeSize;c++){var u;0<(u=a.layoutNodes[c]).children.length&&!u.isLocked&&(u.positionX=(u.maxX+u.minX)/2,u.positionY=(u.maxY+u.minY)/2,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY)}},wy=function(a,s,c){var u=Math.sqrt(a*a+s*s);if(u>c)var h={x:c*a/u,y:c*s/u};else h={x:a,y:s};return h},Ol=function l(a,s){var c=a.parentId;if(null!=c){var u=s.layoutNodes[s.idToIndex[c]],h=!1;if((null==u.maxX||a.maxX+u.padRight>u.maxX)&&(u.maxX=a.maxX+u.padRight,h=!0),(null==u.minX||a.minX-u.padLeft<u.minX)&&(u.minX=a.minX-u.padLeft,h=!0),(null==u.maxY||a.maxY+u.padBottom>u.maxY)&&(u.maxY=a.maxY+u.padBottom,h=!0),(null==u.minY||a.minY-u.padTop<u.minY)&&(u.minY=a.minY-u.padTop,h=!0),h)return l(u,s)}},Pl=function(a,s){for(var c=a.layoutNodes,u=[],h=0;h<c.length;h++){var m=c[h],f=m.cmptId;(u[f]=u[f]||[]).push(m)}var _=0;for(h=0;h<u.length;h++)if(b=u[h]){b.x1=1/0,b.x2=-1/0,b.y1=1/0,b.y2=-1/0;for(var w=0;w<b.length;w++){var x=b[w];b.x1=Math.min(b.x1,x.positionX-x.width/2),b.x2=Math.max(b.x2,x.positionX+x.width/2),b.y1=Math.min(b.y1,x.positionY-x.height/2),b.y2=Math.max(b.y2,x.positionY+x.height/2)}b.w=b.x2-b.x1,b.h=b.y2-b.y1,_+=b.w*b.h}u.sort(function(R,O){return O.w*O.h-R.w*R.h});var D=0,k=0,M=0,S=0,T=Math.sqrt(_)*a.clientWidth/a.clientHeight;for(h=0;h<u.length;h++){var b;if(b=u[h]){for(w=0;w<b.length;w++)(x=b[w]).isLocked||(x.positionX+=D-b.x1,x.positionY+=k-b.y1);D+=b.w+s.componentSpacing,M+=b.w+s.componentSpacing,S=Math.max(S,b.h),M>T&&(k+=S+s.componentSpacing,D=0,M=0,S=0)}}},xy={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(a){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,s){return!0},ready:void 0,stop:void 0,transform:function(a,s){return s}};function Cy(l){this.options=Bt({},xy,l)}Cy.prototype.run=function(){var l=this.options,a=l,s=l.cy,c=a.eles,u=c.nodes().not(":parent");a.sort&&(u=u.sort(a.sort));var h=zr(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()});if(0===h.h||0===h.w)c.nodes().layoutPositions(this,a,function(Me){return{x:h.x1,y:h.y1}});else{var m=u.size(),f=Math.sqrt(m*h.h/h.w),v=Math.round(f),_=Math.round(h.w/h.h*f),b=function(Se){if(null==Se)return Math.min(v,_);Math.min(v,_)==v?v=Se:_=Se},w=function(Se){if(null==Se)return Math.max(v,_);Math.max(v,_)==v?v=Se:_=Se},x=a.rows,D=null!=a.cols?a.cols:a.columns;if(null!=x&&null!=D)v=x,_=D;else if(null!=x&&null==D)v=x,_=Math.ceil(m/v);else if(null==x&&null!=D)_=D,v=Math.ceil(m/_);else if(_*v>m){var k=b(),M=w();(k-1)*M>=m?b(k-1):(M-1)*k>=m&&w(M-1)}else for(;_*v<m;){var S=b(),T=w();(T+1)*S>=m?w(T+1):b(S+1)}var R=h.w/_,O=h.h/v;if(a.condense&&(R=0,O=0),a.avoidOverlap)for(var F=0;F<u.length;F++){var j=u[F],U=j._private.position;(null==U.x||null==U.y)&&(U.x=0,U.y=0);var L=j.layoutDimensions(a),z=a.avoidOverlapPadding,W=L.h+z;R=Math.max(R,L.w+z),O=Math.max(O,W)}for(var G={},H=function(Se,xe){return!!G["c-"+Se+"-"+xe]},q=function(Se,xe){G["c-"+Se+"-"+xe]=!0},$=0,ee=0,K=function(){++ee>=_&&(ee=0,$++)},Q={},ne=0;ne<u.length;ne++){var ce=u[ne],pe=a.position(ce);if(pe&&(void 0!==pe.row||void 0!==pe.col)){var le={row:pe.row,col:pe.col};if(void 0===le.col)for(le.col=0;H(le.row,le.col);)le.col++;else if(void 0===le.row)for(le.row=0;H(le.row,le.col);)le.row++;Q[ce.id()]=le,q(le.row,le.col)}}u.layoutPositions(this,a,function(Se,xe){var ye,te;if(Se.locked()||Se.isParent())return!1;var Ee=Q[Se.id()];if(Ee)ye=Ee.col*R+R/2+h.x1,te=Ee.row*O+O/2+h.y1;else{for(;H($,ee);)K();ye=ee*R+R/2+h.x1,te=$*O+O/2+h.y1,q($,ee),K()}return{x:ye,y:te}})}return this};var lg={ready:function(){},stop:function(){}};function ym(l){this.options=Bt({},lg,l)}ym.prototype.run=function(){var l=this.options,a=l.eles,s=this;return s.emit("layoutstart"),a.nodes().positions(function(){return{x:0,y:0}}),s.one("layoutready",l.ready),s.emit("layoutready"),s.one("layoutstop",l.stop),s.emit("layoutstop"),this},ym.prototype.stop=function(){return this};var bD={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,s){return!0},ready:void 0,stop:void 0,transform:function(a,s){return s}};function cg(l){this.options=Bt({},bD,l)}cg.prototype.run=function(){var l=this.options,s=l.eles.nodes(),c=Ai(l.positions);return s.layoutPositions(this,l,function(h,m){var f=function u(h){return null==l.positions?function(a){return{x:a.x,y:a.y}}(h.position()):c?l.positions(h):l.positions[h._private.data.id]??null}(h);return!h.locked()&&null!=f&&f}),this};var Dy={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,s){return!0},ready:void 0,stop:void 0,transform:function(a,s){return s}};function dg(l){this.options=Bt({},Dy,l)}dg.prototype.run=function(){var l=this.options,a=l.cy,s=l.eles,c=zr(l.boundingBox?l.boundingBox:{x1:0,y1:0,w:a.width(),h:a.height()});return s.nodes().layoutPositions(this,l,function(m,f){return{x:c.x1+Math.round(Math.random()*c.w),y:c.y1+Math.round(Math.random()*c.h)}}),this};var Kd=[{name:"breadthfirst",impl:rg},{name:"circle",impl:Rr},{name:"concentric",impl:Ms},{name:"cose",impl:Gd},{name:"grid",impl:Cy},{name:"null",impl:ym},{name:"preset",impl:cg},{name:"random",impl:dg}];function wm(l){this.options=l,this.notifications=0}var ug=function(){},xm=function(){throw new Error("A headless instance can not render images")};wm.prototype={recalculateRenderedStyle:ug,notify:function(){this.notifications++},init:ug,isHeadless:function(){return!0},png:xm,jpg:xm};var hg={arrowShapeWidth:.3,registerArrowShapes:function(){var l=this.arrowShapes={},a=this,s=function(_,b,w,x,D,k,M){return D.x-w/2-M<=_&&_<=D.x+w/2+M&&D.y-w/2-M<=b&&b<=D.y+w/2+M},c=function(_,b,w,x,D){var k=_*Math.cos(x)-b*Math.sin(x),M=_*Math.sin(x)+b*Math.cos(x);return{x:k*w+D.x,y:M*w+D.y}},u=function(_,b,w,x){for(var D=[],k=0;k<_.length;k+=2)D.push(c(_[k],_[k+1],b,w,x));return D},h=function(_){for(var b=[],w=0;w<_.length;w++){var x=_[w];b.push(x.x,x.y)}return b},m=function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").pfValue*2},f=function(_,b){We(b)&&(b=l[b]),l[_]=Bt({name:_,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(x,D,k,M,S,T){var R=h(u(this.points,k+2*T,M,S));return Qi(x,D,R)},roughCollide:s,draw:function(x,D,k,M){var S=u(this.points,D,k,M);a.arrowShapeImpl("polygon")(x,S)},spacing:function(x){return 0},gap:m},b)};f("none",{collide:Cd,roughCollide:Cd,draw:ds,spacing:Fa,gap:Fa}),f("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),f("arrow","triangle"),f("triangle-backcurve",{points:l.triangle.points,controlPoint:[0,-.15],roughCollide:s,draw:function(_,b,w,x,D){var k=u(this.points,b,w,x),M=this.controlPoint,S=c(M[0],M[1],b,w,x);a.arrowShapeImpl(this.name)(_,k,S)},gap:function(_){return.8*m(_)}}),f("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(_,b,w,x,D,k,M){var S=h(u(this.points,w+2*M,x,D)),T=h(u(this.pointsTee,w+2*M,x,D));return Qi(_,b,S)||Qi(_,b,T)},draw:function(_,b,w,x,D){var k=u(this.points,b,w,x),M=u(this.pointsTee,b,w,x);a.arrowShapeImpl(this.name)(_,k,M)}}),f("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(_,b,w,x,D,k,M){var S=D,T=Math.pow(S.x-_,2)+Math.pow(S.y-b,2)<=Math.pow((w+2*M)*this.radius,2),R=h(u(this.points,w+2*M,x,D));return Qi(_,b,R)||T},draw:function(_,b,w,x,D){var k=u(this.pointsTr,b,w,x);a.arrowShapeImpl(this.name)(_,k,x.x,x.y,this.radius*b)},spacing:function(_){return a.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),f("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(_,b){var w=this.baseCrossLinePts.slice(),x=b/_;return w[3]=w[3]-x,w[5]=w[5]-x,w},collide:function(_,b,w,x,D,k,M){var S=h(u(this.points,w+2*M,x,D)),T=h(u(this.crossLinePts(w,k),w+2*M,x,D));return Qi(_,b,S)||Qi(_,b,T)},draw:function(_,b,w,x,D){var k=u(this.points,b,w,x),M=u(this.crossLinePts(b,D),b,w,x);a.arrowShapeImpl(this.name)(_,k,M)}}),f("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(_){return.525*m(_)}}),f("circle",{radius:.15,collide:function(_,b,w,x,D,k,M){var S=D;return Math.pow(S.x-_,2)+Math.pow(S.y-b,2)<=Math.pow((w+2*M)*this.radius,2)},draw:function(_,b,w,x,D){a.arrowShapeImpl(this.name)(_,x.x,x.y,this.radius*b)},spacing:function(_){return a.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),f("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(_){return 1},gap:function(_){return 1}}),f("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),f("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").value}}),f("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(_){return.95*_.pstyle("width").pfValue*_.pstyle("arrow-scale").value}})}},Ho={projectIntoViewport:function(l,a){var s=this.cy,c=this.findContainerClientCoords(),u=c[0],h=c[1],m=c[4],f=s.pan(),v=s.zoom();return[((l-u)/m-f.x)/v,((a-h)/m-f.y)/v]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var l=this.container,a=l.getBoundingClientRect(),s=Nt.getComputedStyle(l),c=function(T){return parseFloat(s.getPropertyValue(T))},u_left=c("padding-left"),u_right=c("padding-right"),u_top=c("padding-top"),u_bottom=c("padding-bottom"),h_left=c("border-left-width"),h_right=c("border-right-width"),h_top=c("border-top-width"),m=(c("border-bottom-width"),l.clientWidth);return this.containerBB=[a.left+u_left+h_left,a.top+u_top+h_top,m-(u_left+u_right),l.clientHeight-(u_top+u_bottom),a.width/(m+(h_left+h_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(l,a,s,c){return this.findNearestElements(l,a,s,c)[0]},findNearestElements:function(l,a,s,c){var k,M,u=this,h=this,m=h.getCachedZSortedEles(),f=[],v=h.cy.zoom(),_=h.cy.hasCompoundNodes(),b=(c?24:8)/v,w=(c?8:2)/v,x=(c?8:2)/v,D=1/0;function S(L,z){if(L.isNode()){if(M)return;M=L,f.push(L)}if(L.isEdge()&&(null==z||z<D))if(k){if(k.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value&&k.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value)for(var N=0;N<f.length;N++)if(f[N].isEdge()){f[N]=L,k=L,D=z??D;break}}else f.push(L),k=L,D=z??D}function T(L){var z=L.outerWidth()+2*w,N=L.outerHeight()+2*w,W=z/2,G=N/2,H=L.position();if(H.x-W<=l&&l<=H.x+W&&H.y-G<=a&&a<=H.y+G&&h.nodeShapes[u.getNodeShape(L)].checkPoint(l,a,0,z,N,H.x,H.y))return S(L,0),!0}function R(L){var ee,z=L._private,N=z.rscratch,W=L.pstyle("width").pfValue,G=L.pstyle("arrow-scale").value,H=W/2+b,q=H*H,$=2*H,ne=z.source,ce=z.target;if("segments"===N.edgeType||"straight"===N.edgeType||"haystack"===N.edgeType){for(var K=N.allpts,Q=0;Q+3<K.length;Q+=2)if(zh(l,a,K[Q],K[Q+1],K[Q+2],K[Q+3],$)&&q>(ee=Bb(l,a,K[Q],K[Q+1],K[Q+2],K[Q+3])))return S(L,ee),!0}else if("bezier"===N.edgeType||"multibezier"===N.edgeType||"self"===N.edgeType||"compound"===N.edgeType)for(K=N.allpts,Q=0;Q+5<N.allpts.length;Q+=4)if(bf(l,a,K[Q],K[Q+1],K[Q+2],K[Q+3],K[Q+4],K[Q+5],$)&&q>(ee=jh(l,a,K[Q],K[Q+1],K[Q+2],K[Q+3],K[Q+4],K[Q+5])))return S(L,ee),!0;ne=ne||z.source,ce=ce||z.target;var pe=u.getArrowWidth(W,G),le=[{name:"source",x:N.arrowStartX,y:N.arrowStartY,angle:N.srcArrowAngle},{name:"target",x:N.arrowEndX,y:N.arrowEndY,angle:N.tgtArrowAngle},{name:"mid-source",x:N.midX,y:N.midY,angle:N.midsrcArrowAngle},{name:"mid-target",x:N.midX,y:N.midY,angle:N.midtgtArrowAngle}];for(Q=0;Q<le.length;Q++){var se=le[Q],Me=h.arrowShapes[L.pstyle(se.name+"-arrow-shape").value],Se=L.pstyle("width").pfValue;if(Me.roughCollide(l,a,pe,se.angle,{x:se.x,y:se.y},Se,b)&&Me.collide(l,a,pe,se.angle,{x:se.x,y:se.y},Se,b))return S(L),!0}_&&f.length>0&&(T(ne),T(ce))}function O(L,z,N){return pa(L,z,N)}function F(L,z){var G,N=L._private,W=x;G=z?z+"-":"",L.boundingBox();var H=N.labelBounds[z||"main"],q=L.pstyle(G+"label").value;if("yes"===L.pstyle("text-events").strValue&&q){var ee=O(N.rscratch,"labelX",z),K=O(N.rscratch,"labelY",z),Q=O(N.rscratch,"labelAngle",z),ne=L.pstyle(G+"text-margin-x").pfValue,ce=L.pstyle(G+"text-margin-y").pfValue,pe=H.x1-W-ne,le=H.x2+W-ne,se=H.y1-W-ce,Me=H.y2+W-ce;if(Q){var Se=Math.cos(Q),xe=Math.sin(Q),ye=function(Zt,Xe){return{x:(Zt-=ee)*Se-(Xe-=K)*xe+ee,y:Zt*xe+Xe*Se+K}},te=ye(pe,se),Ee=ye(pe,Me),Ie=ye(le,se),Be=ye(le,Me);if(Qi(l,a,[te.x+ne,te.y+ce,Ie.x+ne,Ie.y+ce,Be.x+ne,Be.y+ce,Ee.x+ne,Ee.y+ce]))return S(L),!0}else if(cl(H,l,a))return S(L),!0}}s&&(m=m.interactive);for(var j=m.length-1;j>=0;j--){var U=m[j];U.isNode()?T(U)||F(U):R(U)||F(U)||F(U,"source")||F(U,"target")}return f},getAllInBox:function(l,a,s,c){for(var u=this.getCachedZSortedEles().interactive,h=[],m=Math.min(l,s),f=Math.max(l,s),v=Math.min(a,c),_=Math.max(a,c),b=zr({x1:l=m,y1:a=v,x2:s=f,y2:c=_}),w=0;w<u.length;w++){var x=u[w];if(x.isNode()){var D=x,k=D.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Md(b,k)&&!Hh(k,b)&&h.push(D)}else{var M=x,S=M._private,T=S.rscratch;if(null!=T.startX&&null!=T.startY&&!cl(b,T.startX,T.startY)||null!=T.endX&&null!=T.endY&&!cl(b,T.endX,T.endY))continue;if("bezier"===T.edgeType||"multibezier"===T.edgeType||"self"===T.edgeType||"compound"===T.edgeType||"segments"===T.edgeType||"haystack"===T.edgeType){for(var R=S.rstyle.bezierPts||S.rstyle.linePts||S.rstyle.haystackPts,O=!0,F=0;F<R.length;F++)if(!Lb(b,R[F])){O=!1;break}O&&h.push(M)}else("haystack"===T.edgeType||"straight"===T.edgeType)&&h.push(M)}}return h}},Cm={calculateArrowAngles:function(l){var v,_,b,w,x,D,a=l._private.rscratch,s="haystack"===a.edgeType,c="bezier"===a.edgeType,u="multibezier"===a.edgeType,h="segments"===a.edgeType,m="compound"===a.edgeType,f="self"===a.edgeType;s?(b=a.haystackPts[0],w=a.haystackPts[1],x=a.haystackPts[2],D=a.haystackPts[3]):(b=a.arrowStartX,w=a.arrowStartY,x=a.arrowEndX,D=a.arrowEndY),T=a.midX,R=a.midY,h?(v=b-a.segpts[0],_=w-a.segpts[1]):u||m||f||c?(v=b-Bn((k=a.allpts)[0],k[2],k[4],.1),_=w-Bn(k[1],k[3],k[5],.1)):(v=b-T,_=w-R),a.srcArrowAngle=Vh(v,_);var T=a.midX,R=a.midY;if(s&&(T=(b+x)/2,R=(w+D)/2),v=x-b,_=D-w,h)if((k=a.allpts).length/2%2==0)v=k[O=k.length/2]-k[F=O-2],_=k[O+1]-k[F+1];else{var O,F,j=2+(O=k.length/2-1);v=k[O]-k[F=O-2],_=k[O+1]-k[F+1]}else if(u||m||f){var L,z,N,W,H,G,q,k=a.allpts;a.ctrlpts.length/2%2==0?(L=Bn(k[G=k.length/2-1],k[H=G+2],k[q=H+2],0),z=Bn(k[G+1],k[H+1],k[q+1],0),N=Bn(k[G],k[H],k[q],1e-4),W=Bn(k[G+1],k[H+1],k[q+1],1e-4)):(L=Bn(k[G=(H=k.length/2-1)-2],k[H],k[q=H+2],.4999),z=Bn(k[G+1],k[H+1],k[q+1],.4999),N=Bn(k[G],k[H],k[q],.5),W=Bn(k[G+1],k[H+1],k[q+1],.5)),v=N-L,_=W-z}if(a.midtgtArrowAngle=Vh(v,_),a.midDispX=v,a.midDispY=_,v*=-1,_*=-1,h&&(k=a.allpts).length/2%2!=0&&(v=-(k[j=2+(O=k.length/2-1)]-k[O]),_=-(k[j+1]-k[O+1])),a.midsrcArrowAngle=Vh(v,_),h)v=x-a.segpts[a.segpts.length-2],_=D-a.segpts[a.segpts.length-1];else if(u||m||f||c){var $=(k=a.allpts).length;v=x-Bn(k[$-6],k[$-4],k[$-2],.9),_=D-Bn(k[$-5],k[$-3],k[$-1],.9)}else v=x-T,_=D-R;a.tgtArrowAngle=Vh(v,_)}};Cm.getArrowWidth=Cm.getArrowHeight=function(l,a){var s=this.arrowWidthCache=this.arrowWidthCache||{},c=s[l+", "+a];return c||(c=Math.max(Math.pow(13.37*l,.9),29)*a,s[l+", "+a]=c,c)};var Dr={};function mg(l){var a=[];if(null!=l){for(var s=0;s<l.length;s+=2)a.push({x:l[s],y:l[s+1]});return a}}Dr.findHaystackPoints=function(l){for(var a=0;a<l.length;a++){var s=l[a],c=s._private,u=c.rscratch;if(!u.haystack){var h=2*Math.random()*Math.PI;u.source={x:Math.cos(h),y:Math.sin(h)},h=2*Math.random()*Math.PI,u.target={x:Math.cos(h),y:Math.sin(h)}}var m=c.source,f=c.target,v=m.position(),_=f.position(),b=m.width(),w=f.width(),x=m.height(),D=f.height(),M=s.pstyle("haystack-radius").value/2;u.haystackPts=u.allpts=[u.source.x*b*M+v.x,u.source.y*x*M+v.y,u.target.x*w*M+_.x,u.target.y*D*M+_.y],u.midX=(u.allpts[0]+u.allpts[2])/2,u.midY=(u.allpts[1]+u.allpts[3])/2,u.edgeType="haystack",u.haystack=!0,this.storeEdgeProjections(s),this.calculateArrowAngles(s),this.recalculateEdgeLabelProjections(s),this.calculateLabelAngles(s)}},Dr.findSegmentsPoints=function(l,a){var s=l._private.rscratch,c=a.posPts,u=a.intersectionPts,h=a.vectorNormInverse,m=l.pstyle("edge-distances").value,f=l.pstyle("segment-weights"),v=l.pstyle("segment-distances"),_=Math.min(f.pfValue.length,v.pfValue.length);s.edgeType="segments",s.segpts=[];for(var b=0;b<_;b++){var w=f.pfValue[b],x=v.pfValue[b],D=1-w,M="node-position"===m?c:u,S={x:M.x1*D+M.x2*w,y:M.y1*D+M.y2*w};s.segpts.push(S.x+h.x*x,S.y+h.y*x)}},Dr.findLoopPoints=function(l,a,s,c){var u=l._private.rscratch,h=a.dirCounts,m=a.srcPos,f=l.pstyle("control-point-distances"),v=f?f.pfValue[0]:void 0,_=l.pstyle("loop-direction").pfValue,b=l.pstyle("loop-sweep").pfValue,w=l.pstyle("control-point-step-size").pfValue;u.edgeType="self";var x=s,D=w;c&&(x=0,D=v);var k=_-Math.PI/2,M=k-b/2,S=k+b/2,T=String(_+"_"+b);x=void 0===h[T]?h[T]=0:++h[T],u.ctrlpts=[m.x+1.4*Math.cos(M)*D*(x/3+1),m.y+1.4*Math.sin(M)*D*(x/3+1),m.x+1.4*Math.cos(S)*D*(x/3+1),m.y+1.4*Math.sin(S)*D*(x/3+1)]},Dr.findCompoundLoopPoints=function(l,a,s,c){var u=l._private.rscratch;u.edgeType="compound";var h=a.srcPos,m=a.tgtPos,f=a.srcW,v=a.srcH,_=a.tgtW,b=a.tgtH,w=l.pstyle("control-point-step-size").pfValue,x=l.pstyle("control-point-distances"),k=s,M=w;c&&(k=0,M=x?x.pfValue[0]:void 0);var T={x:h.x-f/2,y:h.y-v/2},R={x:m.x-_/2,y:m.y-b/2},O={x:Math.min(T.x,R.x),y:Math.min(T.y,R.y)},j=Math.max(.5,Math.log(.01*f)),U=Math.max(.5,Math.log(.01*_));u.ctrlpts=[O.x,O.y-(1+Math.pow(50,1.12)/100)*M*(k/3+1)*j,O.x-(1+Math.pow(50,1.12)/100)*M*(k/3+1)*U,O.y]},Dr.findStraightEdgePoints=function(l){l._private.rscratch.edgeType="straight"},Dr.findBezierPoints=function(l,a,s,c,u){var h=l._private.rscratch,m=a.vectorNormInverse,f=a.posPts,v=a.intersectionPts,_=l.pstyle("edge-distances").value,b=l.pstyle("control-point-step-size").pfValue,w=l.pstyle("control-point-distances"),x=l.pstyle("control-point-weights"),D=w&&x?Math.min(w.value.length,x.value.length):1,k=w?w.pfValue[0]:void 0,M=x.value[0],S=c;h.edgeType=S?"multibezier":"bezier",h.ctrlpts=[];for(var T=0;T<D;T++){var O,R=(.5-a.eles.length/2+s)*b*(u?-1:1),F=Pb(R);S&&(k=w?w.pfValue[T]:b,M=x.value[T]);var j=void 0!==(O=c?k:void 0!==k?F*k:void 0)?O:R,U=1-M,z="node-position"===_?f:v,N={x:z.x1*U+z.x2*M,y:z.y1*U+z.y2*M};h.ctrlpts.push(N.x+m.x*j,N.y+m.y*j)}},Dr.findTaxiPoints=function(l,a){var s=l._private.rscratch;s.edgeType="segments";var c="vertical",u="horizontal",h="leftward",m="rightward",f="downward",v="upward",b=a.posPts,w=a.srcW,x=a.srcH,D=a.tgtW,k=a.tgtH,S="node-position"!==l.pstyle("edge-distances").value,T=l.pstyle("taxi-direction").value,R=T,O=l.pstyle("taxi-turn"),F="%"===O.units,j=O.pfValue,U=j<0,L=l.pstyle("taxi-turn-min-distance").pfValue,N=S?(x+k)/2:0,W=b.x2-b.x1,G=b.y2-b.y1,H=function(yt,mi){return yt>0?Math.max(yt-mi,0):Math.min(yt+mi,0)},q=H(W,S?(w+D)/2:0),$=H(G,N),ee=!1;"auto"===R?T=Math.abs(q)>Math.abs($)?u:c:R===v||R===f?(T=c,ee=!0):(R===h||R===m)&&(T=u,ee=!0);var le,K=T===c,Q=K?$:q,ne=K?G:W,ce=Pb(ne),pe=!1;(!ee||!F&&!U)&&(R===f&&ne<0||R===v&&ne>0||R===h&&ne>0||R===m&&ne<0)&&(Q=(ce*=-1)*Math.abs(Q),pe=!0);var Se=function(yt){return Math.abs(yt)<L||Math.abs(yt)>=Math.abs(Q)},xe=Se(le=F?(j<0?1+j:j)*Q:(j<0?Q:0)+j*ce),ye=Se(Math.abs(Q)-Math.abs(le));if(!xe&&!ye||pe)if(K){var V=b.y1+le+(S?x/2*ce:0);s.segpts=[b.x1,V,b.x2,V]}else{var be=b.x1+le+(S?w/2*ce:0);s.segpts=[be,b.y1,be,b.y2]}else if(K){var Ee=Math.abs(ne)<=x/2,Ie=Math.abs(W)<=D/2;if(Ee){var Be=(b.x1+b.x2)/2;s.segpts=[Be,b.y1,Be,b.y2]}else if(Ie){var Zt=(b.y1+b.y2)/2;s.segpts=[b.x1,Zt,b.x2,Zt]}else s.segpts=[b.x1,b.y2]}else{var Tt=Math.abs(ne)<=w/2,ft=Math.abs(G)<=k/2;if(Tt){var et=(b.y1+b.y2)/2;s.segpts=[b.x1,et,b.x2,et]}else if(ft){var Xt=(b.x1+b.x2)/2;s.segpts=[Xt,b.y1,Xt,b.y2]}else s.segpts=[b.x2,b.y1]}},Dr.tryToCorrectInvalidPoints=function(l,a){var s=l._private.rscratch;if("bezier"===s.edgeType){var c=a.srcPos,u=a.tgtPos,h=a.srcW,m=a.srcH,f=a.tgtW,v=a.tgtH,_=a.srcShape,b=a.tgtShape,w=!Je(s.startX)||!Je(s.startY),x=!Je(s.arrowStartX)||!Je(s.arrowStartY),D=!Je(s.endX)||!Je(s.endY),k=!Je(s.arrowEndX)||!Je(s.arrowEndY),T=this.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,R=sl({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.startX,y:s.startY}),O=R<T,F=sl({x:s.ctrlpts[0],y:s.ctrlpts[1]},{x:s.endX,y:s.endY}),j=F<T,U=!1;if(w||x||O){U=!0;var L={x:s.ctrlpts[0]-c.x,y:s.ctrlpts[1]-c.y},z=Math.sqrt(L.x*L.x+L.y*L.y),N={x:L.x/z,y:L.y/z},W=Math.max(h,m),G={x:s.ctrlpts[0]+2*N.x*W,y:s.ctrlpts[1]+2*N.y*W},H=_.intersectLine(c.x,c.y,h,m,G.x,G.y,0);O?(s.ctrlpts[0]=s.ctrlpts[0]+N.x*(T-R),s.ctrlpts[1]=s.ctrlpts[1]+N.y*(T-R)):(s.ctrlpts[0]=H[0]+N.x*T,s.ctrlpts[1]=H[1]+N.y*T)}if(D||k||j){U=!0;var q={x:s.ctrlpts[0]-u.x,y:s.ctrlpts[1]-u.y},$=Math.sqrt(q.x*q.x+q.y*q.y),ee={x:q.x/$,y:q.y/$},K=Math.max(h,m),Q={x:s.ctrlpts[0]+2*ee.x*K,y:s.ctrlpts[1]+2*ee.y*K},ne=b.intersectLine(u.x,u.y,f,v,Q.x,Q.y,0);j?(s.ctrlpts[0]=s.ctrlpts[0]+ee.x*(T-F),s.ctrlpts[1]=s.ctrlpts[1]+ee.y*(T-F)):(s.ctrlpts[0]=ne[0]+ee.x*T,s.ctrlpts[1]=ne[1]+ee.y*T)}U&&this.findEndpoints(l)}},Dr.storeAllpts=function(l){var a=l._private.rscratch;if("multibezier"===a.edgeType||"bezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType){a.allpts=[],a.allpts.push(a.startX,a.startY);for(var s=0;s+1<a.ctrlpts.length;s+=2)a.allpts.push(a.ctrlpts[s],a.ctrlpts[s+1]),s+3<a.ctrlpts.length&&a.allpts.push((a.ctrlpts[s]+a.ctrlpts[s+2])/2,(a.ctrlpts[s+1]+a.ctrlpts[s+3])/2);var c;a.allpts.push(a.endX,a.endY),a.ctrlpts.length/2%2==0?(a.midX=a.allpts[c=a.allpts.length/2-1],a.midY=a.allpts[c+1]):(a.midX=Bn(a.allpts[c=a.allpts.length/2-3],a.allpts[c+2],a.allpts[c+4],.5),a.midY=Bn(a.allpts[c+1],a.allpts[c+3],a.allpts[c+5],.5))}else if("straight"===a.edgeType)a.allpts=[a.startX,a.startY,a.endX,a.endY],a.midX=(a.startX+a.endX+a.arrowStartX+a.arrowEndX)/4,a.midY=(a.startY+a.endY+a.arrowStartY+a.arrowEndY)/4;else if("segments"===a.edgeType)if(a.allpts=[],a.allpts.push(a.startX,a.startY),a.allpts.push.apply(a.allpts,a.segpts),a.allpts.push(a.endX,a.endY),a.segpts.length%4==0){var h=a.segpts.length/2,m=h-2;a.midX=(a.segpts[m]+a.segpts[h])/2,a.midY=(a.segpts[m+1]+a.segpts[h+1])/2}else{var f=a.segpts.length/2-1;a.midX=a.segpts[f],a.midY=a.segpts[f+1]}},Dr.checkForInvalidEdgeWarning=function(l){var a=l[0]._private.rscratch;a.nodesOverlap||Je(a.startX)&&Je(a.startY)&&Je(a.endX)&&Je(a.endY)?a.loggedErr=!1:a.loggedErr||(a.loggedErr=!0,Pi("Edge `"+l.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Dr.findEdgeControlPoints=function(l){var a=this;if(l&&0!==l.length){for(var s=this,u=s.cy.hasCompoundNodes(),h={map:new La,get:function(L){var z=this.map.get(L[0]);return null!=z?z.get(L[1]):null},set:function(L,z){var N=this.map.get(L[0]);null==N&&(N=new La,this.map.set(L[0],N)),N.set(L[1],z)}},m=[],f=[],v=0;v<l.length;v++){var _=l[v],b=_._private,w=_.pstyle("curve-style").value;if(!_.removed()&&_.takesUpSpace()){if("haystack"===w){f.push(_);continue}var x="unbundled-bezier"===w||"segments"===w||"straight"===w||"straight-triangle"===w||"taxi"===w,D="unbundled-bezier"===w||"bezier"===w,M=b.target,R=[b.source.poolIndex(),M.poolIndex()].sort(),O=h.get(R);null==O&&(h.set(R,O={eles:[]}),m.push(R)),O.eles.push(_),x&&(O.hasUnbundled=!0),D&&(O.hasBezier=!0)}}for(var F=function(L){var N=h.get(m[L]),W=void 0;if(!N.hasUnbundled){var G=N.eles[0].parallelEdges().filter(function(Le){return Le.isBundledBezier()});Ph(N.eles),G.forEach(function(Le){return N.eles.push(Le)}),N.eles.sort(function(Le,V){return Le.poolIndex()-V.poolIndex()})}var H=N.eles[0],q=H.source(),$=H.target();if(q.poolIndex()>$.poolIndex()){var ee=q;q=$,$=ee}var K=N.srcPos=q.position(),Q=N.tgtPos=$.position(),ne=N.srcW=q.outerWidth(),ce=N.srcH=q.outerHeight(),pe=N.tgtW=$.outerWidth(),le=N.tgtH=$.outerHeight(),se=N.srcShape=s.nodeShapes[a.getNodeShape(q)],Me=N.tgtShape=s.nodeShapes[a.getNodeShape($)];N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Se=0;Se<N.eles.length;Se++){var xe=N.eles[Se],ye=xe[0]._private.rscratch,te=xe.pstyle("curve-style").value,Ee="unbundled-bezier"===te||"segments"===te||"taxi"===te,Ie=!q.same(xe.source());if(!N.calculatedIntersection&&q!==$&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var Be=se.intersectLine(K.x,K.y,ne,ce,Q.x,Q.y,0),Ke=N.srcIntn=Be,jt=Me.intersectLine(Q.x,Q.y,pe,le,K.x,K.y,0),Zt=N.tgtIntn=jt,Xe=N.intersectionPts={x1:Be[0],x2:jt[0],y1:Be[1],y2:jt[1]},Ue=N.posPts={x1:K.x,x2:Q.x,y1:K.y,y2:Q.y},Tt=jt[1]-Be[1],ft=jt[0]-Be[0],et=Math.sqrt(ft*ft+Tt*Tt),xt=N.vector={x:ft,y:Tt},ci=N.vectorNorm={x:xt.x/et,y:xt.y/et},Xt={x:-ci.y,y:ci.x};N.nodesOverlap=!Je(et)||Me.checkPoint(Be[0],Be[1],0,pe,le,Q.x,Q.y)||se.checkPoint(jt[0],jt[1],0,ne,ce,K.x,K.y),N.vectorNormInverse=Xt,W={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:Q,tgtPos:K,srcW:pe,srcH:le,tgtW:ne,tgtH:ce,srcIntn:Zt,tgtIntn:Ke,srcShape:Me,tgtShape:se,posPts:{x1:Ue.x2,y1:Ue.y2,x2:Ue.x1,y2:Ue.y1},intersectionPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},vector:{x:-xt.x,y:-xt.y},vectorNorm:{x:-ci.x,y:-ci.y},vectorNormInverse:{x:-Xt.x,y:-Xt.y}}}var Ot=Ie?W:N;ye.nodesOverlap=Ot.nodesOverlap,ye.srcIntn=Ot.srcIntn,ye.tgtIntn=Ot.tgtIntn,u&&(q.isParent()||q.isChild()||$.isParent()||$.isChild())&&(q.parents().anySame($)||$.parents().anySame(q)||q.same($)&&q.isParent())?a.findCompoundLoopPoints(xe,Ot,Se,Ee):q===$?a.findLoopPoints(xe,Ot,Se,Ee):"segments"===te?a.findSegmentsPoints(xe,Ot):"taxi"===te?a.findTaxiPoints(xe,Ot):"straight"===te||!Ee&&N.eles.length%2==1&&Se===Math.floor(N.eles.length/2)?a.findStraightEdgePoints(xe):a.findBezierPoints(xe,Ot,Se,Ee,Ie),a.findEndpoints(xe),a.tryToCorrectInvalidPoints(xe,Ot),a.checkForInvalidEdgeWarning(xe),a.storeAllpts(xe),a.storeEdgeProjections(xe),a.calculateArrowAngles(xe),a.recalculateEdgeLabelProjections(xe),a.calculateLabelAngles(xe)}},j=0;j<m.length;j++)F(j);this.findHaystackPoints(f)}},Dr.getSegmentPoints=function(l){var a=l[0]._private.rscratch;if("segments"===a.edgeType)return this.recalculateRenderedStyle(l),mg(a.segpts)},Dr.getControlPoints=function(l){var a=l[0]._private.rscratch,s=a.edgeType;if("bezier"===s||"multibezier"===s||"self"===s||"compound"===s)return this.recalculateRenderedStyle(l),mg(a.ctrlpts)},Dr.getEdgeMidpoint=function(l){var a=l[0]._private.rscratch;return this.recalculateRenderedStyle(l),{x:a.midX,y:a.midY}};var Es={manualEndptToPx:function(l,a){var c=l.position(),u=l.outerWidth(),h=l.outerHeight();if(2===a.value.length){var m=[a.pfValue[0],a.pfValue[1]];return"%"===a.units[0]&&(m[0]=m[0]*u),"%"===a.units[1]&&(m[1]=m[1]*h),m[0]+=c.x,m[1]+=c.y,m}var f=a.pfValue[0];f=-Math.PI/2+f;var v=2*Math.max(u,h),_=[c.x+Math.cos(f)*v,c.y+Math.sin(f)*v];return this.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,u,h,_[0],_[1],0)},findEndpoints:function(l){var s,W,G,H,q,a=this,c=l.source()[0],u=l.target()[0],h=c.position(),m=u.position(),f=l.pstyle("target-arrow-shape").value,v=l.pstyle("source-arrow-shape").value,_=l.pstyle("target-distance-from-node").pfValue,b=l.pstyle("source-distance-from-node").pfValue,w=l.pstyle("curve-style").value,x=l._private.rscratch,D=x.edgeType,M="self"===D||"compound"===D,S="bezier"===D||"multibezier"===D||M,T="bezier"!==D,R="straight"===D||"segments"===D,O="segments"===D,F=S||T||R,j=M||"taxi"===w,U=l.pstyle("source-endpoint"),L=j?"outside-to-node":U.value,z=l.pstyle("target-endpoint"),N=j?"outside-to-node":z.value;if(x.srcManEndpt=U,x.tgtManEndpt=z,S){var $=[x.ctrlpts[0],x.ctrlpts[1]];W=T?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:$,G=$}else if(R){var K=O?x.segpts.slice(0,2):[m.x,m.y];W=O?x.segpts.slice(x.segpts.length-2):[h.x,h.y],G=K}if("inside-to-node"===N)s=[m.x,m.y];else if(z.units)s=this.manualEndptToPx(u,z);else if("outside-to-line"===N)s=x.tgtIntn;else if("outside-to-node"===N||"outside-to-node-or-label"===N?H=W:("outside-to-line"===N||"outside-to-line-or-label"===N)&&(H=[h.x,h.y]),s=a.nodeShapes[this.getNodeShape(u)].intersectLine(m.x,m.y,u.outerWidth(),u.outerHeight(),H[0],H[1],0),"outside-to-node-or-label"===N||"outside-to-line-or-label"===N){var ne=u._private.rscratch,le=ne.labelX,se=ne.labelY,Me=ne.labelWidth/2,Se=ne.labelHeight/2,xe=u.pstyle("text-valign").value;"top"===xe?se-=Se:"bottom"===xe&&(se+=Se);var ye=u.pstyle("text-halign").value;"left"===ye?le-=Me:"right"===ye&&(le+=Me);var te=pc(H[0],H[1],[le-Me,se-Se,le+Me,se-Se,le+Me,se+Se,le-Me,se+Se],m.x,m.y);if(te.length>0){var Ee=h,Ie=ps(Ee,no(s)),Be=ps(Ee,no(te)),Ke=Ie;Be<Ie&&(s=te,Ke=Be),te.length>2&&ps(Ee,{x:te[2],y:te[3]})<Ke&&(s=[te[2],te[3]])}}var Zt=Ed(s,W,a.arrowShapes[f].spacing(l)+_),Xe=Ed(s,W,a.arrowShapes[f].gap(l)+_);if(x.endX=Xe[0],x.endY=Xe[1],x.arrowEndX=Zt[0],x.arrowEndY=Zt[1],"inside-to-node"===L)s=[h.x,h.y];else if(U.units)s=this.manualEndptToPx(c,U);else if("outside-to-line"===L)s=x.srcIntn;else if("outside-to-node"===L||"outside-to-node-or-label"===L?q=G:("outside-to-line"===L||"outside-to-line-or-label"===L)&&(q=[m.x,m.y]),s=a.nodeShapes[this.getNodeShape(c)].intersectLine(h.x,h.y,c.outerWidth(),c.outerHeight(),q[0],q[1],0),"outside-to-node-or-label"===L||"outside-to-line-or-label"===L){var Ue=c._private.rscratch,et=Ue.labelX,xt=Ue.labelY,ci=Ue.labelWidth/2,Xt=Ue.labelHeight/2,Ot=c.pstyle("text-valign").value;"top"===Ot?xt-=Xt:"bottom"===Ot&&(xt+=Xt);var Le=c.pstyle("text-halign").value;"left"===Le?et-=ci:"right"===Le&&(et+=ci);var V=pc(q[0],q[1],[et-ci,xt-Xt,et+ci,xt-Xt,et+ci,xt+Xt,et-ci,xt+Xt],h.x,h.y);if(V.length>0){var de=m,Pe=ps(de,no(s)),be=ps(de,no(V)),we=Pe;be<Pe&&(s=[V[0],V[1]],we=be),V.length>2&&ps(de,{x:V[2],y:V[3]})<we&&(s=[V[2],V[3]])}}var Re=Ed(s,G,a.arrowShapes[v].spacing(l)+b),yt=Ed(s,G,a.arrowShapes[v].gap(l)+b);x.startX=yt[0],x.startY=yt[1],x.arrowStartX=Re[0],x.arrowStartY=Re[1],F&&(x.badLine=!(Je(x.startX)&&Je(x.startY)&&Je(x.endX)&&Je(x.endY)))},getSourceEndpoint:function(l){var a=l[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(l),a.edgeType)?{x:a.haystackPts[0],y:a.haystackPts[1]}:{x:a.arrowStartX,y:a.arrowStartY}},getTargetEndpoint:function(l){var a=l[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(l),a.edgeType)?{x:a.haystackPts[2],y:a.haystackPts[3]}:{x:a.arrowEndX,y:a.arrowEndY}}},pg={};function yD(l,a,s){for(var c=function(_,b,w,x){return Bn(_,b,w,x)},h=a._private.rstyle.bezierPts,m=0;m<l.bezierProjPcts.length;m++){var f=l.bezierProjPcts[m];h.push({x:c(s[0],s[2],s[4],f),y:c(s[1],s[3],s[5],f)})}}pg.storeEdgeProjections=function(l){var a=l._private,s=a.rscratch,c=s.edgeType;if(a.rstyle.bezierPts=null,a.rstyle.linePts=null,a.rstyle.haystackPts=null,"multibezier"===c||"bezier"===c||"self"===c||"compound"===c){a.rstyle.bezierPts=[];for(var u=0;u+5<s.allpts.length;u+=4)yD(this,l,s.allpts.slice(u,u+6))}else if("segments"===c){var h=a.rstyle.linePts=[];for(u=0;u+1<s.allpts.length;u+=2)h.push({x:s.allpts[u],y:s.allpts[u+1]})}else if("haystack"===c){var m=s.haystackPts;a.rstyle.haystackPts=[{x:m[0],y:m[1]},{x:m[2],y:m[3]}]}a.rstyle.arrowWidth=this.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.arrowShapeWidth},pg.recalculateEdgeProjections=function(l){this.findEdgeControlPoints(l)};var ca={recalculateNodeLabelProjection:function(l){var a=l.pstyle("label").strValue;if(!ji(a)){var s,c,u=l._private,h=l.width(),m=l.height(),f=l.padding(),v=l.position(),_=l.pstyle("text-halign").strValue,b=l.pstyle("text-valign").strValue,w=u.rscratch,x=u.rstyle;switch(_){case"left":s=v.x-h/2-f;break;case"right":s=v.x+h/2+f;break;default:s=v.x}switch(b){case"top":c=v.y-m/2-f;break;case"bottom":c=v.y+m/2+f;break;default:c=v.y}w.labelX=s,w.labelY=c,x.labelX=s,x.labelY=c,this.calculateLabelAngles(l),this.applyLabelDimensions(l)}}},ky=function(a,s){var c=Math.atan(s/a);return 0===a&&c<0&&(c*=-1),c},My=function(a,s){return ky(s.x-a.x,s.y-a.y)};ca.recalculateEdgeLabelProjections=function(l){var a,s=l._private,c=s.rscratch,u=this,h={mid:l.pstyle("label").strValue,source:l.pstyle("source-label").strValue,target:l.pstyle("target-label").strValue};if(h.mid||h.source||h.target){var m=function(w,x,D){io(s.rscratch,w,x,D),io(s.rstyle,w,x,D)};m("labelX",null,(a={x:c.midX,y:c.midY}).x),m("labelY",null,a.y);var f=ky(c.midDispX,c.midDispY);m("labelAutoAngle",null,f);var v=function b(){if(b.cache)return b.cache;for(var w=[],x=0;x+5<c.allpts.length;x+=4)w.push({p0:{x:c.allpts[x],y:c.allpts[x+1]},p1:{x:c.allpts[x+2],y:c.allpts[x+3]},p2:{x:c.allpts[x+4],y:c.allpts[x+5]},startDist:0,length:0,segments:[]});var S=s.rstyle.bezierPts,T=u.bezierProjPcts.length;function R(L,z,N,W,G){var H=sl(z,N),q=L.segments[L.segments.length-1];L.segments.push({p0:z,p1:N,t0:W,t1:G,startDist:q?q.startDist+q.length:0,length:H}),L.length+=H}for(var O=0;O<w.length;O++){var F=w[O],j=w[O-1];j&&(F.startDist=j.startDist+j.length),R(F,F.p0,S[O*T],0,u.bezierProjPcts[0]);for(var U=0;U<T-1;U++)R(F,S[O*T+U],S[O*T+U+1],u.bezierProjPcts[U],u.bezierProjPcts[U+1]);R(F,S[O*T+T-1],F.p2,u.bezierProjPcts[T-1],1)}return b.cache=w},_=function(w){var x,D="source"===w;if(h[w]){var k=l.pstyle(w+"-text-offset").pfValue;switch(c.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var S,M=v(),T=0,R=0,O=0;O<M.length;O++){for(var F=M[D?O:M.length-1-O],j=0;j<F.segments.length;j++){var U=F.segments[D?j:F.segments.length-1-j];if(T=R,(R+=U.length)>=k||O===M.length-1&&j===F.segments.length-1){S={cp:F,segment:U};break}}if(S)break}var z=S.cp,N=S.segment,W=(k-T)/N.length,G=N.t1-N.t0,H=D?N.t0+G*W:N.t1-G*W;H=_i(0,H,1),a=uc(z.p0,z.p1,z.p2,H),x=function(a,s,c,u){var h=_i(0,u-.001,1),m=_i(0,u+.001,1),f=uc(a,s,c,h),v=uc(a,s,c,m);return My(f,v)}(z.p0,z.p1,z.p2,H);break;case"straight":case"segments":case"haystack":for(var $,ee,K,Q,q=0,ne=c.allpts.length,ce=0;ce+3<ne&&(D?(K={x:c.allpts[ce],y:c.allpts[ce+1]},Q={x:c.allpts[ce+2],y:c.allpts[ce+3]}):(K={x:c.allpts[ne-2-ce],y:c.allpts[ne-1-ce]},Q={x:c.allpts[ne-4-ce],y:c.allpts[ne-3-ce]}),ee=q,!((q+=$=sl(K,Q))>=k));ce+=2);var le=(k-ee)/$;le=_i(0,le,1),a=function(a,s,c,u){var h_x=s.x-a.x,h_y=s.y-a.y,m=sl(a,s);return c=c??0,{x:a.x+h_x/m*(u=u??c*m),y:a.y+h_y/m*u}}(K,Q,le),x=My(K,Q)}m("labelX",w,a.x),m("labelY",w,a.y),m("labelAutoAngle",w,x)}};_("source"),_("target"),this.applyLabelDimensions(l)}},ca.applyLabelDimensions=function(l){this.applyPrefixedLabelDimensions(l),l.isEdge()&&(this.applyPrefixedLabelDimensions(l,"source"),this.applyPrefixedLabelDimensions(l,"target"))},ca.applyPrefixedLabelDimensions=function(l,a){var s=l._private,c=this.getLabelText(l,a),u=this.calculateLabelDimensions(l,c),h=l.pstyle("line-height").pfValue,m=l.pstyle("text-wrap").strValue,f=pa(s.rscratch,"labelWrapCachedLines",a)||[],v="wrap"!==m?1:Math.max(f.length,1),_=u.height/v,b=_*h,w=u.width,x=u.height+(v-1)*(h-1)*_;io(s.rstyle,"labelWidth",a,w),io(s.rscratch,"labelWidth",a,w),io(s.rstyle,"labelHeight",a,x),io(s.rscratch,"labelHeight",a,x),io(s.rscratch,"labelLineHeight",a,b)},ca.getLabelText=function(l,a){var s=l._private,u=l.pstyle((a?a+"-":"")+"label").strValue,h=l.pstyle("text-transform").value,m=function(pe,le){return le?(io(s.rscratch,pe,a,le),le):pa(s.rscratch,pe,a)};if(!u)return"";"none"==h||("uppercase"==h?u=u.toUpperCase():"lowercase"==h&&(u=u.toLowerCase()));var f=l.pstyle("text-wrap").value;if("wrap"===f){var v=m("labelKey");if(null!=v&&m("labelWrapKey")===v)return m("labelWrapCachedText");for(var b=u.split("\n"),w=l.pstyle("text-max-width").pfValue,D="anywhere"===l.pstyle("text-overflow-wrap").value,k=[],M=/[\s\u200b]+/,S=D?"":" ",T=0;T<b.length;T++){var R=b[T],F=this.calculateLabelDimensions(l,R).width;if(D){var j=R.split("").join("\u200b");R=j}if(F>w){for(var U=R.split(M),L="",z=0;z<U.length;z++){var N=U[z];this.calculateLabelDimensions(l,0===L.length?N:L+S+N).width<=w?L+=N+S:(L&&k.push(L),L=N+S)}L.match(/^[\s\u200b]+$/)||k.push(L)}else k.push(R)}m("labelWrapCachedLines",k),u=m("labelWrapCachedText",k.join("\n")),m("labelWrapKey",v)}else if("ellipsis"===f){var q=l.pstyle("text-max-width").pfValue,$="",K=!1;if(this.calculateLabelDimensions(l,u).width<q)return u;for(var Q=0;Q<u.length&&!(this.calculateLabelDimensions(l,$+u[Q]+"\u2026").width>q);Q++)$+=u[Q],Q===u.length-1&&(K=!0);return K||($+="\u2026"),$}return u},ca.getLabelJustification=function(l){var a=l.pstyle("text-justification").strValue,s=l.pstyle("text-halign").strValue;if("auto"!==a)return a;if(!l.isNode())return"center";switch(s){case"left":return"right";case"right":return"left";default:return"center"}},ca.calculateLabelDimensions=function(l,a){var c=cs(a,l._private.labelDimsKey),u=this.labelDimCache||(this.labelDimCache=[]),h=u[c];if(null!=h)return h;var f=l.pstyle("font-style").strValue,v=l.pstyle("font-size").pfValue,_=l.pstyle("font-family").strValue,b=l.pstyle("font-weight").strValue,w=this.labelCalcCanvas,x=this.labelCalcCanvasContext;if(!w){w=this.labelCalcCanvas=document.createElement("canvas"),x=this.labelCalcCanvasContext=w.getContext("2d");var D=w.style;D.position="absolute",D.left="-9999px",D.top="-9999px",D.zIndex="-1",D.visibility="hidden",D.pointerEvents="none"}x.font="".concat(f," ").concat(b," ").concat(v,"px ").concat(_);for(var k=0,M=0,S=a.split("\n"),T=0;T<S.length;T++){var O=x.measureText(S[T]),F=Math.ceil(O.width),j=v;k=Math.max(F,k),M+=j}return u[c]={width:k+=0,height:M+=0}},ca.calculateLabelAngle=function(l,a){var c=l._private.rscratch,u=l.isEdge(),m=l.pstyle((a?a+"-":"")+"text-rotation"),f=m.strValue;return"none"===f?0:u&&"autorotate"===f?c.labelAutoAngle:"autorotate"===f?0:m.pfValue},ca.calculateLabelAngles=function(l){var a=this,s=l.isEdge(),u=l._private.rscratch;u.labelAngle=a.calculateLabelAngle(l),s&&(u.sourceLabelAngle=a.calculateLabelAngle(l,"source"),u.targetLabelAngle=a.calculateLabelAngle(l,"target"))};var Ey={},fg=!1;Ey.getNodeShape=function(l){var s=l.pstyle("shape").value;if("cutrectangle"===s&&(l.width()<28||l.height()<28))return fg||(Pi("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),fg=!0),"rectangle";if(l.isParent())return"rectangle"===s||"roundrectangle"===s||"round-rectangle"===s||"cutrectangle"===s||"cut-rectangle"===s||"barrel"===s?s:"rectangle";if("polygon"===s){var c=l.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(c).name}return s};var Fl={updateCachedGrabbedEles:function(){var l=this.cachedZSortedEles;if(l){l.drag=[],l.nondrag=[];for(var a=[],s=0;s<l.length;s++){var u=(c=l[s])._private.rscratch;c.grabbed()&&!c.isParent()?a.push(c):u.inDragLayer?l.drag.push(c):l.nondrag.push(c)}for(s=0;s<a.length;s++){var c;l.drag.push(c=a[s])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(l){if(l||!this.cachedZSortedEles){var a=this.cy.mutableElements().toArray();a.sort(ly),a.interactive=a.filter(function(s){return s.interactive()}),this.cachedZSortedEles=a,this.updateCachedGrabbedEles()}else a=this.cachedZSortedEles;return a}},Dm={};[Ho,Cm,Dr,Es,pg,ca,Ey,{registerCalculationListeners:function(){var l=this.cy,a=l.collection(),s=this,c=function(m){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(a.merge(m),f)for(var v=0;v<m.length;v++){var _=m[v],b=_._private,w=b.rstyle;w.clean=!1,w.cleanConnected=!1}};s.binder(l).on("bounds.* dirty.*",function(m){c(m.target)}).on("style.* background.*",function(m){c(m.target,!1)});var u=function(m){if(m){var f=s.onUpdateEleCalcsFns;a.cleanStyle();for(var v=0;v<a.length;v++){var _=a[v],b=_._private.rstyle;_.isNode()&&!b.cleanConnected&&(c(_.connectedEdges()),b.cleanConnected=!0)}if(f)for(var w=0;w<f.length;w++)(0,f[w])(m,a);s.recalculateRenderedStyle(a),a=l.collection()}};s.flushRenderedStyleQueue=function(){u(!0)},s.beforeRender(u,s.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(l){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(l)},recalculateRenderedStyle:function(l,a){var s=function(F){return F._private.rstyle.cleanConnected},c=[],u=[];if(!this.destroyed){void 0===a&&(a=!0);for(var h=0;h<l.length;h++){var m=l[h],f=m._private,v=f.rstyle;m.isEdge()&&(!s(m.source())||!s(m.target()))&&(v.clean=!1),!(a&&v.clean||m.removed())&&"none"!==m.pstyle("display").value&&("nodes"===f.group?u.push(m):c.push(m),v.clean=!0)}for(var _=0;_<u.length;_++){var b=u[_],x=b._private.rstyle,D=b.position();this.recalculateNodeLabelProjection(b),x.nodeX=D.x,x.nodeY=D.y,x.nodeW=b.pstyle("width").pfValue,x.nodeH=b.pstyle("height").pfValue}this.recalculateEdgeProjections(c);for(var k=0;k<c.length;k++){var S=c[k]._private,T=S.rstyle,R=S.rscratch;T.srcX=R.arrowStartX,T.srcY=R.arrowStartY,T.tgtX=R.arrowEndX,T.tgtY=R.arrowEndY,T.midX=R.midX,T.midY=R.midY,T.labelAngle=R.labelAngle,T.sourceLabelAngle=R.sourceLabelAngle,T.targetLabelAngle=R.targetLabelAngle}}}},Fl].forEach(function(l){Bt(Dm,l)});var km={getCachedImage:function(l,a,s){var u=this.imageCache=this.imageCache||{},h=u[l];if(h)return h.image.complete||h.image.addEventListener("load",s),h.image;var m=(h=u[l]=u[l]||{}).image=new Image;m.addEventListener("load",s),m.addEventListener("error",function(){m.error=!0});var f="data:";return l.substring(0,f.length).toLowerCase()===f||(m.crossOrigin=a),m.src=l,m}},Ss={registerBinding:function(l,a,s,c){var u=Array.prototype.slice.apply(arguments,[1]),h=this.binder(l);return h.on.apply(h,u)},binder:function(l){var a=this,s=l===window||l===document||l===document.body||function(a){return!(typeof HTMLElement>"u")&&a instanceof HTMLElement}(l);if(null==a.supportsPassiveEvents){var c=!1;try{var u=Object.defineProperty({},"passive",{get:function(){return c=!0,!0}});window.addEventListener("test",null,u)}catch{}a.supportsPassiveEvents=c}var h=function(f,v,_){var b=Array.prototype.slice.call(arguments);return s&&a.supportsPassiveEvents&&(b[2]={capture:_??!1,passive:!1,once:!1}),a.bindings.push({target:l,args:b}),(l.addEventListener||l.on).apply(l,b),this};return{on:h,addEventListener:h,addListener:h,bind:h}},nodeIsDraggable:function(l){return l&&l.isNode()&&!l.locked()&&l.grabbable()},nodeIsGrabbable:function(l){return this.nodeIsDraggable(l)&&l.interactive()}};Ss.load=function(){var l=this,a=function(V){return V.selected()},s=function(V,de,Pe,be){null==V&&(V=l.cy);for(var we=0;we<de.length;we++)V.emit({originalEvent:Pe,type:de[we],position:be})},c=function(V){return V.shiftKey||V.metaKey||V.ctrlKey},u=function(V,de){var Pe=!0;if(l.cy.hasCompoundNodes()&&V&&V.pannable()){for(var be=0;de&&be<de.length;be++)if((V=de[be]).isNode()&&V.isParent()&&!V.pannable()){Pe=!1;break}}else Pe=!0;return Pe},f=function(V){V[0]._private.rscratch.inDragLayer=!0},_=function(V){V[0]._private.rscratch.isGrabTarget=!0},w=function(V,de){var Pe=de.addToList;!Pe.has(V)&&V.grabbable()&&!V.locked()&&(Pe.merge(V),function(V){V[0]._private.grabbed=!0}(V))},D=function(V,de){de=de||{};var Pe=V.cy().hasCompoundNodes();de.inDragLayer&&(V.forEach(f),V.neighborhood().stdFilter(function(be){return!Pe||be.isEdge()}).forEach(f)),de.addToList&&V.forEach(function(be){w(be,de)}),function(V,de){if(V.cy().hasCompoundNodes()&&(null!=de.inDragLayer||null!=de.addToList)){var Pe=V.descendants();de.inDragLayer&&(Pe.forEach(f),Pe.connectedEdges().forEach(f)),de.addToList&&w(Pe,de)}}(V,de),S(V,{inDragLayer:de.inDragLayer}),l.updateCachedGrabbedEles()},k=D,M=function(V){!V||(l.getCachedZSortedEles().forEach(function(de){(function(V){V[0]._private.grabbed=!1})(de),function(V){V[0]._private.rscratch.inDragLayer=!1}(de),function(V){V[0]._private.rscratch.isGrabTarget=!1}(de)}),l.updateCachedGrabbedEles())},S=function(V,de){if((null!=de.inDragLayer||null!=de.addToList)&&V.cy().hasCompoundNodes()){var Pe=V.ancestors().orphans();if(!Pe.same(V)){var be=Pe.descendants().spawnSelf().merge(Pe).unmerge(V).unmerge(V.descendants()),we=be.connectedEdges();de.inDragLayer&&(we.forEach(f),be.forEach(f)),de.addToList&&be.forEach(function(Qt){w(Qt,de)})}}},T=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},R=typeof MutationObserver<"u",O=typeof ResizeObserver<"u";R?(l.removeObserver=new MutationObserver(function(Le){for(var V=0;V<Le.length;V++){var Pe=Le[V].removedNodes;if(Pe)for(var be=0;be<Pe.length;be++)if(Pe[be]===l.container){l.destroy();break}}}),l.container.parentNode&&l.removeObserver.observe(l.container.parentNode,{childList:!0})):l.registerBinding(l.container,"DOMNodeRemoved",function(Le){l.destroy()});var F=Ze.default(function(){l.cy.resize()},100);R&&(l.styleObserver=new MutationObserver(F),l.styleObserver.observe(l.container,{attributes:!0})),l.registerBinding(window,"resize",F),O&&(l.resizeObserver=new ResizeObserver(F),l.resizeObserver.observe(l.container));var U=function(){l.invalidateContainerClientCoordsCache()};(function(V,de){for(;null!=V;)l.registerBinding(Le=V,"transitionend",U),l.registerBinding(Le,"animationend",U),l.registerBinding(Le,"scroll",U),V=V.parentNode;var Le})(l.container),l.registerBinding(l.container,"contextmenu",function(Le){Le.preventDefault()});var N,W,G,z=function(V){for(var de=l.findContainerClientCoords(),Pe=de[0],be=de[1],we=de[2],Qt=de[3],Re=V.touches?V.touches:[V],yt=!1,mi=0;mi<Re.length;mi++){var Si=Re[mi];if(Pe<=Si.clientX&&Si.clientX<=Pe+we&&be<=Si.clientY&&Si.clientY<=be+Qt){yt=!0;break}}if(!yt)return!1;for(var ai=l.container,Yt=V.target.parentNode,qt=!1;Yt;){if(Yt===ai){qt=!0;break}Yt=Yt.parentNode}return!!qt};l.registerBinding(l.container,"mousedown",function(V){if(z(V)){V.preventDefault(),T(),l.hoverData.capture=!0,l.hoverData.which=V.which;var de=l.cy,Pe=[V.clientX,V.clientY],be=l.projectIntoViewport(Pe[0],Pe[1]),we=l.selection,Qt=l.findNearestElements(be[0],be[1],!0,!1),Re=Qt[0],yt=l.dragData.possibleDragElements;if(l.hoverData.mdownPos=be,l.hoverData.mdownGPos=Pe,3==V.which){l.hoverData.cxtStarted=!0;var Si={originalEvent:V,type:"cxttapstart",position:{x:be[0],y:be[1]}};Re?(Re.activate(),Re.emit(Si),l.hoverData.down=Re):de.emit(Si),l.hoverData.downTime=(new Date).getTime(),l.hoverData.cxtDragged=!1}else if(1==V.which){if(Re&&Re.activate(),null!=Re&&l.nodeIsGrabbable(Re)){var ai=function(on){return{originalEvent:V,type:on,position:{x:be[0],y:be[1]}}};if(_(Re),Re.selected()){yt=l.dragData.possibleDragElements=de.collection();var Yt=de.$(function(qt){return qt.isNode()&&qt.selected()&&l.nodeIsGrabbable(qt)});D(Yt,{addToList:yt}),Re.emit(ai("grabon")),Yt.forEach(function(on){on.emit(ai("grab"))})}else yt=l.dragData.possibleDragElements=de.collection(),k(Re,{addToList:yt}),Re.emit(ai("grabon")).emit(ai("grab"));l.redrawHint("eles",!0),l.redrawHint("drag",!0)}l.hoverData.down=Re,l.hoverData.downs=Qt,l.hoverData.downTime=(new Date).getTime(),s(Re,["mousedown","tapstart","vmousedown"],V,{x:be[0],y:be[1]}),null==Re?(we[4]=1,l.data.bgActivePosistion={x:be[0],y:be[1]},l.redrawHint("select",!0),l.redraw()):Re.pannable()&&(we[4]=1),l.hoverData.tapholdCancelled=!1,clearTimeout(l.hoverData.tapholdTimeout),l.hoverData.tapholdTimeout=setTimeout(function(){if(!l.hoverData.tapholdCancelled){var on=l.hoverData.down;on?on.emit({originalEvent:V,type:"taphold",position:{x:be[0],y:be[1]}}):de.emit({originalEvent:V,type:"taphold",position:{x:be[0],y:be[1]}})}},l.tapholdDuration)}we[0]=we[2]=be[0],we[1]=we[3]=be[1]}},!1),l.registerBinding(window,"mousemove",function(V){var Mr;if(l.hoverData.capture||z(V)){var Pe=!1,be=l.cy,we=be.zoom(),Qt=[V.clientX,V.clientY],Re=l.projectIntoViewport(Qt[0],Qt[1]),yt=l.hoverData.mdownPos,mi=l.hoverData.mdownGPos,Si=l.selection,ai=null;!l.hoverData.draggingEles&&!l.hoverData.dragging&&!l.hoverData.selecting&&(ai=l.findNearestElement(Re[0],Re[1],!0,!1));var An,Ci=l.hoverData.last,Yt=l.hoverData.down,qt=[Re[0]-Si[2],Re[1]-Si[3]],on=l.dragData.possibleDragElements;if(mi){var Da=Qt[0]-mi[0],$n=Qt[1]-mi[1];l.hoverData.isOverThresholdDrag=An=Da*Da+$n*$n>=l.desktopTapThreshold2}var go=c(V);An&&(l.hoverData.tapholdCancelled=!0),Pe=!0,s(ai,["mousemove","vmousemove","tapdrag"],V,{x:Re[0],y:Re[1]});var $o=function(){l.data.bgActivePosistion=void 0,l.hoverData.selecting||be.emit({originalEvent:V,type:"boxstart",position:{x:Re[0],y:Re[1]}}),Si[4]=1,l.hoverData.selecting=!0,l.redrawHint("select",!0),l.redraw()};if(3===l.hoverData.which){if(An){var Os={originalEvent:V,type:"cxtdrag",position:{x:Re[0],y:Re[1]}};Yt?Yt.emit(Os):be.emit(Os),l.hoverData.cxtDragged=!0,(!l.hoverData.cxtOver||ai!==l.hoverData.cxtOver)&&(l.hoverData.cxtOver&&l.hoverData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:Re[0],y:Re[1]}}),l.hoverData.cxtOver=ai,ai&&ai.emit({originalEvent:V,type:"cxtdragover",position:{x:Re[0],y:Re[1]}}))}}else if(l.hoverData.dragging){if(Pe=!0,be.panningEnabled()&&be.userPanningEnabled()){var Ps;if(l.hoverData.justStartedPan){var su=l.hoverData.mdownPos;Ps={x:(Re[0]-su[0])*we,y:(Re[1]-su[1])*we},l.hoverData.justStartedPan=!1}else Ps={x:qt[0]*we,y:qt[1]*we};be.panBy(Ps),be.emit("dragpan"),l.hoverData.dragged=!0}Re=l.projectIntoViewport(V.clientX,V.clientY)}else if(1!=Si[4]||null!=Yt&&!Yt.pannable()){if(Yt&&Yt.pannable()&&Yt.active()&&Yt.unactivate(),(!Yt||!Yt.grabbed())&&ai!=Ci&&(Ci&&s(Ci,["mouseout","tapdragout"],V,{x:Re[0],y:Re[1]}),ai&&s(ai,["mouseover","tapdragover"],V,{x:Re[0],y:Re[1]}),l.hoverData.last=ai),Yt)if(An){if(be.boxSelectionEnabled()&&go)Yt&&Yt.grabbed()&&(M(on),Yt.emit("freeon"),on.emit("free"),l.dragData.didDrag&&(Yt.emit("dragfreeon"),on.emit("dragfree"))),$o();else if(Yt&&Yt.grabbed()&&l.nodeIsDraggable(Yt)){var qr=!l.dragData.didDrag;qr&&l.redrawHint("eles",!0),l.dragData.didDrag=!0,l.hoverData.draggingEles||D(on,{inDragLayer:!0});var pr={x:0,y:0};if(Je(qt[0])&&Je(qt[1])&&(pr.x+=qt[0],pr.y+=qt[1],qr)){var Rn=l.hoverData.dragDelta;Rn&&Je(Rn[0])&&Je(Rn[1])&&(pr.x+=Rn[0],pr.y+=Rn[1])}l.hoverData.draggingEles=!0,on.silentShift(pr).emit("position drag"),l.redrawHint("drag",!0),l.redraw()}}else 0===(Mr=l.hoverData.dragDelta=l.hoverData.dragDelta||[]).length?(Mr.push(qt[0]),Mr.push(qt[1])):(Mr[0]+=qt[0],Mr[1]+=qt[1]);Pe=!0}else An&&(l.hoverData.dragging||!be.boxSelectionEnabled()||!go&&be.panningEnabled()&&be.userPanningEnabled()?!l.hoverData.selecting&&be.panningEnabled()&&be.userPanningEnabled()&&u(Yt,l.hoverData.downs)&&(l.hoverData.dragging=!0,l.hoverData.justStartedPan=!0,Si[4]=0,l.data.bgActivePosistion=no(yt),l.redrawHint("select",!0),l.redraw()):$o(),Yt&&Yt.pannable()&&Yt.active()&&Yt.unactivate());if(Si[2]=Re[0],Si[3]=Re[1],Pe)return V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),!1}},!1),l.registerBinding(window,"mouseup",function(V){if(l.hoverData.capture){l.hoverData.capture=!1;var Pe=l.cy,be=l.projectIntoViewport(V.clientX,V.clientY),we=l.selection,Qt=l.findNearestElement(be[0],be[1],!0,!1),Re=l.dragData.possibleDragElements,yt=l.hoverData.down,mi=c(V);if(l.data.bgActivePosistion&&(l.redrawHint("select",!0),l.redraw()),l.hoverData.tapholdCancelled=!0,l.data.bgActivePosistion=void 0,yt&&yt.unactivate(),3===l.hoverData.which){var Si={originalEvent:V,type:"cxttapend",position:{x:be[0],y:be[1]}};if(yt?yt.emit(Si):Pe.emit(Si),!l.hoverData.cxtDragged){var ai={originalEvent:V,type:"cxttap",position:{x:be[0],y:be[1]}};yt?yt.emit(ai):Pe.emit(ai)}l.hoverData.cxtDragged=!1,l.hoverData.which=null}else if(1===l.hoverData.which){if(s(Qt,["mouseup","tapend","vmouseup"],V,{x:be[0],y:be[1]}),!l.dragData.didDrag&&!l.hoverData.dragged&&!l.hoverData.selecting&&!l.hoverData.isOverThresholdDrag&&(s(yt,["click","tap","vclick"],V,{x:be[0],y:be[1]}),W=!1,V.timeStamp-G<=Pe.multiClickDebounceTime()?(N&&clearTimeout(N),W=!0,G=null,s(yt,["dblclick","dbltap","vdblclick"],V,{x:be[0],y:be[1]})):(N=setTimeout(function(){W||s(yt,["oneclick","onetap","voneclick"],V,{x:be[0],y:be[1]})},Pe.multiClickDebounceTime()),G=V.timeStamp)),null==yt&&!l.dragData.didDrag&&!l.hoverData.selecting&&!l.hoverData.dragged&&!c(V)&&(Pe.$(a).unselect(["tapunselect"]),Re.length>0&&l.redrawHint("eles",!0),l.dragData.possibleDragElements=Re=Pe.collection()),Qt==yt&&!l.dragData.didDrag&&!l.hoverData.selecting&&null!=Qt&&Qt._private.selectable&&(l.hoverData.dragging||("additive"===Pe.selectionType()||mi?Qt.selected()?Qt.unselect(["tapunselect"]):Qt.select(["tapselect"]):mi||(Pe.$(a).unmerge(Qt).unselect(["tapunselect"]),Qt.select(["tapselect"]))),l.redrawHint("eles",!0)),l.hoverData.selecting){var Ci=Pe.collection(l.getAllInBox(we[0],we[1],we[2],we[3]));l.redrawHint("select",!0),Ci.length>0&&l.redrawHint("eles",!0),Pe.emit({type:"boxend",originalEvent:V,position:{x:be[0],y:be[1]}}),"additive"===Pe.selectionType()||mi||Pe.$(a).unmerge(Ci).unselect(),Ci.emit("box").stdFilter(function(An){return An.selectable()&&!An.selected()}).select().emit("boxselect"),l.redraw()}if(l.hoverData.dragging&&(l.hoverData.dragging=!1,l.redrawHint("select",!0),l.redrawHint("eles",!0),l.redraw()),!we[4]){l.redrawHint("drag",!0),l.redrawHint("eles",!0);var qt=yt&&yt.grabbed();M(Re),qt&&(yt.emit("freeon"),Re.emit("free"),l.dragData.didDrag&&(yt.emit("dragfreeon"),Re.emit("dragfree")))}}we[4]=0,l.hoverData.down=null,l.hoverData.cxtStarted=!1,l.hoverData.draggingEles=!1,l.hoverData.selecting=!1,l.hoverData.isOverThresholdDrag=!1,l.dragData.didDrag=!1,l.hoverData.dragged=!1,l.hoverData.dragDelta=[],l.hoverData.mdownPos=null,l.hoverData.mdownGPos=null}},!1);var H=function(V){if(!l.scrollingPage){var de=l.cy,Pe=de.zoom(),be=de.pan(),we=l.projectIntoViewport(V.clientX,V.clientY),Qt=[we[0]*Pe+be.x,we[1]*Pe+be.y];if(l.hoverData.draggingEles||l.hoverData.dragging||l.hoverData.cxtStarted||0!==l.selection[4])return void V.preventDefault();if(de.panningEnabled()&&de.userPanningEnabled()&&de.zoomingEnabled()&&de.userZoomingEnabled()){var Re;V.preventDefault(),l.data.wheelZooming=!0,clearTimeout(l.data.wheelTimeout),l.data.wheelTimeout=setTimeout(function(){l.data.wheelZooming=!1,l.redrawHint("eles",!0),l.redraw()},150),Re=null!=V.deltaY?V.deltaY/-250:null!=V.wheelDeltaY?V.wheelDeltaY/1e3:V.wheelDelta/1e3,Re*=l.wheelSensitivity,1===V.deltaMode&&(Re*=33);var mi=de.zoom()*Math.pow(10,Re);"gesturechange"===V.type&&(mi=l.gestureStartZoom*V.scale),de.zoom({level:mi,renderedPosition:{x:Qt[0],y:Qt[1]}}),de.emit("gesturechange"===V.type?"pinchzoom":"scrollzoom")}}};l.registerBinding(l.container,"wheel",H,!0),l.registerBinding(window,"scroll",function(V){l.scrollingPage=!0,clearTimeout(l.scrollingPageTimeout),l.scrollingPageTimeout=setTimeout(function(){l.scrollingPage=!1},250)},!0),l.registerBinding(l.container,"gesturestart",function(V){l.gestureStartZoom=l.cy.zoom(),l.hasTouchStarted||V.preventDefault()},!0),l.registerBinding(l.container,"gesturechange",function(Le){l.hasTouchStarted||H(Le)},!0),l.registerBinding(l.container,"mouseout",function(V){var de=l.projectIntoViewport(V.clientX,V.clientY);l.cy.emit({originalEvent:V,type:"mouseout",position:{x:de[0],y:de[1]}})},!1),l.registerBinding(l.container,"mouseover",function(V){var de=l.projectIntoViewport(V.clientX,V.clientY);l.cy.emit({originalEvent:V,type:"mouseover",position:{x:de[0],y:de[1]}})},!1);var q,$,ee,K,Q,ne,ce,pe,le,se,Me,Se,xe,Ee,Ie,Be,Ke,jt,Zt,Xe,ye=function(V,de,Pe,be){return Math.sqrt((Pe-V)*(Pe-V)+(be-de)*(be-de))},te=function(V,de,Pe,be){return(Pe-V)*(Pe-V)+(be-de)*(be-de)};if(l.registerBinding(l.container,"touchstart",Ee=function(V){if(l.hasTouchStarted=!0,z(V)){T(),l.touchData.capture=!0,l.data.bgActivePosistion=void 0;var de=l.cy,Pe=l.touchData.now,be=l.touchData.earlier;if(V.touches[0]){var we=l.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Pe[0]=we[0],Pe[1]=we[1]}if(V.touches[1]&&(we=l.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),Pe[2]=we[0],Pe[3]=we[1]),V.touches[2]&&(we=l.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),Pe[4]=we[0],Pe[5]=we[1]),V.touches[1]){l.touchData.singleTouchMoved=!0,M(l.dragData.touchDragEles);var Qt=l.findContainerClientCoords();Me=Qt[2],Se=Qt[3],$=V.touches[0].clientY-(se=Qt[1]),ee=V.touches[1].clientX-(le=Qt[0]),K=V.touches[1].clientY-se,xe=0<=(q=V.touches[0].clientX-le)&&q<=Me&&0<=ee&&ee<=Me&&0<=$&&$<=Se&&0<=K&&K<=Se;var Re=de.pan(),yt=de.zoom();if(Q=ye(q,$,ee,K),ne=te(q,$,ee,K),pe=[((ce=[(q+ee)/2,($+K)/2])[0]-Re.x)/yt,(ce[1]-Re.y)/yt],ne<4e4&&!V.touches[2]){var ai=l.findNearestElement(Pe[0],Pe[1],!0,!0),Ci=l.findNearestElement(Pe[2],Pe[3],!0,!0);return ai&&ai.isNode()?(ai.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:Pe[0],y:Pe[1]}}),l.touchData.start=ai):Ci&&Ci.isNode()?(Ci.activate().emit({originalEvent:V,type:"cxttapstart",position:{x:Pe[0],y:Pe[1]}}),l.touchData.start=Ci):de.emit({originalEvent:V,type:"cxttapstart",position:{x:Pe[0],y:Pe[1]}}),l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxt=!0,l.touchData.cxtDragged=!1,l.data.bgActivePosistion=void 0,void l.redraw()}}if(V.touches[2])de.boxSelectionEnabled()&&V.preventDefault();else if(!V.touches[1]&&V.touches[0]){var Yt=l.findNearestElements(Pe[0],Pe[1],!0,!0),qt=Yt[0];if(null!=qt&&(qt.activate(),l.touchData.start=qt,l.touchData.starts=Yt,l.nodeIsGrabbable(qt))){var on=l.dragData.touchDragEles=de.collection(),An=null;l.redrawHint("eles",!0),l.redrawHint("drag",!0),qt.selected()?(An=de.$(function(kr){return kr.selected()&&l.nodeIsGrabbable(kr)}),D(An,{addToList:on})):k(qt,{addToList:on}),_(qt);var Da=function(go){return{originalEvent:V,type:go,position:{x:Pe[0],y:Pe[1]}}};qt.emit(Da("grabon")),An?An.forEach(function(kr){kr.emit(Da("grab"))}):qt.emit(Da("grab"))}s(qt,["touchstart","tapstart","vmousedown"],V,{x:Pe[0],y:Pe[1]}),null==qt&&(l.data.bgActivePosistion={x:we[0],y:we[1]},l.redrawHint("select",!0),l.redraw()),l.touchData.singleTouchMoved=!1,l.touchData.singleTouchStartTime=+new Date,clearTimeout(l.touchData.tapholdTimeout),l.touchData.tapholdTimeout=setTimeout(function(){!1===l.touchData.singleTouchMoved&&!l.pinching&&!l.touchData.selecting&&s(l.touchData.start,["taphold"],V,{x:Pe[0],y:Pe[1]})},l.tapholdDuration)}if(V.touches.length>=1){for(var ka=l.touchData.startPosition=[],$n=0;$n<Pe.length;$n++)ka[$n]=be[$n]=Pe[$n];var tr=V.touches[0];l.touchData.startGPosition=[tr.clientX,tr.clientY]}}},!1),l.registerBinding(window,"touchmove",Ie=function(V){var de=l.touchData.capture;if(de||z(V)){var Pe=l.selection,be=l.cy,we=l.touchData.now,Qt=l.touchData.earlier,Re=be.zoom();if(V.touches[0]){var yt=l.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);we[0]=yt[0],we[1]=yt[1]}V.touches[1]&&(yt=l.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),we[2]=yt[0],we[3]=yt[1]),V.touches[2]&&(yt=l.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),we[4]=yt[0],we[5]=yt[1]);var Si,mi=l.touchData.startGPosition;if(de&&V.touches[0]&&mi){for(var ai=[],Ci=0;Ci<we.length;Ci++)ai[Ci]=we[Ci]-Qt[Ci];var Yt=V.touches[0].clientX-mi[0],on=V.touches[0].clientY-mi[1];Si=Yt*Yt+on*on>=l.touchTapThreshold2}if(de&&l.touchData.cxt){V.preventDefault();var go=te(ka=V.touches[0].clientX-le,$n=V.touches[0].clientY-se,tr=V.touches[1].clientX-le,kr=V.touches[1].clientY-se);if(go/ne>=2.25||go>=22500){l.touchData.cxt=!1,l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);var Go={originalEvent:V,type:"cxttapend",position:{x:we[0],y:we[1]}};l.touchData.start?(l.touchData.start.unactivate().emit(Go),l.touchData.start=null):be.emit(Go)}}if(de&&l.touchData.cxt){Go={originalEvent:V,type:"cxtdrag",position:{x:we[0],y:we[1]}},l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),l.touchData.start?l.touchData.start.emit(Go):be.emit(Go),l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxtDragged=!0;var qr=l.findNearestElement(we[0],we[1],!0,!0);(!l.touchData.cxtOver||qr!==l.touchData.cxtOver)&&(l.touchData.cxtOver&&l.touchData.cxtOver.emit({originalEvent:V,type:"cxtdragout",position:{x:we[0],y:we[1]}}),l.touchData.cxtOver=qr,qr&&qr.emit({originalEvent:V,type:"cxtdragover",position:{x:we[0],y:we[1]}}))}else if(de&&V.touches[2]&&be.boxSelectionEnabled())V.preventDefault(),l.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,l.touchData.selecting||be.emit({originalEvent:V,type:"boxstart",position:{x:we[0],y:we[1]}}),l.touchData.selecting=!0,l.touchData.didSelect=!0,Pe[4]=1,Pe&&0!==Pe.length&&void 0!==Pe[0]?(Pe[2]=(we[0]+we[2]+we[4])/3,Pe[3]=(we[1]+we[3]+we[5])/3):(Pe[0]=(we[0]+we[2]+we[4])/3,Pe[1]=(we[1]+we[3]+we[5])/3,Pe[2]=(we[0]+we[2]+we[4])/3+1,Pe[3]=(we[1]+we[3]+we[5])/3+1),l.redrawHint("select",!0),l.redraw();else if(de&&V.touches[1]&&!l.touchData.didSelect&&be.zoomingEnabled()&&be.panningEnabled()&&be.userZoomingEnabled()&&be.userPanningEnabled()){if(V.preventDefault(),l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),pr=l.dragData.touchDragEles){l.redrawHint("drag",!0);for(var Rn=0;Rn<pr.length;Rn++){var lu=pr[Rn]._private;lu.grabbed=!1,lu.rscratch.inDragLayer=!1}}var ka,$n,tr,kr,Mr=l.touchData.start,qe=ye(ka=V.touches[0].clientX-le,$n=V.touches[0].clientY-se,tr=V.touches[1].clientX-le,kr=V.touches[1].clientY-se),jy=qe/Q;if(xe){var zl=(ka-q+(tr-ee))/2,Gy=($n-$+(kr-K))/2,Ls=be.zoom(),Qc=Ls*jy,cu=be.pan(),du=pe[0]*Ls+cu.x,Ua=pe[1]*Ls+cu.y,Wy={x:-Qc/Ls*(du-cu.x-zl)+du,y:-Qc/Ls*(Ua-cu.y-Gy)+Ua};Mr&&Mr.active()&&(M(pr=l.dragData.touchDragEles),l.redrawHint("drag",!0),l.redrawHint("eles",!0),Mr.unactivate().emit("freeon"),pr.emit("free"),l.dragData.didDrag&&(Mr.emit("dragfreeon"),pr.emit("dragfree"))),be.viewport({zoom:Qc,pan:Wy,cancelOnFailedZoom:!0}),be.emit("pinchzoom"),Q=qe,q=ka,$=$n,ee=tr,K=kr,l.pinching=!0}V.touches[0]&&(yt=l.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY),we[0]=yt[0],we[1]=yt[1]),V.touches[1]&&(yt=l.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),we[2]=yt[0],we[3]=yt[1]),V.touches[2]&&(yt=l.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),we[4]=yt[0],we[5]=yt[1])}else if(V.touches[0]&&!l.touchData.didSelect){var Ma=l.touchData.start,Gm=l.touchData.last;if(!l.hoverData.draggingEles&&!l.swipePanning&&(qr=l.findNearestElement(we[0],we[1],!0,!0)),de&&null!=Ma&&V.preventDefault(),de&&null!=Ma&&l.nodeIsDraggable(Ma))if(Si){var pr=l.dragData.touchDragEles,jg=!l.dragData.didDrag;jg&&D(pr,{inDragLayer:!0}),l.dragData.didDrag=!0;var jl={x:0,y:0};Je(ai[0])&&Je(ai[1])&&(jl.x+=ai[0],jl.y+=ai[1],jg)&&(l.redrawHint("eles",!0),(fr=l.touchData.dragDelta)&&Je(fr[0])&&Je(fr[1])&&(jl.x+=fr[0],jl.y+=fr[1])),l.hoverData.draggingEles=!0,pr.silentShift(jl).emit("position drag"),l.redrawHint("drag",!0),l.touchData.startPosition[0]==Qt[0]&&l.touchData.startPosition[1]==Qt[1]&&l.redrawHint("eles",!0),l.redraw()}else{var fr;0===(fr=l.touchData.dragDelta=l.touchData.dragDelta||[]).length?(fr.push(ai[0]),fr.push(ai[1])):(fr[0]+=ai[0],fr[1]+=ai[1])}if(s(Ma||qr,["touchmove","tapdrag","vmousemove"],V,{x:we[0],y:we[1]}),(!Ma||!Ma.grabbed())&&qr!=Gm&&(Gm&&Gm.emit({originalEvent:V,type:"tapdragout",position:{x:we[0],y:we[1]}}),qr&&qr.emit({originalEvent:V,type:"tapdragover",position:{x:we[0],y:we[1]}})),l.touchData.last=qr,de)for(Rn=0;Rn<we.length;Rn++)we[Rn]&&l.touchData.startPosition[Rn]&&Si&&(l.touchData.singleTouchMoved=!0);de&&(null==Ma||Ma.pannable())&&be.panningEnabled()&&be.userPanningEnabled()&&(u(Ma,l.touchData.starts)&&(V.preventDefault(),l.data.bgActivePosistion||(l.data.bgActivePosistion=no(l.touchData.startPosition)),l.swipePanning?(be.panBy({x:ai[0]*Re,y:ai[1]*Re}),be.emit("dragpan")):Si&&(l.swipePanning=!0,be.panBy({x:Yt*Re,y:on*Re}),be.emit("dragpan"),Ma&&(Ma.unactivate(),l.redrawHint("select",!0),l.touchData.start=null))),yt=l.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY),we[0]=yt[0],we[1]=yt[1])}for(Ci=0;Ci<we.length;Ci++)Qt[Ci]=we[Ci];de&&V.touches.length>0&&!l.hoverData.draggingEles&&!l.swipePanning&&null!=l.data.bgActivePosistion&&(l.data.bgActivePosistion=void 0,l.redrawHint("select",!0),l.redraw())}},!1),l.registerBinding(window,"touchcancel",Be=function(V){var de=l.touchData.start;l.touchData.capture=!1,de&&de.unactivate()}),l.registerBinding(window,"touchend",Ke=function(V){var de=l.touchData.start;if(l.touchData.capture){0===V.touches.length&&(l.touchData.capture=!1),V.preventDefault();var be=l.selection;l.swipePanning=!1,l.hoverData.draggingEles=!1;var Si,we=l.cy,Qt=we.zoom(),Re=l.touchData.now,yt=l.touchData.earlier;if(V.touches[0]){var mi=l.projectIntoViewport(V.touches[0].clientX,V.touches[0].clientY);Re[0]=mi[0],Re[1]=mi[1]}if(V.touches[1]&&(mi=l.projectIntoViewport(V.touches[1].clientX,V.touches[1].clientY),Re[2]=mi[0],Re[3]=mi[1]),V.touches[2]&&(mi=l.projectIntoViewport(V.touches[2].clientX,V.touches[2].clientY),Re[4]=mi[0],Re[5]=mi[1]),de&&de.unactivate(),l.touchData.cxt){if(Si={originalEvent:V,type:"cxttapend",position:{x:Re[0],y:Re[1]}},de?de.emit(Si):we.emit(Si),!l.touchData.cxtDragged){var ai={originalEvent:V,type:"cxttap",position:{x:Re[0],y:Re[1]}};de?de.emit(ai):we.emit(ai)}return l.touchData.start&&(l.touchData.start._private.grabbed=!1),l.touchData.cxt=!1,l.touchData.start=null,void l.redraw()}if(!V.touches[2]&&we.boxSelectionEnabled()&&l.touchData.selecting){l.touchData.selecting=!1;var Ci=we.collection(l.getAllInBox(be[0],be[1],be[2],be[3]));be[0]=void 0,be[1]=void 0,be[2]=void 0,be[3]=void 0,be[4]=0,l.redrawHint("select",!0),we.emit({type:"boxend",originalEvent:V,position:{x:Re[0],y:Re[1]}}),Ci.emit("box").stdFilter(function(Os){return Os.selectable()&&!Os.selected()}).select().emit("boxselect"),Ci.nonempty()&&l.redrawHint("eles",!0),l.redraw()}if(de?.unactivate(),V.touches[2])l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);else if(!V.touches[1]&&!V.touches[0]&&!V.touches[0]){l.data.bgActivePosistion=void 0,l.redrawHint("select",!0);var qt=l.dragData.touchDragEles;if(null!=de){var on=de._private.grabbed;M(qt),l.redrawHint("drag",!0),l.redrawHint("eles",!0),on&&(de.emit("freeon"),qt.emit("free"),l.dragData.didDrag&&(de.emit("dragfreeon"),qt.emit("dragfree"))),s(de,["touchend","tapend","vmouseup","tapdragout"],V,{x:Re[0],y:Re[1]}),de.unactivate(),l.touchData.start=null}else{var An=l.findNearestElement(Re[0],Re[1],!0,!0);s(An,["touchend","tapend","vmouseup","tapdragout"],V,{x:Re[0],y:Re[1]})}var Da=l.touchData.startPosition[0]-Re[0],$n=l.touchData.startPosition[1]-Re[1],go=(Da*Da+$n*$n)*Qt*Qt;l.touchData.singleTouchMoved||(de||we.$(":selected").unselect(["tapunselect"]),s(de,["tap","vclick"],V,{x:Re[0],y:Re[1]}),jt=!1,V.timeStamp-Xe<=we.multiClickDebounceTime()?(Zt&&clearTimeout(Zt),jt=!0,Xe=null,s(de,["dbltap","vdblclick"],V,{x:Re[0],y:Re[1]})):(Zt=setTimeout(function(){jt||s(de,["onetap","voneclick"],V,{x:Re[0],y:Re[1]})},we.multiClickDebounceTime()),Xe=V.timeStamp)),null!=de&&!l.dragData.didDrag&&de._private.selectable&&go<l.touchTapThreshold2&&!l.pinching&&("single"===we.selectionType()?(we.$(a).unmerge(de).unselect(["tapunselect"]),de.select(["tapselect"])):de.selected()?de.unselect(["tapunselect"]):de.select(["tapselect"]),l.redrawHint("eles",!0)),l.touchData.singleTouchMoved=!0}for(var Uo=0;Uo<Re.length;Uo++)yt[Uo]=Re[Uo];l.dragData.didDrag=!1,0===V.touches.length&&(l.touchData.dragDelta=[],l.touchData.startPosition=null,l.touchData.startGPosition=null,l.touchData.didSelect=!1),V.touches.length<2&&(1===V.touches.length&&(l.touchData.startGPosition=[V.touches[0].clientX,V.touches[0].clientY]),l.pinching=!1,l.redrawHint("eles",!0),l.redraw())}},!1),typeof TouchEvent>"u"){var Ue=[],Tt=function(V){return{clientX:V.clientX,clientY:V.clientY,force:1,identifier:V.pointerId,pageX:V.pageX,pageY:V.pageY,radiusX:V.width/2,radiusY:V.height/2,screenX:V.screenX,screenY:V.screenY,target:V.target}},xt=function(V){for(var de=0;de<Ue.length;de++)if(Ue[de].event.pointerId===V.pointerId)return void Ue.splice(de,1)},Xt=function(V){V.touches=Ue.map(function(de){return de.touch})},Ot=function(V){return"mouse"===V.pointerType||4===V.pointerType};l.registerBinding(l.container,"pointerdown",function(Le){Ot(Le)||(Le.preventDefault(),Ue.push(function(V){return{event:V,touch:Tt(V)}}(Le)),Xt(Le),Ee(Le))}),l.registerBinding(l.container,"pointerup",function(Le){Ot(Le)||(xt(Le),Xt(Le),Ke(Le))}),l.registerBinding(l.container,"pointercancel",function(Le){Ot(Le)||(xt(Le),Xt(Le),Be())}),l.registerBinding(l.container,"pointermove",function(Le){var V,de;Ot(Le)||(Le.preventDefault(),V=Le,(de=Ue.filter(function(Pe){return Pe.event.pointerId===V.pointerId})[0]).event=V,de.touch=Tt(V),Xt(Le),Ie(Le))})}};var un={generatePolygon:function(l,a){return this.nodeShapes[l]={renderer:this,name:l,points:a,draw:function(c,u,h,m,f){this.renderer.nodeShapeImpl("polygon",c,u,h,m,f,this.points)},intersectLine:function(c,u,h,m,f,v,_){return pc(f,v,this.points,c,u,h/2,m/2,_)},checkPoint:function(c,u,h,m,f,v,_){return Na(c,u,this.points,v,_,m,f,[0,-1],h)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(a,s,c,u,h){this.renderer.nodeShapeImpl(this.name,a,s,c,u,h)},intersectLine:function(a,s,c,u,h,m,f){return function(a,s,c,u,h,m){var f=c-a,v=u-s;f/=h,v/=m;var _=Math.sqrt(f*f+v*v),b=_-1;if(b<0)return[];var w=b/_;return[(c-a)*w+a,(u-s)*w+s]}(h,m,a,s,c/2+f,u/2+f)},checkPoint:function(a,s,c,u,h,m,f){return dl(a,s,u,h,m,f,c)}}},generateRoundPolygon:function(l,a){for(var s=new Array(2*a.length),c=0;c<a.length/2;c++){var h,u=2*c;h=c<a.length/2-1?2*(c+1):0,s[4*c]=a[u],s[4*c+1]=a[u+1];var m=a[h]-a[u],f=a[h+1]-a[u+1],v=Math.sqrt(m*m+f*f);s[4*c+2]=m/v,s[4*c+3]=f/v}return this.nodeShapes[l]={renderer:this,name:l,points:s,draw:function(b,w,x,D,k){this.renderer.nodeShapeImpl("round-polygon",b,w,x,D,k,this.points)},intersectLine:function(b,w,x,D,k,M,S){return function(a,s,c,u,h,m,f,v){for(var b,_=[],w=new Array(c.length),x=m/2,D=f/2,k=ae(m,f),M=0;M<c.length/4;M++){var T,S;S=0===M?c.length-2:4*M-2,T=4*M+2;var R=u+x*c[4*M],O=h+D*c[4*M+1],j=k/Math.tan(Math.acos(-c[S]*c[T]-c[S+1]*c[T+1])/2),U=R-j*c[S],L=O-j*c[S+1],z=R+j*c[T],N=O+j*c[T+1];0===M?(w[c.length-2]=U,w[c.length-1]=L):(w[4*M-2]=U,w[4*M-1]=L),w[4*M]=z,w[4*M+1]=N;var W=c[S+1],G=-c[S];W*c[T]+G*c[T+1]<0&&(W*=-1,G*=-1),0!==(b=ro(a,s,u,h,U+W*k,L+G*k,k)).length&&_.push(b[0],b[1])}for(var ee=0;ee<w.length/4;ee++)0!==(b=fa(a,s,u,h,w[4*ee],w[4*ee+1],w[4*ee+2],w[4*ee+3],!1)).length&&_.push(b[0],b[1]);if(_.length>2){for(var K=[_[0],_[1]],Q=Math.pow(K[0]-a,2)+Math.pow(K[1]-s,2),ne=1;ne<_.length/2;ne++){var ce=Math.pow(_[2*ne]-a,2)+Math.pow(_[2*ne+1]-s,2);ce<=Q&&(K[0]=_[2*ne],K[1]=_[2*ne+1],Q=ce)}return K}return _}(k,M,this.points,b,w,x,D)},checkPoint:function(b,w,x,D,k,M,S){return function(a,s,c,u,h,m,f){for(var v=new Array(c.length),_=m/2,b=f/2,w=ae(m,f),x=w*w,D=0;D<c.length/4;D++){var M,k;k=0===D?c.length-2:4*D-2,M=4*D+2;var S=u+_*c[4*D],T=h+b*c[4*D+1],O=w/Math.tan(Math.acos(-c[k]*c[M]-c[k+1]*c[M+1])/2),F=S-O*c[k],j=T-O*c[k+1],U=S+O*c[M],L=T+O*c[M+1];v[4*D]=F,v[4*D+1]=j,v[4*D+2]=U,v[4*D+3]=L;var z=c[k+1],N=-c[k];z*c[M]+N*c[M+1]<0&&(z*=-1,N*=-1);var H=j+N*w;if(Math.pow(F+z*w-a,2)+Math.pow(H-s,2)<=x)return!0}return Qi(a,s,v)}(b,w,this.points,M,S,D,k)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:sr(4,0),draw:function(a,s,c,u,h){this.renderer.nodeShapeImpl(this.name,a,s,c,u,h)},intersectLine:function(a,s,c,u,h,m,f){return hc(h,m,a,s,c,u,f)},checkPoint:function(a,s,c,u,h,m,f){var v=fc(u,h),_=2*v;return!!(Na(a,s,this.points,m,f,u,h-_,[0,-1],c)||Na(a,s,this.points,m,f,u-_,h,[0,-1],c)||dl(a,s,_,_,m-u/2+v,f-h/2+v,c)||dl(a,s,_,_,m+u/2-v,f-h/2+v,c)||dl(a,s,_,_,m+u/2-v,f+h/2-v,c)||dl(a,s,_,_,m-u/2+v,f+h/2-v,c))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:sr(4,0),draw:function(a,s,c,u,h){this.renderer.nodeShapeImpl(this.name,a,s,c,u,h)},generateCutTrianglePts:function(a,s,c,u){var h=this.cornerLength,m=s/2,f=a/2,v=c-f,_=c+f,b=u-m,w=u+m;return{topLeft:[v,b+h,v+h,b,v+h,b+h],topRight:[_-h,b,_,b+h,_-h,b+h],bottomRight:[_,w-h,_-h,w,_-h,w-h],bottomLeft:[v+h,w,v,w-h,v+h,w-h]}},intersectLine:function(a,s,c,u,h,m,f){var v=this.generateCutTrianglePts(c+2*f,u+2*f,a,s),_=[].concat.apply([],[v.topLeft.splice(0,4),v.topRight.splice(0,4),v.bottomRight.splice(0,4),v.bottomLeft.splice(0,4)]);return pc(h,m,_,a,s)},checkPoint:function(a,s,c,u,h,m,f){if(Na(a,s,this.points,m,f,u,h-2*this.cornerLength,[0,-1],c)||Na(a,s,this.points,m,f,u-2*this.cornerLength,h,[0,-1],c))return!0;var v=this.generateCutTrianglePts(u,h,m,f);return Qi(a,s,v.topLeft)||Qi(a,s,v.topRight)||Qi(a,s,v.bottomRight)||Qi(a,s,v.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:sr(4,0),draw:function(a,s,c,u,h){this.renderer.nodeShapeImpl(this.name,a,s,c,u,h)},intersectLine:function(a,s,c,u,h,m,f){var w=this.generateBarrelBezierPts(c+2*f,u+2*f,a,s),x=function(M){var S=uc({x:M[0],y:M[1]},{x:M[2],y:M[3]},{x:M[4],y:M[5]},.15),T=uc({x:M[0],y:M[1]},{x:M[2],y:M[3]},{x:M[4],y:M[5]},.5),R=uc({x:M[0],y:M[1]},{x:M[2],y:M[3]},{x:M[4],y:M[5]},.85);return[M[0],M[1],S.x,S.y,T.x,T.y,R.x,R.y,M[4],M[5]]},D=[].concat(x(w.topLeft),x(w.topRight),x(w.bottomRight),x(w.bottomLeft));return pc(h,m,D,a,s)},generateBarrelBezierPts:function(a,s,c,u){var h=s/2,m=a/2,f=c-m,v=c+m,_=u-h,b=u+h,w=hl(a,s),x=w.heightOffset,D=w.widthOffset,k=w.ctrlPtOffsetPct*a,M={topLeft:[f,_+x,f+k,_,f+D,_],topRight:[v-D,_,v-k,_,v,_+x],bottomRight:[v,b-x,v-k,b,v-D,b],bottomLeft:[f+D,b,f+k,b,f,b-x]};return M.topLeft.isTop=!0,M.topRight.isTop=!0,M.bottomLeft.isBottom=!0,M.bottomRight.isBottom=!0,M},checkPoint:function(a,s,c,u,h,m,f){var v=hl(u,h),b=v.widthOffset;if(Na(a,s,this.points,m,f,u,h-2*v.heightOffset,[0,-1],c)||Na(a,s,this.points,m,f,u-2*b,h,[0,-1],c))return!0;for(var w=this.generateBarrelBezierPts(u,h,m,f),x=function(L,z,N){var W=N[4],G=N[2],H=N[0],q=N[5],$=N[1],ee=Math.min(W,H),K=Math.max(W,H),Q=Math.min(q,$),ne=Math.max(q,$);if(ee<=L&&L<=K&&Q<=z&&z<=ne){var ce=function(a,s,c){return[a-2*s+c,2*(s-a),a]}(W,G,H),pe=function(a,s,c,u){var h=s*s-4*a*(c-=u);if(h<0)return[];var m=Math.sqrt(h),f=2*a;return[(-s+m)/f,(-s-m)/f]}(ce[0],ce[1],ce[2],L),le=pe.filter(function(se){return 0<=se&&se<=1});if(le.length>0)return le[0]}return null},D=Object.keys(w),k=0;k<D.length;k++){var S=w[D[k]],T=x(a,s,S);if(null!=T){var j=Bn(S[5],S[3],S[1],T);if(S.isTop&&j<=s||S.isBottom&&s<=j)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:sr(4,0),draw:function(a,s,c,u,h){this.renderer.nodeShapeImpl(this.name,a,s,c,u,h)},intersectLine:function(a,s,c,u,h,m,f){var _=s-(u/2+f),x=fa(h,m,a,s,a-(c/2+f),_,a+(c/2+f),_,!1);return x.length>0?x:hc(h,m,a,s,c,u,f)},checkPoint:function(a,s,c,u,h,m,f){var v=fc(u,h),_=2*v;if(Na(a,s,this.points,m,f,u,h-_,[0,-1],c)||Na(a,s,this.points,m,f,u-_,h,[0,-1],c))return!0;var b=u/2+2*c,w=h/2+2*c;return!!(Qi(a,s,[m-b,f-w,m-b,f,m+b,f,m+b,f-w])||dl(a,s,_,_,m+u/2-v,f+h/2-v,c)||dl(a,s,_,_,m-u/2+v,f+h/2-v,c))}}},registerNodeShapes:function(){var l=this.nodeShapes={},a=this;this.generateEllipse(),this.generatePolygon("triangle",sr(3,0)),this.generateRoundPolygon("round-triangle",sr(3,0)),this.generatePolygon("rectangle",sr(4,0)),l.square=l.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var s=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",s),this.generateRoundPolygon("round-diamond",s),this.generatePolygon("pentagon",sr(5,0)),this.generateRoundPolygon("round-pentagon",sr(5,0)),this.generatePolygon("hexagon",sr(6,0)),this.generateRoundPolygon("round-hexagon",sr(6,0)),this.generatePolygon("heptagon",sr(7,0)),this.generateRoundPolygon("round-heptagon",sr(7,0)),this.generatePolygon("octagon",sr(8,0)),this.generateRoundPolygon("round-octagon",sr(8,0));var c=new Array(20),u=Io(5,0),h=Io(5,Math.PI/5),m=.5*(3-Math.sqrt(5));m*=1.57;for(var f=0;f<h.length/2;f++)h[2*f]*=m,h[2*f+1]*=m;for(f=0;f<5;f++)c[4*f]=u[2*f],c[4*f+1]=u[2*f+1],c[4*f+2]=h[2*f],c[4*f+3]=h[2*f+1];c=ul(c),this.generatePolygon("star",c),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var v=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",v),this.generateRoundPolygon("round-tag",v),l.makePolygon=function(_){var x,w="polygon-"+_.join("$");return(x=this[w])?x:a.generatePolygon(w,_)}}},Uc={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(l){l=l||Oh();var a=this;void 0===a.averageRedrawTime&&(a.averageRedrawTime=0),void 0===a.lastRedrawTime&&(a.lastRedrawTime=0),void 0===a.lastDrawTime&&(a.lastDrawTime=0),a.requestedFrame=!0,a.renderOptions=l},beforeRender:function(l,a){if(!this.destroyed){null==a&&Yi("Priority is not optional for beforeRender");var s=this.beforeRenderCallbacks;s.push({fn:l,priority:a}),s.sort(function(c,u){return u.priority-c.priority})}}},gg=function(a,s,c){for(var u=a.beforeRenderCallbacks,h=0;h<u.length;h++)u[h].fn(s,c)};Uc.startRenderLoop=function(){var l=this,a=l.cy;l.renderLoopStarted||(l.renderLoopStarted=!0,Th(function c(u){if(!l.destroyed){if(!a.batching())if(l.requestedFrame&&!l.skipFrame){gg(l,!0,u);var h=ma();l.render(l.renderOptions);var m=l.lastDrawTime=ma();void 0===l.averageRedrawTime&&(l.averageRedrawTime=m-h),void 0===l.redrawCount&&(l.redrawCount=0),l.redrawCount++,void 0===l.redrawTotalTime&&(l.redrawTotalTime=0);var f=m-h;l.redrawTotalTime+=f,l.lastRedrawTime=f,l.averageRedrawTime=l.averageRedrawTime/2+f/2,l.requestedFrame=!1}else gg(l,!1,u);l.skipFrame=!1,Th(c)}}))};var Mm=function(a){this.init(a)},zo=Mm.prototype;zo.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],zo.init=function(l){var a=this;a.options=l,a.cy=l.cy;var s=a.container=l.cy.container();if(Nt){var c=Nt.document,u=c.head,h="__________cytoscape_stylesheet",m="__________cytoscape_container",f=null!=c.getElementById(h);if(s.className.indexOf(m)<0&&(s.className=(s.className||"")+" "+m),!f){var v=c.createElement("style");v.id=h,v.innerHTML="."+m+" { position: relative; }",u.insertBefore(v,u.children[0])}"static"===Nt.getComputedStyle(s).getPropertyValue("position")&&Pi("A Cytoscape container has style position:static and so can not use UI extensions properly")}a.selection=[void 0,void 0,void 0,void 0,0],a.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],a.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},a.dragData={possibleDragElements:[]},a.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},a.redraws=0,a.showFps=l.showFps,a.debug=l.debug,a.hideEdgesOnViewport=l.hideEdgesOnViewport,a.textureOnViewport=l.textureOnViewport,a.wheelSensitivity=l.wheelSensitivity,a.motionBlurEnabled=l.motionBlur,a.forcedPixelRatio=Je(l.pixelRatio)?l.pixelRatio:null,a.motionBlur=l.motionBlur,a.motionBlurOpacity=l.motionBlurOpacity,a.motionBlurTransparency=1-a.motionBlurOpacity,a.motionBlurPxRatio=1,a.mbPxRBlurry=1,a.minMbLowQualFrames=4,a.fullQualityMb=!1,a.clearedForMotionBlur=[],a.desktopTapThreshold=l.desktopTapThreshold,a.desktopTapThreshold2=l.desktopTapThreshold*l.desktopTapThreshold,a.touchTapThreshold=l.touchTapThreshold,a.touchTapThreshold2=l.touchTapThreshold*l.touchTapThreshold,a.tapholdDuration=500,a.bindings=[],a.beforeRenderCallbacks=[],a.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},a.registerNodeShapes(),a.registerArrowShapes(),a.registerCalculationListeners()},zo.notify=function(l,a){var s=this,c=s.cy;if(!this.destroyed){if("init"===l)return void s.load();if("destroy"===l)return void s.destroy();("add"===l||"remove"===l||"move"===l&&c.hasCompoundNodes()||"load"===l||"zorder"===l||"mount"===l)&&s.invalidateCachedZSortedEles(),"viewport"===l&&s.redrawHint("select",!0),("load"===l||"resize"===l||"mount"===l)&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container)),s.redrawHint("eles",!0),s.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},zo.destroy=function(){var l=this;l.destroyed=!0,l.cy.stopAnimationLoop();for(var a=0;a<l.bindings.length;a++){var s=l.bindings[a],u=s.target;(u.off||u.removeEventListener).apply(u,s.args)}if(l.bindings=[],l.beforeRenderCallbacks=[],l.onUpdateEleCalcsFns=[],l.removeObserver&&l.removeObserver.disconnect(),l.styleObserver&&l.styleObserver.disconnect(),l.resizeObserver&&l.resizeObserver.disconnect(),l.labelCalcDiv)try{document.body.removeChild(l.labelCalcDiv)}catch{}},zo.isHeadless=function(){return!1},[hg,Dm,km,Ss,un,Uc].forEach(function(l){Bt(zo,l)});var Em=1e3/60,_g_setupDequeueing=function(a){return function(){var c=this,u=this.renderer;if(!c.dequeueingSetup){c.dequeueingSetup=!0;var h=Ze.default(function(){u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},a.deqRedrawThreshold);u.beforeRender(function(_,b){var w=ma(),x=u.averageRedrawTime,D=u.lastRedrawTime,k=[],M=u.cy.extent(),S=u.getPixelRatio();for(_||u.flushRenderedStyleQueue();;){var T=ma(),R=T-w,O=T-b;if(D<Em){if(O>=a.deqFastCost*(Em-(_?x:0)))break}else if(_){if(R>=a.deqCost*D||R>=a.deqAvgCost*x)break}else if(O>=a.deqNoDrawCost*Em)break;var j=a.deq(c,S,M);if(!(j.length>0))break;for(var U=0;U<j.length;U++)k.push(j[U])}k.length>0&&(a.onDeqd(c,k),!_&&a.shouldRedraw(c,k,S,M)&&h())},(a.priority||ds)(c))}}},Iy=function(){function l(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cd;Fn(this,l),this.idsByKey=new La,this.keyForId=new La,this.cachesByLvl=new La,this.lvls=[],this.getKey=a,this.doesEleInvalidateKey=s}return Bi(l,[{key:"getIdsFor",value:function(s){null==s&&Yi("Can not get id list for null key");var c=this.idsByKey,u=this.idsByKey.get(s);return u||(u=new hs,c.set(s,u)),u}},{key:"addIdForKey",value:function(s,c){null!=s&&this.getIdsFor(s).add(c)}},{key:"deleteIdForKey",value:function(s,c){null!=s&&this.getIdsFor(s).delete(c)}},{key:"getNumberOfIdsForKey",value:function(s){return null==s?0:this.getIdsFor(s).size}},{key:"updateKeyMappingFor",value:function(s){var c=s.id(),u=this.keyForId.get(c),h=this.getKey(s);this.deleteIdForKey(u,c),this.addIdForKey(h,c),this.keyForId.set(c,h)}},{key:"deleteKeyMappingFor",value:function(s){var c=s.id(),u=this.keyForId.get(c);this.deleteIdForKey(u,c),this.keyForId.delete(c)}},{key:"keyHasChangedFor",value:function(s){var c=s.id();return this.keyForId.get(c)!==this.getKey(s)}},{key:"isInvalid",value:function(s){return this.keyHasChangedFor(s)||this.doesEleInvalidateKey(s)}},{key:"getCachesAt",value:function(s){var c=this.cachesByLvl,u=this.lvls,h=c.get(s);return h||(h=new La,c.set(s,h),u.push(s)),h}},{key:"getCache",value:function(s,c){return this.getCachesAt(c).get(s)}},{key:"get",value:function(s,c){var u=this.getKey(s),h=this.getCache(u,c);return null!=h&&this.updateKeyMappingFor(s),h}},{key:"getForCachedKey",value:function(s,c){var u=this.keyForId.get(s.id());return this.getCache(u,c)}},{key:"hasCache",value:function(s,c){return this.getCachesAt(c).has(s)}},{key:"has",value:function(s,c){var u=this.getKey(s);return this.hasCache(u,c)}},{key:"setCache",value:function(s,c,u){u.key=s,this.getCachesAt(c).set(s,u)}},{key:"set",value:function(s,c,u){var h=this.getKey(s);this.setCache(h,c,u),this.updateKeyMappingFor(s)}},{key:"deleteCache",value:function(s,c){this.getCachesAt(c).delete(s)}},{key:"delete",value:function(s,c){var u=this.getKey(s);this.deleteCache(u,c)}},{key:"invalidateKey",value:function(s){var c=this;this.lvls.forEach(function(u){return c.deleteCache(s,u)})}},{key:"invalidate",value:function(s){var c=s.id(),u=this.keyForId.get(c);this.deleteKeyMappingFor(s);var h=this.doesEleInvalidateKey(s);return h&&this.invalidateKey(u),h||0===this.getNumberOfIdsForKey(u)}}]),l}(),Ll={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Am=Nn({getKey:null,doesEleInvalidateKey:Cd,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Pa,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ts=function(a,s){var c=this;c.renderer=a,c.onDequeues=[];var u=Am(s);Bt(c,u),c.lookup=new Iy(u.getKey,u.doesEleInvalidateKey),c.setupDequeueing()},In=Ts.prototype;In.reasons=Ll,In.getTextureQueue=function(l){var a=this;return a.eleImgCaches=a.eleImgCaches||{},a.eleImgCaches[l]=a.eleImgCaches[l]||[]},In.getRetiredTextureQueue=function(l){var s=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return s[l]=s[l]||[]},In.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new mt.default(function(s,c){return c.reqs-s.reqs})},In.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},In.getElement=function(l,a,s,c,u){var h=this,m=this.renderer,f=m.cy.zoom(),v=this.lookup;if(!a||0===a.w||0===a.h||isNaN(a.w)||isNaN(a.h)||!l.visible()||l.removed()||!h.allowEdgeTxrCaching&&l.isEdge()||!h.allowParentTxrCaching&&l.isParent())return null;if(null==c&&(c=Math.ceil(vf(f*s))),c<-4)c=-4;else if(f>=7.99||c>3)return null;var _=Math.pow(2,c),b=a.h*_,w=a.w*_,x=m.eleTextBiggerThanMin(l,_);if(!this.isVisible(l,x))return null;var k,D=v.get(l,c);if(D&&D.invalidated&&(D.invalidated=!1,D.texture.invalidatedWidth-=D.width),D)return D;if(k=b<=25?25:b<=50?50:50*Math.ceil(b/50),b>1024||w>1024)return null;var M=h.getTextureQueue(k),S=M[M.length-2],T=function(){return h.recycleTexture(k,w)||h.addTexture(k,w)};S||(S=M[M.length-1]),S||(S=T()),S.width-S.usedWidth<w&&(S=T());for(var U,R=function(K){return K&&K.scaledLabelShown===x},O=u&&u===Ll.dequeue,F=u&&u===Ll.highQuality,j=u&&u===Ll.downscale,L=c+1;L<=3;L++){var z=v.get(l,L);if(z){U=z;break}}var N=U&&U.level===c+1?U:null,W=function(){S.context.drawImage(N.texture.canvas,N.x,0,N.width,N.height,S.usedWidth,0,w,b)};if(S.context.setTransform(1,0,0,1,0,0),S.context.clearRect(S.usedWidth,0,w,k),R(N))W();else if(R(U)){if(!F)return h.queueElement(l,U.level-1),U;for(var G=U.level;G>c;G--)N=h.getElement(l,a,s,G,Ll.downscale);W()}else{var H;if(!O&&!F&&!j)for(var q=c-1;q>=-4;q--){var $=v.get(l,q);if($){H=$;break}}if(R(H))return h.queueElement(l,c),H;S.context.translate(S.usedWidth,0),S.context.scale(_,_),this.drawElement(S.context,l,a,x,!1),S.context.scale(1/_,1/_),S.context.translate(-S.usedWidth,0)}return D={x:S.usedWidth,texture:S,level:c,scale:_,width:w,height:b,scaledLabelShown:x},S.usedWidth+=Math.ceil(w+8),S.eleCaches.push(D),v.set(l,c,D),h.checkTextureFullness(S),D},In.invalidateElements=function(l){for(var a=0;a<l.length;a++)this.invalidateElement(l[a])},In.invalidateElement=function(l){var a=this,s=a.lookup,c=[];if(s.isInvalid(l)){for(var h=-4;h<=3;h++){var m=s.getForCachedKey(l,h);m&&c.push(m)}if(s.invalidate(l))for(var v=0;v<c.length;v++){var _=c[v],b=_.texture;b.invalidatedWidth+=_.width,_.invalidated=!0,a.checkTextureUtility(b)}a.removeFromQueue(l)}},In.checkTextureUtility=function(l){l.invalidatedWidth>=.2*l.width&&this.retireTexture(l)},In.checkTextureFullness=function(l){var s=this.getTextureQueue(l.height);l.usedWidth/l.width>.8&&l.fullnessChecks>=10?So(s,l):l.fullnessChecks++},In.retireTexture=function(l){var s=l.height,c=this.getTextureQueue(s),u=this.lookup;So(c,l),l.retired=!0;for(var h=l.eleCaches,m=0;m<h.length;m++){var f=h[m];u.deleteCache(f.key,f.level)}Ph(h),this.getRetiredTextureQueue(s).push(l)},In.addTexture=function(l,a){var u={};return this.getTextureQueue(l).push(u),u.eleCaches=[],u.height=l,u.width=Math.max(1024,a),u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,u.canvas=this.renderer.makeOffscreenCanvas(u.width,u.height),u.context=u.canvas.getContext("2d"),u},In.recycleTexture=function(l,a){for(var c=this.getTextureQueue(l),u=this.getRetiredTextureQueue(l),h=0;h<u.length;h++){var m=u[h];if(m.width>=a)return m.retired=!1,m.usedWidth=0,m.invalidatedWidth=0,m.fullnessChecks=0,Ph(m.eleCaches),m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(0,0,m.width,m.height),So(u,m),c.push(m),m}},In.queueElement=function(l,a){var c=this.getElementQueue(),u=this.getElementKeyToQueue(),h=this.getKey(l),m=u[h];if(m)m.level=Math.max(m.level,a),m.eles.merge(l),m.reqs++,c.updateItem(m);else{var f={eles:l.spawn().merge(l),level:a,reqs:1,key:h};c.push(f),u[h]=f}},In.dequeue=function(l){for(var a=this,s=a.getElementQueue(),c=a.getElementKeyToQueue(),u=[],h=a.lookup,m=0;m<1&&s.size()>0;m++){var f=s.pop(),v=f.key,_=f.eles[0],b=h.hasCache(_,f.level);if(c[v]=null,!b){u.push(f);var w=a.getBoundingBox(_);a.getElement(_,w,l,f.level,Ll.dequeue)}}return u},In.removeFromQueue=function(l){var s=this.getElementQueue(),c=this.getElementKeyToQueue(),u=this.getKey(l),h=c[u];null!=h&&(1===h.eles.length?(h.reqs=Rh,s.updateItem(h),s.pop(),c[u]=null):h.eles.unmerge(l))},In.onDequeue=function(l){this.onDequeues.push(l)},In.offDequeue=function(l){So(this.onDequeues,l)},In.setupDequeueing=_g_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(a,s,c){return a.dequeue(s,c)},onDeqd:function(a,s){for(var c=0;c<a.onDequeues.length;c++)(0,a.onDequeues[c])(s)},shouldRedraw:function(a,s,c,u){for(var h=0;h<s.length;h++)for(var m=s[h].eles,f=0;f<m.length;f++){var v=m[f].boundingBox();if(Md(v,u))return!0}return!1},priority:function(a){return a.renderer.beforeRenderPriorities.eleTxrDeq}});var Eg=function(a){var s=this,c=s.renderer=a,u=c.cy;s.layersByLevel={},s.firstGet=!0,s.lastInvalidationTime=ma()-500,s.skipping=!1,s.eleTxrDeqs=u.collection(),s.scheduleElementRefinement=Ze.default(function(){s.refineElementTextures(s.eleTxrDeqs),s.eleTxrDeqs.unmerge(s.eleTxrDeqs)},50),c.beforeRender(function(m,f){s.skipping=f-s.lastInvalidationTime<=250},c.beforeRenderPriorities.lyrTxrSkip),s.layersQueue=new mt.default(function(f,v){return v.reqs-f.reqs}),s.setupDequeueing()},er=Eg.prototype,Sg=0,Tg=Math.pow(2,53)-1;er.makeLayer=function(l,a){var s=Math.pow(2,a),c=Math.ceil(l.w*s),u=Math.ceil(l.h*s),h=this.renderer.makeOffscreenCanvas(c,u),m={id:Sg=++Sg%Tg,bb:l,level:a,width:c,height:u,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0},f=m.context,v=-m.bb.x1,_=-m.bb.y1;return f.scale(s,s),f.translate(v,_),m},er.getLayers=function(l,a,s){var c=this,m=c.renderer.cy.zoom(),f=c.firstGet;if(c.firstGet=!1,null==s)if((s=Math.ceil(vf(m*a)))<-4)s=-4;else if(m>=3.99||s>2)return null;c.validateLayersElesOrdering(s,l);var w,D,v=c.layersByLevel,_=Math.pow(2,s),b=v[s]=v[s]||[];if(c.levelIsComplete(s,l))return b;!function(){var W=function(ee){if(c.validateLayersElesOrdering(ee,l),c.levelIsComplete(ee,l))return D=v[ee],!0},G=function(ee){if(!D)for(var K=s+ee;-4<=K&&K<=2&&!W(K);K+=ee);};G(1),G(-1);for(var H=b.length-1;H>=0;H--){var q=b[H];q.invalid&&So(b,q)}}();var S=function(W){var G=(W=W||{}).after;if(function(){if(!w){w=zr();for(var W=0;W<l.length;W++)ze(w,l[W].boundingBox())}}(),w.w*_*(w.h*_)>16e6)return null;var q=c.makeLayer(w,s);if(null!=G){var $=b.indexOf(G)+1;b.splice($,0,q)}else(void 0===W.insert||W.insert)&&b.unshift(q);return q};if(c.skipping&&!f)return null;for(var T=null,R=l.length/1,O=!f,F=0;F<l.length;F++){var j=l[F],U=j._private.rscratch,L=U.imgLayerCaches=U.imgLayerCaches||{},z=L[s];if(z)T=z;else{if((!T||T.eles.length>=R||!Hh(T.bb,j.boundingBox()))&&!(T=S({insert:!0,after:T})))return null;D||O?c.queueLayer(T,j):c.drawEleInLayer(T,j,s,a),T.eles.push(j),L[s]=T}}return D||(O?null:b)},er.getEleLevelForLayerLevel=function(l,a){return l},er.drawEleInLayer=function(l,a,s,c){var h=this.renderer,m=l.context,f=a.boundingBox();0===f.w||0===f.h||!a.visible()||(s=this.getEleLevelForLayerLevel(s,c),h.setImgSmoothing(m,!1),h.drawCachedElement(m,a,null,null,s,!0),h.setImgSmoothing(m,!0))},er.levelIsComplete=function(l,a){var c=this.layersByLevel[l];if(!c||0===c.length)return!1;for(var u=0,h=0;h<c.length;h++){var m=c[h];if(m.reqs>0||m.invalid)return!1;u+=m.eles.length}return u===a.length},er.validateLayersElesOrdering=function(l,a){var s=this.layersByLevel[l];if(s)for(var c=0;c<s.length;c++){for(var u=s[c],h=-1,m=0;m<a.length;m++)if(u.eles[0]===a[m]){h=m;break}if(h<0)this.invalidateLayer(u);else{var f=h;for(m=0;m<u.eles.length;m++)if(u.eles[m]!==a[f+m]){this.invalidateLayer(u);break}}}},er.updateElementsInLayers=function(l,a){for(var c=il(l[0]),u=0;u<l.length;u++)for(var h=c?null:l[u],m=c?l[u]:l[u].ele,f=m._private.rscratch,v=f.imgLayerCaches=f.imgLayerCaches||{},_=-4;_<=2;_++){var b=v[_];!b||h&&this.getEleLevelForLayerLevel(b.level)!==h.level||a(b,m,h)}},er.haveLayers=function(){for(var a=!1,s=-4;s<=2;s++){var c=this.layersByLevel[s];if(c&&c.length>0){a=!0;break}}return a},er.invalidateElements=function(l){var a=this;0!==l.length&&(a.lastInvalidationTime=ma(),0!==l.length&&a.haveLayers()&&a.updateElementsInLayers(l,function(c,u,h){a.invalidateLayer(c)}))},er.invalidateLayer=function(l){if(this.lastInvalidationTime=ma(),!l.invalid){var a=l.level,s=l.eles;So(this.layersByLevel[a],l),l.elesQueue=[],l.invalid=!0,l.replacement&&(l.replacement.invalid=!0);for(var u=0;u<s.length;u++){var h=s[u]._private.rscratch.imgLayerCaches;h&&(h[a]=null)}}},er.refineElementTextures=function(l){var a=this;a.updateElementsInLayers(l,function(c,u,h){var m=c.replacement;if(m||((m=c.replacement=a.makeLayer(c.bb,c.level)).replaces=c,m.eles=c.eles),!m.reqs)for(var f=0;f<m.eles.length;f++)a.queueLayer(m,m.eles[f])})},er.enqueueElementRefinement=function(l){this.eleTxrDeqs.merge(l),this.scheduleElementRefinement()},er.queueLayer=function(l,a){var c=this.layersQueue,u=l.elesQueue,h=u.hasId=u.hasId||{};if(!l.replacement){if(a){if(h[a.id()])return;u.push(a),h[a.id()]=!0}l.reqs?(l.reqs++,c.updateItem(l)):(l.reqs=1,c.push(l))}},er.dequeue=function(l){for(var a=this,s=a.layersQueue,c=[],u=0;u<1&&0!==s.size();){var h=s.peek();if(h.replacement)s.pop();else if(h.replaces&&h!==h.replaces.replacement)s.pop();else if(h.invalid)s.pop();else{var m=h.elesQueue.shift();m&&(a.drawEleInLayer(h,m,h.level,l),u++),0===c.length&&c.push(!0),0===h.elesQueue.length&&(s.pop(),h.reqs=0,h.replaces&&a.applyLayerReplacement(h),a.requestRedraw())}}return c},er.applyLayerReplacement=function(l){var s=this.layersByLevel[l.level],c=l.replaces,u=s.indexOf(c);if(!(u<0||c.invalid)){s[u]=l;for(var h=0;h<l.eles.length;h++){var m=l.eles[h]._private,f=m.imgLayerCaches=m.imgLayerCaches||{};f&&(f[l.level]=l)}this.requestRedraw()}},er.requestRedraw=Ze.default(function(){var l=this.renderer;l.redrawHint("eles",!0),l.redrawHint("drag",!0),l.redraw()},100),er.setupDequeueing=_g_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(a,s){return a.dequeue(s)},onDeqd:ds,shouldRedraw:Pa,priority:function(a){return a.renderer.beforeRenderPriorities.lyrTxrDeq}});var Lm,Jd={};function Nm(l,a){for(var s=0;s<a.length;s++){var c=a[s];l.lineTo(c.x,c.y)}}function By(l,a,s){for(var c,u=0;u<a.length;u++){var h=a[u];0===u&&(c=h),l.lineTo(h.x,h.y)}l.quadraticCurveTo(s.x,s.y,c.x,c.y)}function Ig(l,a,s){l.beginPath&&l.beginPath();for(var c=a,u=0;u<c.length;u++)l.lineTo((h=c[u]).x,h.y);var m=s,f=s[0];for(l.moveTo(f.x,f.y),u=1;u<m.length;u++){var h;l.lineTo((h=m[u]).x,h.y)}l.closePath&&l.closePath()}function Ag(l,a,s,c,u){l.beginPath&&l.beginPath(),l.arc(s,c,u,0,2*Math.PI,!1);var h=a,m=h[0];l.moveTo(m.x,m.y);for(var f=0;f<h.length;f++){var v=h[f];l.lineTo(v.x,v.y)}l.closePath&&l.closePath()}function Rg(l,a,s,c){l.arc(a,s,c,0,2*Math.PI,!1)}Jd.arrowShapeImpl=function(l){return(Lm||(Lm={polygon:Nm,"triangle-backcurve":By,"triangle-tee":Ig,"circle-triangle":Ag,"triangle-cross":Ig,circle:Rg}))[l]};var mr={drawElement:function(l,a,s,c,u,h){a.isNode()?this.drawNode(l,a,s,c,u,h):this.drawEdge(l,a,s,c,u,h)},drawElementOverlay:function(l,a){a.isNode()?this.drawNodeOverlay(l,a):this.drawEdgeOverlay(l,a)},drawElementUnderlay:function(l,a){a.isNode()?this.drawNodeUnderlay(l,a):this.drawEdgeUnderlay(l,a)},drawCachedElementPortion:function(l,a,s,c,u,h,m,f){var v=this,_=s.getBoundingBox(a);if(0!==_.w&&0!==_.h){var b=s.getElement(a,_,c,u,h);if(null!=b){var w=f(v,a);if(0===w)return;var T,R,O,F,j,z,x=m(v,a),D=_.x1,k=_.y1,M=_.w,S=_.h;if(0!==x){var U=s.getRotationPoint(a);l.translate(O=U.x,F=U.y),l.rotate(x),(j=v.getImgSmoothing(l))||v.setImgSmoothing(l,!0);var L=s.getRotationOffset(a);T=L.x,R=L.y}else T=D,R=k;1!==w&&(l.globalAlpha=(z=l.globalAlpha)*w),l.drawImage(b.texture.canvas,b.x,0,b.width,b.height,T,R,M,S),1!==w&&(l.globalAlpha=z),0!==x&&(l.rotate(-x),l.translate(-O,-F),j||v.setImgSmoothing(l,!1))}else s.drawElement(l,a)}}},Og=function(){return 0},Pg=function(a,s){return a.getTextAngle(s,null)},Vy=function(a,s){return a.getTextAngle(s,"source")},xD=function(a,s){return a.getTextAngle(s,"target")},eu=function(a,s){return s.effectiveOpacity()},Bm=function(a,s){return s.pstyle("text-opacity").pfValue*s.effectiveOpacity()};mr.drawCachedElement=function(l,a,s,c,u,h){var m=this,f=m.data,v=f.eleTxrCache,_=f.lblTxrCache,b=f.slbTxrCache,w=f.tlbTxrCache,x=a.boundingBox(),D=!0===h?v.reasons.highQuality:null;if(0!==x.w&&0!==x.h&&a.visible()&&(!c||Md(x,c))){var k=a.isEdge(),M=a.element()._private.rscratch.badLine;m.drawElementUnderlay(l,a),m.drawCachedElementPortion(l,a,v,s,u,D,Og,eu),(!k||!M)&&m.drawCachedElementPortion(l,a,_,s,u,D,Pg,Bm),k&&!M&&(m.drawCachedElementPortion(l,a,b,s,u,D,Vy,Bm),m.drawCachedElementPortion(l,a,w,s,u,D,xD,Bm)),m.drawElementOverlay(l,a)}},mr.drawElements=function(l,a){for(var c=0;c<a.length;c++)this.drawElement(l,a[c])},mr.drawCachedElements=function(l,a,s,c){for(var h=0;h<a.length;h++)this.drawCachedElement(l,a[h],s,c)},mr.drawCachedNodes=function(l,a,s,c){for(var h=0;h<a.length;h++){var m=a[h];!m.isNode()||this.drawCachedElement(l,m,s,c)}},mr.drawLayeredElements=function(l,a,s,c){var h=this.data.lyrTxrCache.getLayers(a,s);if(h)for(var m=0;m<h.length;m++){var f=h[m],v=f.bb;0===v.w||0===v.h||l.drawImage(f.canvas,v.x1,v.y1,v.w,v.h)}else this.drawCachedElements(l,a,s,c)};var za={drawEdge:function(l,a,s){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this,f=a._private.rscratch;if((!h||a.visible())&&!f.badLine&&null!=f.allpts&&!isNaN(f.allpts[0])){var v;s&&l.translate(-(v=s).x1,-v.y1);var _=h?a.pstyle("opacity").value:1,b=h?a.pstyle("line-opacity").value:1,w=a.pstyle("curve-style").value,x=a.pstyle("line-style").value,D=a.pstyle("width").pfValue,k=a.pstyle("line-cap").value,M=_*b,S=_*b,T=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;"straight-triangle"===w?(m.eleStrokeStyle(l,a,H),m.drawEdgeTrianglePath(a,l,f.allpts)):(l.lineWidth=D,l.lineCap=k,m.eleStrokeStyle(l,a,H),m.drawEdgePath(a,l,f.allpts,x),l.lineCap="butt")},R=function(){!u||m.drawEdgeOverlay(l,a)},O=function(){!u||m.drawEdgeUnderlay(l,a)},F=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;m.drawArrowheads(l,a,H)},j=function(){m.drawElementText(l,a,null,c)};l.lineJoin="round";var U="yes"===a.pstyle("ghost").value;if(U){var L=a.pstyle("ghost-offset-x").pfValue,z=a.pstyle("ghost-offset-y").pfValue,N=a.pstyle("ghost-opacity").value,W=M*N;l.translate(L,z),T(W),F(W),l.translate(-L,-z)}O(),T(),F(),R(),j(),s&&l.translate(v.x1,v.y1)}}},Vm=function(a){if(!["overlay","underlay"].includes(a))throw new Error("Invalid state");return function(s,c){if(c.visible()){var u=c.pstyle("".concat(a,"-opacity")).value;if(0!==u){var h=this,m=h.usePaths(),f=c._private.rscratch,_=2*c.pstyle("".concat(a,"-padding")).pfValue,b=c.pstyle("".concat(a,"-color")).value;s.lineWidth=_,s.lineCap="self"!==f.edgeType||m?"round":"butt",h.colorStrokeStyle(s,b[0],b[1],b[2],u),h.drawEdgePath(c,s,f.allpts,"solid")}}}};za.drawEdgeOverlay=Vm("overlay"),za.drawEdgeUnderlay=Vm("underlay"),za.drawEdgePath=function(l,a,s,c){var m,u=l._private.rscratch,h=a,f=!1,v=this.usePaths(),_=l.pstyle("line-dash-pattern").pfValue,b=l.pstyle("line-dash-offset").pfValue;if(v){var w=s.join("$");u.pathCacheKey&&u.pathCacheKey===w?(m=a=u.pathCache,f=!0):(m=a=new Path2D,u.pathCacheKey=w,u.pathCache=m)}if(h.setLineDash)switch(c){case"dotted":h.setLineDash([1,1]);break;case"dashed":h.setLineDash(_),h.lineDashOffset=b;break;case"solid":h.setLineDash([])}if(!f&&!u.badLine)switch(a.beginPath&&a.beginPath(),a.moveTo(s[0],s[1]),u.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var D=2;D+3<s.length;D+=4)a.quadraticCurveTo(s[D],s[D+1],s[D+2],s[D+3]);break;case"straight":case"segments":case"haystack":for(var k=2;k+1<s.length;k+=2)a.lineTo(s[k],s[k+1])}a=h,v?a.stroke(m):a.stroke(),a.setLineDash&&a.setLineDash([])},za.drawEdgeTrianglePath=function(l,a,s){a.fillStyle=a.strokeStyle;for(var c=l.pstyle("width").pfValue,u=0;u+1<s.length;u+=2){var h=[s[u+2]-s[u],s[u+3]-s[u+1]],m=Math.sqrt(h[0]*h[0]+h[1]*h[1]),f=[h[1]/m,-h[0]/m],v=[f[0]*c/2,f[1]*c/2];a.beginPath(),a.moveTo(s[u]-v[0],s[u+1]-v[1]),a.lineTo(s[u]+v[0],s[u+1]+v[1]),a.lineTo(s[u+2],s[u+3]),a.closePath(),a.fill()}},za.drawArrowheads=function(l,a,s){var c=a._private.rscratch,u="haystack"===c.edgeType;u||this.drawArrowhead(l,a,"source",c.arrowStartX,c.arrowStartY,c.srcArrowAngle,s),this.drawArrowhead(l,a,"mid-target",c.midX,c.midY,c.midtgtArrowAngle,s),this.drawArrowhead(l,a,"mid-source",c.midX,c.midY,c.midsrcArrowAngle,s),u||this.drawArrowhead(l,a,"target",c.arrowEndX,c.arrowEndY,c.tgtArrowAngle,s)},za.drawArrowhead=function(l,a,s,c,u,h,m){if(!(isNaN(c)||null==c||isNaN(u)||null==u||isNaN(h)||null==h)){var f=this,v=a.pstyle(s+"-arrow-shape").value;if("none"!==v){var _="hollow"===a.pstyle(s+"-arrow-fill").value?"both":"filled",b=a.pstyle(s+"-arrow-fill").value,w=a.pstyle("width").pfValue,x=a.pstyle("opacity").value;void 0===m&&(m=x);var D=l.globalCompositeOperation;(1!==m||"hollow"===b)&&(l.globalCompositeOperation="destination-out",f.colorFillStyle(l,255,255,255,1),f.colorStrokeStyle(l,255,255,255,1),f.drawArrowShape(a,l,_,w,v,c,u,h),l.globalCompositeOperation=D);var k=a.pstyle(s+"-arrow-color").value;f.colorFillStyle(l,k[0],k[1],k[2],m),f.colorStrokeStyle(l,k[0],k[1],k[2],m),f.drawArrowShape(a,l,b,w,v,c,u,h)}}},za.drawArrowShape=function(l,a,s,c,u,h,m,f){var w,v=this,_=this.usePaths()&&"triangle-cross"!==u,b=!1,x=a,D={x:h,y:m},k=l.pstyle("arrow-scale").value,M=this.getArrowWidth(c,k),S=v.arrowShapes[u];if(_){var T=v.arrowPathCache=v.arrowPathCache||[],R=cs(u),O=T[R];null!=O?(w=a=O,b=!0):(w=a=new Path2D,T[R]=w)}b||(a.beginPath&&a.beginPath(),_?S.draw(a,1,0,{x:0,y:0},1):S.draw(a,M,f,D,c),a.closePath&&a.closePath()),a=x,_&&(a.translate(h,m),a.rotate(f),a.scale(M,M)),("filled"===s||"both"===s)&&(_?a.fill(w):a.fill()),("hollow"===s||"both"===s)&&(a.lineWidth=(S.matchEdgeWidth?c:1)/(_?M:1),a.lineJoin="miter",_?a.stroke(w):a.stroke()),_&&(a.scale(1/M,1/M),a.rotate(-f),a.translate(-h,-m))};var tu={safeDrawImage:function(l,a,s,c,u,h,m,f,v,_){if(!(u<=0||h<=0||v<=0||_<=0))try{l.drawImage(a,s,c,u,h,m,f,v,_)}catch(b){Pi(b)}},drawInscribedImage:function(l,a,s,c,u){var h=this,m=s.position(),f=m.x,v=m.y,_=s.cy().style(),b=_.getIndexedStyle.bind(_),w=b(s,"background-fit","value",c),x=b(s,"background-repeat","value",c),D=s.width(),k=s.height(),M=2*s.padding(),S=D+("inner"===b(s,"background-width-relative-to","value",c)?0:M),T=k+("inner"===b(s,"background-height-relative-to","value",c)?0:M),R=s._private.rscratch,F="node"===b(s,"background-clip","value",c),j=b(s,"background-image-opacity","value",c)*u,U=b(s,"background-image-smoothing","value",c),L=a.width||a.cachedW,z=a.height||a.cachedH;(null==L||null==z)&&(document.body.appendChild(a),L=a.cachedW=a.width||a.offsetWidth,z=a.cachedH=a.height||a.offsetHeight,document.body.removeChild(a));var N=L,W=z;if("auto"!==b(s,"background-width","value",c)&&(N="%"===b(s,"background-width","units",c)?b(s,"background-width","pfValue",c)*S:b(s,"background-width","pfValue",c)),"auto"!==b(s,"background-height","value",c)&&(W="%"===b(s,"background-height","units",c)?b(s,"background-height","pfValue",c)*T:b(s,"background-height","pfValue",c)),0!==N&&0!==W){if("contain"===w)N*=G=Math.min(S/N,T/W),W*=G;else if("cover"===w){var G;N*=G=Math.max(S/N,T/W),W*=G}var H=f-S/2,q=b(s,"background-position-x","units",c),$=b(s,"background-position-x","pfValue",c);H+="%"===q?(S-N)*$:$;var ee=b(s,"background-offset-x","units",c),K=b(s,"background-offset-x","pfValue",c);H+="%"===ee?(S-N)*K:K;var Q=v-T/2,ne=b(s,"background-position-y","units",c),ce=b(s,"background-position-y","pfValue",c);Q+="%"===ne?(T-W)*ce:ce;var pe=b(s,"background-offset-y","units",c),le=b(s,"background-offset-y","pfValue",c);Q+="%"===pe?(T-W)*le:le,R.pathCache&&(H-=f,Q-=v,f=0,v=0);var se=l.globalAlpha;l.globalAlpha=j;var Me=h.getImgSmoothing(l),Se=!1;if("no"===U&&Me?(h.setImgSmoothing(l,!1),Se=!0):"yes"===U&&!Me&&(h.setImgSmoothing(l,!0),Se=!0),"no-repeat"===x)F&&(l.save(),R.pathCache?l.clip(R.pathCache):(h.nodeShapes[h.getNodeShape(s)].draw(l,f,v,S,T),l.clip())),h.safeDrawImage(l,a,0,0,L,z,H,Q,N,W),F&&l.restore();else{var xe=l.createPattern(a,x);l.fillStyle=xe,h.nodeShapes[h.getNodeShape(s)].draw(l,f,v,S,T),l.translate(H,Q),l.fill(),l.translate(-H,-Q)}l.globalAlpha=se,Se&&h.setImgSmoothing(l,Me)}}},po={};function Fg(l,a,s,c,u){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;l.beginPath(),l.moveTo(a+h,s),l.lineTo(a+c-h,s),l.quadraticCurveTo(a+c,s,a+c,s+h),l.lineTo(a+c,s+u-h),l.quadraticCurveTo(a+c,s+u,a+c-h,s+u),l.lineTo(a+h,s+u),l.quadraticCurveTo(a,s+u,a,s+u-h),l.lineTo(a,s+h),l.quadraticCurveTo(a,s,a+h,s),l.closePath(),l.fill()}po.eleTextBiggerThanMin=function(l,a){if(!a){var s=l.cy().zoom(),c=this.getPixelRatio(),u=Math.ceil(vf(s*c));a=Math.pow(2,u)}return!(l.pstyle("font-size").pfValue*a<l.pstyle("min-zoomed-font-size").pfValue)},po.drawElementText=function(l,a,s,c,u){var h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this;if(null==c){if(h&&!m.eleTextBiggerThanMin(a))return}else if(!1===c)return;if(a.isNode()){var f=a.pstyle("label");if(!f||!f.value)return;var v=m.getLabelJustification(a);l.textAlign=v,l.textBaseline="bottom"}else{var _=a.element()._private.rscratch.badLine,b=a.pstyle("label"),w=a.pstyle("source-label"),x=a.pstyle("target-label");if(_||(!b||!b.value)&&(!w||!w.value)&&(!x||!x.value))return;l.textAlign="center",l.textBaseline="bottom"}var k,D=!s;s&&l.translate(-(k=s).x1,-k.y1),null==u?(m.drawText(l,a,null,D,h),a.isEdge()&&(m.drawText(l,a,"source",D,h),m.drawText(l,a,"target",D,h))):m.drawText(l,a,u,D,h),s&&l.translate(k.x1,k.y1)},po.getFontCache=function(l){var a;this.fontCaches=this.fontCaches||[];for(var s=0;s<this.fontCaches.length;s++)if((a=this.fontCaches[s]).context===l)return a;return this.fontCaches.push(a={context:l}),a},po.setupTextStyle=function(l,a){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=a.pstyle("font-style").strValue,u=a.pstyle("font-size").pfValue+"px",h=a.pstyle("font-family").strValue,m=a.pstyle("font-weight").strValue,f=s?a.effectiveOpacity()*a.pstyle("text-opacity").value:1,v=a.pstyle("text-outline-opacity").value*f,_=a.pstyle("color").value,b=a.pstyle("text-outline-color").value;l.font=c+" "+m+" "+u+" "+h,l.lineJoin="round",this.colorFillStyle(l,_[0],_[1],_[2],f),this.colorStrokeStyle(l,b[0],b[1],b[2],v)},po.getTextAngle=function(l,a){var u=l._private.rscratch,m=l.pstyle((a?a+"-":"")+"text-rotation"),f=pa(u,"labelAngle",a);return"autorotate"===m.strValue?l.isEdge()?f:0:"none"===m.strValue?0:m.pfValue},po.drawText=function(l,a,s){var c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=a._private,m=h.rscratch,f=u?a.effectiveOpacity():1;if(!u||0!==f&&0!==a.pstyle("text-opacity").value){"main"===s&&(s=null);var b,w,v=pa(m,"labelX",s),_=pa(m,"labelY",s),x=this.getLabelText(a,s);if(null!=x&&""!==x&&!isNaN(v)&&!isNaN(_)){this.setupTextStyle(l,a,u);var j,D=s?s+"-":"",k=pa(m,"labelWidth",s),M=pa(m,"labelHeight",s),S=a.pstyle(D+"text-margin-x").pfValue,T=a.pstyle(D+"text-margin-y").pfValue,R=a.isEdge(),O=a.pstyle("text-halign").value,F=a.pstyle("text-valign").value;switch(R&&(O="center",F="center"),v+=S,_+=T,0!==(j=c?this.getTextAngle(a,s):0)&&(l.translate(b=v,w=_),l.rotate(j),v=0,_=0),F){case"top":break;case"center":_+=M/2;break;case"bottom":_+=M}var U=a.pstyle("text-background-opacity").value,L=a.pstyle("text-border-opacity").value,z=a.pstyle("text-border-width").pfValue,N=a.pstyle("text-background-padding").pfValue;if(U>0||z>0&&L>0){var W=v-N;switch(O){case"left":W-=k;break;case"center":W-=k/2}var G=_-M-N,H=k+2*N,q=M+2*N;if(U>0){var $=l.fillStyle,ee=a.pstyle("text-background-color").value;l.fillStyle="rgba("+ee[0]+","+ee[1]+","+ee[2]+","+U*f+")";var K=a.pstyle("text-background-shape").strValue;0===K.indexOf("round")?Fg(l,W,G,H,q,2):l.fillRect(W,G,H,q),l.fillStyle=$}if(z>0&&L>0){var Q=l.strokeStyle,ne=l.lineWidth,ce=a.pstyle("text-border-color").value,pe=a.pstyle("text-border-style").value;if(l.strokeStyle="rgba("+ce[0]+","+ce[1]+","+ce[2]+","+L*f+")",l.lineWidth=z,l.setLineDash)switch(pe){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([4,2]);break;case"double":l.lineWidth=z/4,l.setLineDash([]);break;case"solid":l.setLineDash([])}if(l.strokeRect(W,G,H,q),"double"===pe){var le=z/2;l.strokeRect(W+le,G+le,H-2*le,q-2*le)}l.setLineDash&&l.setLineDash([]),l.lineWidth=ne,l.strokeStyle=Q}}var se=2*a.pstyle("text-outline-width").pfValue;if(se>0&&(l.lineWidth=se),"wrap"===a.pstyle("text-wrap").value){var Me=pa(m,"labelWrapCachedLines",s),Se=pa(m,"labelLineHeight",s),xe=k/2,ye=this.getLabelJustification(a);switch("auto"===ye||("left"===O?"left"===ye?v+=-k:"center"===ye&&(v+=-xe):"center"===O?"left"===ye?v+=-xe:"right"===ye&&(v+=xe):"right"===O&&("center"===ye?v+=xe:"right"===ye&&(v+=k))),F){case"top":case"center":case"bottom":_-=(Me.length-1)*Se}for(var te=0;te<Me.length;te++)se>0&&l.strokeText(Me[te],v,_),l.fillText(Me[te],v,_),_+=Se}else se>0&&l.strokeText(x,v,_),l.fillText(x,v,_);0!==j&&(l.rotate(-j),l.translate(-b,-w))}}};var fo={drawNode:function(l,a,s){var f,v,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],m=this,_=a._private,b=_.rscratch,w=a.position();if(Je(w.x)&&Je(w.y)&&(!h||a.visible())){var k,T,x=h?a.effectiveOpacity():1,D=m.usePaths(),M=!1,S=a.padding();f=a.width()+2*S,v=a.height()+2*S,s&&l.translate(-(T=s).x1,-T.y1);for(var R=a.pstyle("background-image"),O=R.value,F=new Array(O.length),j=new Array(O.length),U=0,L=0;L<O.length;L++){var z=O[L],N=F[L]=null!=z&&"none"!==z;if(N){var W=a.cy().style().getIndexedStyle(a,"background-image-crossorigin","value",L);U++,j[L]=m.getCachedImage(z,W,function(){_.backgroundTimestamp=Date.now(),a.emitAndNotify("background")})}}var G=a.pstyle("background-blacken").value,H=a.pstyle("border-width").pfValue,q=a.pstyle("background-opacity").value*x,$=a.pstyle("border-color").value,ee=a.pstyle("border-style").value,K=a.pstyle("border-opacity").value*x;l.lineJoin="miter";var Q=function(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;m.eleFillStyle(l,a,et)},ne=function(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;m.colorStrokeStyle(l,$[0],$[1],$[2],et)},ce=a.pstyle("shape").strValue,pe=a.pstyle("shape-polygon-points").pfValue;if(D){l.translate(w.x,w.y);var le=m.nodePathCache=m.nodePathCache||[],se=hf("polygon"===ce?ce+","+pe.join(","):ce,""+v,""+f),Me=le[se];null!=Me?(M=!0,b.pathCache=k=Me):(k=new Path2D,le[se]=b.pathCache=k)}var Se=function(){if(!M){var et=w;D&&(et={x:0,y:0}),m.nodeShapes[m.getNodeShape(a)].draw(k||l,et.x,et.y,f,v)}D?l.fill(k):l.fill()},xe=function(){for(var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,xt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ci=_.backgrounding,Xt=0,Ot=0;Ot<j.length;Ot++){var Le=a.cy().style().getIndexedStyle(a,"background-image-containment","value",Ot);xt&&"over"===Le||!xt&&"inside"===Le?Xt++:F[Ot]&&j[Ot].complete&&!j[Ot].error&&(Xt++,m.drawInscribedImage(l,j[Ot],a,Ot,et))}_.backgrounding=Xt!==U,ci!==_.backgrounding&&a.updateStyle(!1)},ye=function(){var et=arguments.length>0&&void 0!==arguments[0]&&arguments[0],xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;m.hasPie(a)&&(m.drawPie(l,a,xt),et&&(D||m.nodeShapes[m.getNodeShape(a)].draw(l,w.x,w.y,f,v)))},te=function(){var et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,xt=(G>0?G:-G)*et,ci=G>0?0:255;0!==G&&(m.colorFillStyle(l,ci,ci,ci,xt),D?l.fill(k):l.fill())},Ee=function(){if(H>0){if(l.lineWidth=H,l.lineCap="butt",l.setLineDash)switch(ee){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([4,2]);break;case"solid":case"double":l.setLineDash([])}if(D?l.stroke(k):l.stroke(),"double"===ee){l.lineWidth=H/3;var et=l.globalCompositeOperation;l.globalCompositeOperation="destination-out",D?l.stroke(k):l.stroke(),l.globalCompositeOperation=et}l.setLineDash&&l.setLineDash([])}},Ie=function(){u&&m.drawNodeOverlay(l,a,w,f,v)},Be=function(){u&&m.drawNodeUnderlay(l,a,w,f,v)},Ke=function(){m.drawElementText(l,a,null,c)},jt="yes"===a.pstyle("ghost").value;if(jt){var Zt=a.pstyle("ghost-offset-x").pfValue,Xe=a.pstyle("ghost-offset-y").pfValue,Ue=a.pstyle("ghost-opacity").value,Tt=Ue*x;l.translate(Zt,Xe),Q(Ue*q),Se(),xe(Tt,!0),ne(Ue*K),Ee(),ye(0!==G||0!==H),xe(Tt,!1),te(Tt),l.translate(-Zt,-Xe)}D&&l.translate(-w.x,-w.y),Be(),D&&l.translate(w.x,w.y),Q(),Se(),xe(x,!0),ne(),Ee(),ye(0!==G||0!==H),xe(x,!1),te(),D&&l.translate(-w.x,-w.y),Ke(),Ie(),s&&l.translate(T.x1,T.y1)}}},Yc=function(a){if(!["overlay","underlay"].includes(a))throw new Error("Invalid state");return function(s,c,u,h,m){if(c.visible()){var v=c.pstyle("".concat(a,"-padding")).pfValue,_=c.pstyle("".concat(a,"-opacity")).value,b=c.pstyle("".concat(a,"-color")).value,w=c.pstyle("".concat(a,"-shape")).value;if(_>0){if(u=u||c.position(),null==h||null==m){var x=c.padding();h=c.width()+2*x,m=c.height()+2*x}this.colorFillStyle(s,b[0],b[1],b[2],_),this.nodeShapes[w].draw(s,u.x,u.y,h+2*v,m+2*v),s.fill()}}}};fo.drawNodeOverlay=Yc("overlay"),fo.drawNodeUnderlay=Yc("underlay"),fo.hasPie=function(l){return(l=l[0])._private.hasPie},fo.drawPie=function(l,a,s,c){a=a[0],c=c||a.position();var u=a.cy().style(),h=a.pstyle("pie-size"),m=c.x,f=c.y,v=a.width(),_=a.height(),b=Math.min(v,_)/2,w=0;this.usePaths()&&(m=0,f=0),"%"===h.units?b*=h.pfValue:void 0!==h.pfValue&&(b=h.pfValue/2);for(var D=1;D<=u.pieBackgroundN;D++){var k=a.pstyle("pie-"+D+"-background-size").value,M=a.pstyle("pie-"+D+"-background-color").value,S=a.pstyle("pie-"+D+"-background-opacity").value*s,T=k/100;T+w>1&&(T=1-w);var R=1.5*Math.PI+2*Math.PI*w,F=R+2*Math.PI*T;0===k||w>=1||w+T>1||(l.beginPath(),l.moveTo(m,f),l.arc(m,f,b,R,F),l.closePath(),this.colorFillStyle(l,M[0],M[1],M[2],S),l.fill(),w+=T)}};for(var Or={getPixelRatio:function(){var l=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(l.backingStorePixelRatio||l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1)},paintCache:function(l){for(var c,a=this.paintCaches=this.paintCaches||[],s=!0,u=0;u<a.length;u++)if((c=a[u]).context===l){s=!1;break}return s&&a.push(c={context:l}),c},createGradientStyleFor:function(l,a,s,c,u){var h,m=this.usePaths(),f=s.pstyle(a+"-gradient-stop-colors").value,v=s.pstyle(a+"-gradient-stop-positions").pfValue;if("radial-gradient"===c)if(s.isEdge()){var _=s.sourceEndpoint(),b=s.targetEndpoint(),w=s.midpoint(),x=sl(_,w),D=sl(b,w);h=l.createRadialGradient(w.x,w.y,0,w.x,w.y,Math.max(x,D))}else{var k=m?{x:0,y:0}:s.position(),M=s.paddedWidth(),S=s.paddedHeight();h=l.createRadialGradient(k.x,k.y,0,k.x,k.y,Math.max(M,S))}else if(s.isEdge()){var T=s.sourceEndpoint(),R=s.targetEndpoint();h=l.createLinearGradient(T.x,T.y,R.x,R.y)}else{var O=m?{x:0,y:0}:s.position(),U=s.paddedWidth()/2,L=s.paddedHeight()/2;switch(s.pstyle("background-gradient-direction").value){case"to-bottom":h=l.createLinearGradient(O.x,O.y-L,O.x,O.y+L);break;case"to-top":h=l.createLinearGradient(O.x,O.y+L,O.x,O.y-L);break;case"to-left":h=l.createLinearGradient(O.x+U,O.y,O.x-U,O.y);break;case"to-right":h=l.createLinearGradient(O.x-U,O.y,O.x+U,O.y);break;case"to-bottom-right":case"to-right-bottom":h=l.createLinearGradient(O.x-U,O.y-L,O.x+U,O.y+L);break;case"to-top-right":case"to-right-top":h=l.createLinearGradient(O.x-U,O.y+L,O.x+U,O.y-L);break;case"to-bottom-left":case"to-left-bottom":h=l.createLinearGradient(O.x+U,O.y-L,O.x-U,O.y+L);break;case"to-top-left":case"to-left-top":h=l.createLinearGradient(O.x+U,O.y+L,O.x-U,O.y-L)}}if(!h)return null;for(var N=v.length===f.length,W=f.length,G=0;G<W;G++)h.addColorStop(N?v[G]:G/(W-1),"rgba("+f[G][0]+","+f[G][1]+","+f[G][2]+","+u+")");return h},gradientFillStyle:function(l,a,s,c){var u=this.createGradientStyleFor(l,"background",a,s,c);if(!u)return null;l.fillStyle=u},colorFillStyle:function(l,a,s,c,u){l.fillStyle="rgba("+a+","+s+","+c+","+u+")"},eleFillStyle:function(l,a,s){var c=a.pstyle("background-fill").value;if("linear-gradient"===c||"radial-gradient"===c)this.gradientFillStyle(l,a,c,s);else{var u=a.pstyle("background-color").value;this.colorFillStyle(l,u[0],u[1],u[2],s)}},gradientStrokeStyle:function(l,a,s,c){var u=this.createGradientStyleFor(l,"line",a,s,c);if(!u)return null;l.strokeStyle=u},colorStrokeStyle:function(l,a,s,c,u){l.strokeStyle="rgba("+a+","+s+","+c+","+u+")"},eleStrokeStyle:function(l,a,s){var c=a.pstyle("line-fill").value;if("linear-gradient"===c||"radial-gradient"===c)this.gradientStrokeStyle(l,a,c,s);else{var u=a.pstyle("line-color").value;this.colorStrokeStyle(l,u[0],u[1],u[2],s)}},matchCanvasSize:function(l){var a=this,s=a.data,c=a.findContainerClientCoords(),u=c[2],h=c[3],m=a.getPixelRatio();(l===a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE]||l===a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG])&&(m=a.motionBlurPxRatio);var b,v=u*m,_=h*m;if(v!==a.canvasWidth||_!==a.canvasHeight){a.fontCaches=null;var w=s.canvasContainer;w.style.width=u+"px",w.style.height=h+"px";for(var x=0;x<a.CANVAS_LAYERS;x++)(b=s.canvases[x]).width=v,b.height=_,b.style.width=u+"px",b.style.height=h+"px";for(x=0;x<a.BUFFER_COUNT;x++)(b=s.bufferCanvases[x]).width=v,b.height=_,b.style.width=u+"px",b.style.height=h+"px";a.textureMult=1,m<=1&&(b=s.bufferCanvases[a.TEXTURE_BUFFER],a.textureMult=2,b.width=v*a.textureMult,b.height=_*a.textureMult),a.canvasWidth=v,a.canvasHeight=_}},renderTo:function(l,a,s,c){this.render({forcedContext:l,forcedZoom:a,forcedPan:s,drawAllLayers:!0,forcedPxRatio:c})},render:function(l){var a=(l=l||Oh()).forcedContext,s=l.drawAllLayers,c=l.drawOnlyNodeLayer,u=l.forcedZoom,h=l.forcedPan,m=this,f=void 0===l.forcedPxRatio?this.getPixelRatio():l.forcedPxRatio,v=m.cy,_=m.data,b=_.canvasNeedsRedraw,w=m.textureOnViewport&&!a&&(m.pinching||m.hoverData.dragging||m.swipePanning||m.data.wheelZooming),x=void 0!==l.motionBlur?l.motionBlur:m.motionBlur,D=m.motionBlurPxRatio,k=v.hasCompoundNodes(),M=m.hoverData.draggingEles,T=x=x&&!a&&m.motionBlurEnabled&&!(m.hoverData.selecting||m.touchData.selecting);a||(m.prevPxRatio!==f&&(m.invalidateContainerClientCoordsCache(),m.matchCanvasSize(m.container),m.redrawHint("eles",!0),m.redrawHint("drag",!0)),m.prevPxRatio=f),!a&&m.motionBlurTimeout&&clearTimeout(m.motionBlurTimeout),x&&(null==m.mbFrames&&(m.mbFrames=0),m.mbFrames++,m.mbFrames<3&&(T=!1),m.mbFrames>m.minMbLowQualFrames&&(m.motionBlurPxRatio=m.mbPxRBlurry)),m.clearingMotionBlur&&(m.motionBlurPxRatio=1),m.textureDrawLastFrame&&!w&&(b[m.NODE]=!0,b[m.SELECT_BOX]=!0);var R=v.style(),O=v.zoom(),F=void 0!==u?u:O,j=v.pan(),U={x:j.x,y:j.y},L={zoom:O,pan:{x:j.x,y:j.y}},z=m.prevViewport;!(void 0===z||L.zoom!==z.zoom||L.pan.x!==z.pan.x||L.pan.y!==z.pan.y)&&!(M&&!k)&&(m.motionBlurPxRatio=1),h&&(U=h),F*=f,U.x*=f,U.y*=f;var W=m.getCachedZSortedEles();function G(Xe,Ue,Tt,ft,et){var xt=Xe.globalCompositeOperation;Xe.globalCompositeOperation="destination-out",m.colorFillStyle(Xe,255,255,255,m.motionBlurTransparency),Xe.fillRect(Ue,Tt,ft,et),Xe.globalCompositeOperation=xt}function H(Xe,Ue){var Tt,ft,et,xt;m.clearingMotionBlur||Xe!==_.bufferContexts[m.MOTIONBLUR_BUFFER_NODE]&&Xe!==_.bufferContexts[m.MOTIONBLUR_BUFFER_DRAG]?(Tt=U,ft=F,et=m.canvasWidth,xt=m.canvasHeight):(Tt={x:j.x*D,y:j.y*D},ft=O*D,et=m.canvasWidth*D,xt=m.canvasHeight*D),Xe.setTransform(1,0,0,1,0,0),"motionBlur"===Ue?G(Xe,0,0,et,xt):!a&&(void 0===Ue||Ue)&&Xe.clearRect(0,0,et,xt),s||(Xe.translate(Tt.x,Tt.y),Xe.scale(ft,ft)),h&&Xe.translate(h.x,h.y),u&&Xe.scale(u,u)}if(w||(m.textureDrawLastFrame=!1),w){if(m.textureDrawLastFrame=!0,!m.textureCache){m.textureCache={},m.textureCache.bb=v.mutableElements().boundingBox(),m.textureCache.texture=m.data.bufferCanvases[m.TEXTURE_BUFFER];var q=m.data.bufferContexts[m.TEXTURE_BUFFER];q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,m.canvasWidth*m.textureMult,m.canvasHeight*m.textureMult),m.render({forcedContext:q,drawOnlyNodeLayer:!0,forcedPxRatio:f*m.textureMult}),(L=m.textureCache.viewport={zoom:v.zoom(),pan:v.pan(),width:m.canvasWidth,height:m.canvasHeight}).mpan={x:(0-L.pan.x)/L.zoom,y:(0-L.pan.y)/L.zoom}}b[m.DRAG]=!1,b[m.NODE]=!1;var ee=m.textureCache.texture;L=m.textureCache.viewport,($=_.contexts[m.NODE]).setTransform(1,0,0,1,0,0),x?G($,0,0,L.width,L.height):$.clearRect(0,0,L.width,L.height);var K=R.core("outside-texture-bg-color").value,Q=R.core("outside-texture-bg-opacity").value;m.colorFillStyle($,K[0],K[1],K[2],Q),$.fillRect(0,0,L.width,L.height),O=v.zoom(),H($,!1),$.clearRect(L.mpan.x,L.mpan.y,L.width/L.zoom/f,L.height/L.zoom/f),$.drawImage(ee,L.mpan.x,L.mpan.y,L.width/L.zoom/f,L.height/L.zoom/f)}else m.textureOnViewport&&!a&&(m.textureCache=null);var ne=v.extent(),ce=m.pinching||m.hoverData.dragging||m.swipePanning||m.data.wheelZooming||m.hoverData.draggingEles||m.cy.animated(),pe=m.hideEdgesOnViewport&&ce,le=[];if(le[m.NODE]=!b[m.NODE]&&x&&!m.clearedForMotionBlur[m.NODE]||m.clearingMotionBlur,le[m.NODE]&&(m.clearedForMotionBlur[m.NODE]=!0),le[m.DRAG]=!b[m.DRAG]&&x&&!m.clearedForMotionBlur[m.DRAG]||m.clearingMotionBlur,le[m.DRAG]&&(m.clearedForMotionBlur[m.DRAG]=!0),b[m.NODE]||s||c||le[m.NODE]){var se=x&&!le[m.NODE]&&1!==D;H($=a||(se?m.data.bufferContexts[m.MOTIONBLUR_BUFFER_NODE]:_.contexts[m.NODE]),x&&!se?"motionBlur":void 0),pe?m.drawCachedNodes($,W.nondrag,f,ne):m.drawLayeredElements($,W.nondrag,f,ne),m.debug&&m.drawDebugPoints($,W.nondrag),!s&&!x&&(b[m.NODE]=!1)}if(!c&&(b[m.DRAG]||s||le[m.DRAG])&&(se=x&&!le[m.DRAG]&&1!==D,H($=a||(se?m.data.bufferContexts[m.MOTIONBLUR_BUFFER_DRAG]:_.contexts[m.DRAG]),x&&!se?"motionBlur":void 0),pe?m.drawCachedNodes($,W.drag,f,ne):m.drawCachedElements($,W.drag,f,ne),m.debug&&m.drawDebugPoints($,W.drag),!s&&!x&&(b[m.DRAG]=!1)),m.showFps||!c&&b[m.SELECT_BOX]&&!s){var $;if(H($=a||_.contexts[m.SELECT_BOX]),1==m.selection[4]&&(m.hoverData.selecting||m.touchData.selecting)){O=m.cy.zoom();var Se=R.core("selection-box-border-width").value/O;$.lineWidth=Se,$.fillStyle="rgba("+R.core("selection-box-color").value[0]+","+R.core("selection-box-color").value[1]+","+R.core("selection-box-color").value[2]+","+R.core("selection-box-opacity").value+")",$.fillRect(m.selection[0],m.selection[1],m.selection[2]-m.selection[0],m.selection[3]-m.selection[1]),Se>0&&($.strokeStyle="rgba("+R.core("selection-box-border-color").value[0]+","+R.core("selection-box-border-color").value[1]+","+R.core("selection-box-border-color").value[2]+","+R.core("selection-box-opacity").value+")",$.strokeRect(m.selection[0],m.selection[1],m.selection[2]-m.selection[0],m.selection[3]-m.selection[1]))}if(_.bgActivePosistion&&!m.hoverData.selecting){O=m.cy.zoom();var xe=_.bgActivePosistion;$.fillStyle="rgba("+R.core("active-bg-color").value[0]+","+R.core("active-bg-color").value[1]+","+R.core("active-bg-color").value[2]+","+R.core("active-bg-opacity").value+")",$.beginPath(),$.arc(xe.x,xe.y,R.core("active-bg-size").pfValue/O,0,2*Math.PI),$.fill()}var ye=m.lastRedrawTime;if(m.showFps&&ye){ye=Math.round(ye);var te=Math.round(1e3/ye);$.setTransform(1,0,0,1,0,0),$.fillStyle="rgba(255, 0, 0, 0.75)",$.strokeStyle="rgba(255, 0, 0, 0.75)",$.lineWidth=1,$.fillText("1 frame = "+ye+" ms = "+te+" fps",0,20),$.strokeRect(0,30,250,20),$.fillRect(0,30,250*Math.min(te/60,1),20)}s||(b[m.SELECT_BOX]=!1)}if(x&&1!==D){var Ke=_.contexts[m.DRAG],jt=m.data.bufferCanvases[m.MOTIONBLUR_BUFFER_DRAG],Zt=function(Ue,Tt,ft){Ue.setTransform(1,0,0,1,0,0),ft||!T?Ue.clearRect(0,0,m.canvasWidth,m.canvasHeight):G(Ue,0,0,m.canvasWidth,m.canvasHeight),Ue.drawImage(Tt,0,0,m.canvasWidth*D,m.canvasHeight*D,0,0,m.canvasWidth,m.canvasHeight)};(b[m.NODE]||le[m.NODE])&&(Zt(_.contexts[m.NODE],m.data.bufferCanvases[m.MOTIONBLUR_BUFFER_NODE],le[m.NODE]),b[m.NODE]=!1),(b[m.DRAG]||le[m.DRAG])&&(Zt(Ke,jt,le[m.DRAG]),b[m.DRAG]=!1)}m.prevViewport=L,m.clearingMotionBlur&&(m.clearingMotionBlur=!1,m.motionBlurCleared=!0,m.motionBlur=!0),x&&(m.motionBlurTimeout=setTimeout(function(){m.motionBlurTimeout=null,m.clearedForMotionBlur[m.NODE]=!1,m.clearedForMotionBlur[m.DRAG]=!1,m.motionBlur=!1,m.clearingMotionBlur=!w,m.mbFrames=0,b[m.NODE]=!0,b[m.DRAG]=!0,m.redraw()},100)),a||v.emit("render")}},ja={drawPolygonPath:function(l,a,s,c,u,h){var m=c/2,f=u/2;l.beginPath&&l.beginPath(),l.moveTo(a+m*h[0],s+f*h[1]);for(var v=1;v<h.length/2;v++)l.lineTo(a+m*h[2*v],s+f*h[2*v+1]);l.closePath()},drawRoundPolygonPath:function(l,a,s,c,u,h){var m=c/2,f=u/2,v=ae(c,u);l.beginPath&&l.beginPath();for(var _=0;_<h.length/4;_++){var w,b;b=0===_?h.length-2:4*_-2,w=4*_+2;var x=a+m*h[4*_],D=s+f*h[4*_+1],M=v/Math.tan(Math.acos(-h[b]*h[w]-h[b+1]*h[w+1])/2),S=x-M*h[b],T=D-M*h[b+1],R=x+M*h[w],O=D+M*h[w+1];0===_?l.moveTo(S,T):l.lineTo(S,T),l.arcTo(x,D,R,O,v)}l.closePath()},drawRoundRectanglePath:function(l,a,s,c,u){var h=c/2,m=u/2,f=fc(c,u);l.beginPath&&l.beginPath(),l.moveTo(a,s-m),l.arcTo(a+h,s-m,a+h,s,f),l.arcTo(a+h,s+m,a,s+m,f),l.arcTo(a-h,s+m,a-h,s,f),l.arcTo(a-h,s-m,a,s-m,f),l.lineTo(a,s-m),l.closePath()},drawBottomRoundRectanglePath:function(l,a,s,c,u){var h=c/2,m=u/2,f=fc(c,u);l.beginPath&&l.beginPath(),l.moveTo(a,s-m),l.lineTo(a+h,s-m),l.lineTo(a+h,s),l.arcTo(a+h,s+m,a,s+m,f),l.arcTo(a-h,s+m,a-h,s,f),l.lineTo(a-h,s-m),l.lineTo(a,s-m),l.closePath()},drawCutRectanglePath:function(l,a,s,c,u){var h=c/2,m=u/2;l.beginPath&&l.beginPath(),l.moveTo(a-h+8,s-m),l.lineTo(a+h-8,s-m),l.lineTo(a+h,s-m+8),l.lineTo(a+h,s+m-8),l.lineTo(a+h-8,s+m),l.lineTo(a-h+8,s+m),l.lineTo(a-h,s+m-8),l.lineTo(a-h,s-m+8),l.closePath()},drawBarrelPath:function(l,a,s,c,u){var h=c/2,m=u/2,f=a-h,v=a+h,_=s-m,b=s+m,w=hl(c,u),x=w.widthOffset,D=w.heightOffset,k=w.ctrlPtOffsetPct*x;l.beginPath&&l.beginPath(),l.moveTo(f,_+D),l.lineTo(f,b-D),l.quadraticCurveTo(f+k,b,f+x,b),l.lineTo(v-x,b),l.quadraticCurveTo(v-k,b,v,b-D),l.lineTo(v,_+D),l.quadraticCurveTo(v-k,_,v-x,_),l.lineTo(f+x,_),l.quadraticCurveTo(f+k,_,f,_+D),l.closePath()}},iu=Math.sin(0),Bl=Math.cos(0),zm={},nu={},Lg=Math.PI/40,Vl=0*Math.PI;Vl<2*Math.PI;Vl+=Lg)zm[Vl]=Math.sin(Vl),nu[Vl]=Math.cos(Vl);ja.drawEllipsePath=function(l,a,s,c,u){if(l.beginPath&&l.beginPath(),l.ellipse)l.ellipse(a,s,c/2,u/2,0,0,2*Math.PI);else for(var h,m,f=c/2,v=u/2,_=0*Math.PI;_<2*Math.PI;_+=Lg)h=a-f*zm[_]*iu+f*nu[_]*Bl,m=s+v*nu[_]*iu+v*zm[_]*Bl,0===_?l.moveTo(h,m):l.lineTo(h,m);l.closePath()};var qc={};function jm(l){var a=l.indexOf(",");return l.substr(a+1)}function Kc(l,a,s){var c=function(){return a.toDataURL(s,l.quality)};switch(l.output){case"blob-promise":return new Cc(function(u,h){try{a.toBlob(function(m){null!=m?u(m):h(new Error("`canvas.toBlob()` sent a null value in its callback"))},s,l.quality)}catch(m){h(m)}});case"blob":return function Ng(l,a){for(var s=atob(l),c=new ArrayBuffer(s.length),u=new Uint8Array(c),h=0;h<s.length;h++)u[h]=s.charCodeAt(h);return new Blob([c],{type:a})}(jm(c()),s);case"base64":return jm(c());default:return c()}}qc.createBuffer=function(l,a){var s=document.createElement("canvas");return s.width=l,s.height=a,[s,s.getContext("2d")]},qc.bufferCanvasImage=function(l){var a=this.cy,c=a.mutableElements().boundingBox(),u=this.findContainerClientCoords(),h=l.full?Math.ceil(c.w):u[2],m=l.full?Math.ceil(c.h):u[3],f=Je(l.maxWidth)||Je(l.maxHeight),v=this.getPixelRatio(),_=1;if(void 0!==l.scale)h*=l.scale,m*=l.scale,_=l.scale;else if(f){var b=1/0,w=1/0;Je(l.maxWidth)&&(b=_*l.maxWidth/h),Je(l.maxHeight)&&(w=_*l.maxHeight/m),h*=_=Math.min(b,w),m*=_}f||(h*=v,m*=v,_*=v);var x=document.createElement("canvas");x.width=h,x.height=m,x.style.width=h+"px",x.style.height=m+"px";var D=x.getContext("2d");if(h>0&&m>0){D.clearRect(0,0,h,m),D.globalCompositeOperation="source-over";var k=this.getCachedZSortedEles();if(l.full)D.translate(-c.x1*_,-c.y1*_),D.scale(_,_),this.drawElements(D,k),D.scale(1/_,1/_),D.translate(c.x1*_,c.y1*_);else{var M=a.pan(),S={x:M.x*_,y:M.y*_};_*=a.zoom(),D.translate(S.x,S.y),D.scale(_,_),this.drawElements(D,k),D.scale(1/_,1/_),D.translate(-S.x,-S.y)}l.bg&&(D.globalCompositeOperation="destination-over",D.fillStyle=l.bg,D.rect(0,0,h,m),D.fill())}return x},qc.png=function(l){return Kc(l,this.bufferCanvasImage(l),"image/png")},qc.jpg=function(l){return Kc(l,this.bufferCanvasImage(l),"image/jpeg")};var Is=Bg,Ei=Bg.prototype;function Bg(l){var a=this;a.data={canvases:new Array(Ei.CANVAS_LAYERS),contexts:new Array(Ei.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ei.CANVAS_LAYERS),bufferCanvases:new Array(Ei.BUFFER_COUNT),bufferContexts:new Array(Ei.CANVAS_LAYERS)};var s="-webkit-tap-highlight-color",c="rgba(0,0,0,0)";a.data.canvasContainer=document.createElement("div");var u=a.data.canvasContainer.style;a.data.canvasContainer.style[s]=c,u.position="relative",u.zIndex="0",u.overflow="hidden";var h=l.cy.container();h.appendChild(a.data.canvasContainer),h.style[s]=c;var m={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};wi&&wi.userAgent.match(/msie|trident|edge/i)&&(m["-ms-touch-action"]="none",m["touch-action"]="none");for(var f=0;f<Ei.CANVAS_LAYERS;f++){var v=a.data.canvases[f]=document.createElement("canvas");a.data.contexts[f]=v.getContext("2d"),Object.keys(m).forEach(function(ye){v.style[ye]=m[ye]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(Ei.CANVAS_LAYERS-f),a.data.canvasContainer.appendChild(v),a.data.canvasNeedsRedraw[f]=!1}for(a.data.topCanvas=a.data.canvases[0],a.data.canvases[Ei.NODE].setAttribute("data-id","layer"+Ei.NODE+"-node"),a.data.canvases[Ei.SELECT_BOX].setAttribute("data-id","layer"+Ei.SELECT_BOX+"-selectbox"),a.data.canvases[Ei.DRAG].setAttribute("data-id","layer"+Ei.DRAG+"-drag"),f=0;f<Ei.BUFFER_COUNT;f++)a.data.bufferCanvases[f]=document.createElement("canvas"),a.data.bufferContexts[f]=a.data.bufferCanvases[f].getContext("2d"),a.data.bufferCanvases[f].style.position="absolute",a.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),a.data.bufferCanvases[f].style.zIndex=String(-f-1),a.data.bufferCanvases[f].style.visibility="hidden";a.pathsEnabled=!0;var _=zr(),w=function(te){return{x:-te.w/2,y:-te.h/2}},j=function(te){return te.boundingBox(),te[0]._private.bodyBounds},U=function(te){return te.boundingBox(),te[0]._private.labelBounds.main||_},L=function(te){return te.boundingBox(),te[0]._private.labelBounds.source||_},z=function(te){return te.boundingBox(),te[0]._private.labelBounds.target||_},N=function(te,Ee){return Ee},G=function(te,Ee,Ie){var Be=te?te+"-":"";return{x:Ee.x+Ie.pstyle(Be+"text-margin-x").pfValue,y:Ee.y+Ie.pstyle(Be+"text-margin-y").pfValue}},H=function(te,Ee,Ie){var Be=te[0]._private.rscratch;return{x:Be[Ee],y:Be[Ie]}},pe=a.data.eleTxrCache=new Ts(a,{getKey:function(te){return te[0]._private.nodeKey},doesEleInvalidateKey:function(te){var Ee=te[0]._private;return!(Ee.oldBackgroundTimestamp===Ee.backgroundTimestamp)},drawElement:function(te,Ee,Ie,Be,Ke){return a.drawElement(te,Ee,Ie,!1,!1,Ke)},getBoundingBox:j,getRotationPoint:function(te){return function(te){return{x:(te.x1+te.x2)/2,y:(te.y1+te.y2)/2}}(j(te))},getRotationOffset:function(te){return w(j(te))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),le=a.data.lblTxrCache=new Ts(a,{getKey:function(te){return te[0]._private.labelStyleKey},drawElement:function(te,Ee,Ie,Be,Ke){return a.drawElementText(te,Ee,Ie,Be,"main",Ke)},getBoundingBox:U,getRotationPoint:function(te){return G("",H(te,"labelX","labelY"),te)},getRotationOffset:function(te){var Ee=U(te),Ie=w(U(te));if(te.isNode()){switch(te.pstyle("text-halign").value){case"left":Ie.x=-Ee.w;break;case"right":Ie.x=0}switch(te.pstyle("text-valign").value){case"top":Ie.y=-Ee.h;break;case"bottom":Ie.y=0}}return Ie},isVisible:N}),se=a.data.slbTxrCache=new Ts(a,{getKey:function(te){return te[0]._private.sourceLabelStyleKey},drawElement:function(te,Ee,Ie,Be,Ke){return a.drawElementText(te,Ee,Ie,Be,"source",Ke)},getBoundingBox:L,getRotationPoint:function(te){return G("source",H(te,"sourceLabelX","sourceLabelY"),te)},getRotationOffset:function(te){return w(L(te))},isVisible:N}),Me=a.data.tlbTxrCache=new Ts(a,{getKey:function(te){return te[0]._private.targetLabelStyleKey},drawElement:function(te,Ee,Ie,Be,Ke){return a.drawElementText(te,Ee,Ie,Be,"target",Ke)},getBoundingBox:z,getRotationPoint:function(te){return G("target",H(te,"targetLabelX","targetLabelY"),te)},getRotationOffset:function(te){return w(z(te))},isVisible:N}),Se=a.data.lyrTxrCache=new Eg(a);a.onUpdateEleCalcs(function(te,Ee){pe.invalidateElements(Ee),le.invalidateElements(Ee),se.invalidateElements(Ee),Me.invalidateElements(Ee),Se.invalidateElements(Ee);for(var Ie=0;Ie<Ee.length;Ie++){var Be=Ee[Ie]._private;Be.oldBackgroundTimestamp=Be.backgroundTimestamp}});var xe=function(te){for(var Ee=0;Ee<te.length;Ee++)Se.enqueueElementRefinement(te[Ee].ele)};pe.onDequeue(xe),le.onDequeue(xe),se.onDequeue(xe),Me.onDequeue(xe)}Ei.CANVAS_LAYERS=3,Ei.SELECT_BOX=0,Ei.DRAG=1,Ei.NODE=2,Ei.BUFFER_COUNT=3,Ei.TEXTURE_BUFFER=0,Ei.MOTIONBLUR_BUFFER_NODE=1,Ei.MOTIONBLUR_BUFFER_DRAG=2,Ei.redrawHint=function(l,a){var s=this;switch(l){case"eles":s.data.canvasNeedsRedraw[Ei.NODE]=a;break;case"drag":s.data.canvasNeedsRedraw[Ei.DRAG]=a;break;case"select":s.data.canvasNeedsRedraw[Ei.SELECT_BOX]=a}};var CD=typeof Path2D<"u";Ei.path2dEnabled=function(l){if(void 0===l)return this.pathsEnabled;this.pathsEnabled=!!l},Ei.usePaths=function(){return CD&&this.pathsEnabled},Ei.setImgSmoothing=function(l,a){null!=l.imageSmoothingEnabled?l.imageSmoothingEnabled=a:(l.webkitImageSmoothingEnabled=a,l.mozImageSmoothingEnabled=a,l.msImageSmoothingEnabled=a)},Ei.getImgSmoothing=function(l){return null!=l.imageSmoothingEnabled?l.imageSmoothingEnabled:l.webkitImageSmoothingEnabled||l.mozImageSmoothingEnabled||l.msImageSmoothingEnabled},Ei.makeOffscreenCanvas=function(l,a){var s;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":ni(OffscreenCanvas))?s=new OffscreenCanvas(l,a):((s=document.createElement("canvas")).width=l,s.height=a),s},[Jd,mr,za,tu,po,fo,Or,ja,qc,{nodeShapeImpl:function(l,a,s,c,u,h,m){switch(l){case"ellipse":return this.drawEllipsePath(a,s,c,u,h);case"polygon":return this.drawPolygonPath(a,s,c,u,h,m);case"round-polygon":return this.drawRoundPolygonPath(a,s,c,u,h,m);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(a,s,c,u,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(a,s,c,u,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(a,s,c,u,h);case"barrel":return this.drawBarrelPath(a,s,c,u,h)}}}].forEach(function(l){Bt(Ei,l)});var Um=[{type:"layout",extensions:Kd},{type:"renderer",extensions:[{name:"null",impl:wm},{name:"base",impl:Mm},{name:"canvas",impl:Is}]}],Vg={},$m={};function Xc(l,a,s){var c=s,u=function(z){Pi("Can not register `"+a+"` for `"+l+"` since `"+z+"` already exists in the prototype and can not be overridden")};if("core"===l){if(Al.prototype[a])return u(a);Al.prototype[a]=s}else if("collection"===l){if(zn.prototype[a])return u(a);zn.prototype[a]=s}else if("layout"===l){for(var h=function(z){this.options=z,s.call(this,z),vt(this._private)||(this._private={}),this._private.cy=z.cy,this._private.listeners=[],this.createEmitter()},m=h.prototype=Object.create(s.prototype),f=[],v=0;v<f.length;v++){var _=f[v];m[_]=m[_]||function(){return this}}m.start&&!m.run?m.run=function(){return this.start(),this}:!m.start&&m.run&&(m.start=function(){return this.run(),this});var b=s.prototype.stop;m.stop=function(){var L=this.options;if(L&&L.animate){var z=this.animations;if(z)for(var N=0;N<z.length;N++)z[N].stop()}return b?b.call(this):this.emit("layoutstop"),this},m.destroy||(m.destroy=function(){return this}),m.cy=function(){return this._private.cy};var w=function(z){return z._private.cy},x={addEventFields:function(z,N){N.layout=z,N.cy=w(z),N.target=z},bubble:function(){return!0},parent:function(z){return w(z)}};Bt(m,{createEmitter:function(){return this._private.emitter=new Oc(x,this),this},emitter:function(){return this._private.emitter},on:function(z,N){return this.emitter().on(z,N),this},one:function(z,N){return this.emitter().one(z,N),this},once:function(z,N){return this.emitter().one(z,N),this},removeListener:function(z,N){return this.emitter().removeListener(z,N),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(z,N){return this.emitter().emit(z,N),this}}),Ni.eventAliasesOn(m),c=h}else if("renderer"===l&&"null"!==a&&"base"!==a){var D=au("renderer","base"),k=D.prototype,M=s,S=s.prototype,T=function(){D.apply(this,arguments),M.apply(this,arguments)},R=T.prototype;for(var O in k){var F=k[O];if(null!=S[O])return u(O);R[O]=F}for(var U in S)R[U]=S[U];k.clientFunctions.forEach(function(L){R[L]=R[L]||function(){Yi("Renderer does not implement `renderer."+L+"()` on its prototype")}}),c=T}else if("__proto__"===l||"constructor"===l||"prototype"===l)return Yi(l+" is an illegal type to be registered, possibly lead to prototype pollutions");return cf({map:Vg,keys:[l,a],value:c})}function au(l,a){return Cb({map:Vg,keys:[l,a]})}function Hg(l,a,s,c,u){return cf({map:$m,keys:[l,a,s,c],value:u})}function zg(l,a,s,c){return Cb({map:$m,keys:[l,a,s,c]})}var ou=function(){return 2===arguments.length?au.apply(null,arguments):3===arguments.length?Xc.apply(null,arguments):4===arguments.length?zg.apply(null,arguments):5===arguments.length?Hg.apply(null,arguments):void Yi("Invalid extension access syntax")};Al.prototype.extension=ou,Um.forEach(function(l){l.extensions.forEach(function(a){Xc(l.type,a.name,a.impl)})});var jo=function l(){if(!(this instanceof l))return new l;this.length=0},As=jo.prototype;As.instanceString=function(){return"stylesheet"},As.selector=function(l){return this[this.length++]={selector:l,properties:[]},this},As.css=function(l,a){var s=this.length-1;if(We(l))this[s].properties.push({name:l,value:a});else if(vt(l))for(var c=l,u=Object.keys(c),h=0;h<u.length;h++){var m=u[h],f=c[m];if(null!=f){var v=yi.properties[m]||yi.properties[Sh(m)];null!=v&&this[s].properties.push({name:v.name,value:f})}}return this},As.style=As.css,As.generateStyle=function(l){var a=new yi(l);return this.appendToStyle(a)},As.appendToStyle=function(l){for(var a=0;a<this.length;a++){var s=this[a],u=s.properties;l.selector(s.selector);for(var h=0;h<u.length;h++){var m=u[h];l.css(m.name,m.value)}}return l};var Rs=function(a){return void 0===a&&(a={}),vt(a)?new Al(a):We(a)?ou.apply(ou,arguments):void 0};Rs.use=function(l){var a=Array.prototype.slice.call(arguments,1);return a.unshift(Rs),l.apply(null,a),this},Rs.warnings=function(l){return Eb(l)},Rs.version="3.23.0",Rs.stylesheet=Rs.Stylesheet=jo,he.exports=Rs},5203:(he,Ye,Z)=>{he.exports=Z(8732)},8732:function(he,Ye){var Z,J,me;(function(){var _e,ve,fe,ke,Ze,mt,_t,kt,Ki,ni,Fn,_n,Bi,ln,ki;fe=Math.floor,ni=Math.min,ve=function(Ne,at){return Ne<at?-1:Ne>at?1:0},Ki=function(Ne,at,ut,Rt,Vi){var Nt;if(null==ut&&(ut=0),null==Vi&&(Vi=ve),ut<0)throw new Error("lo must be non-negative");for(null==Rt&&(Rt=Ne.length);ut<Rt;)Vi(at,Ne[Nt=fe((ut+Rt)/2)])<0?Rt=Nt:ut=Nt+1;return[].splice.apply(Ne,[ut,ut-ut].concat(at)),at},mt=function(Ne,at,ut){return null==ut&&(ut=ve),Ne.push(at),ln(Ne,0,Ne.length-1,ut)},Ze=function(Ne,at){var ut,Rt;return null==at&&(at=ve),ut=Ne.pop(),Ne.length?(Rt=Ne[0],Ne[0]=ut,ki(Ne,0,at)):Rt=ut,Rt},kt=function(Ne,at,ut){var Rt;return null==ut&&(ut=ve),Rt=Ne[0],Ne[0]=at,ki(Ne,0,ut),Rt},_t=function(Ne,at,ut){var Rt;return null==ut&&(ut=ve),Ne.length&&ut(Ne[0],at)<0&&(at=(Rt=[Ne[0],at])[0],Ne[0]=Rt[1],ki(Ne,0,ut)),at},ke=function(Ne,at){var Rt,Nt,Xi,_r,ia;for(null==at&&(at=ve),_r=[],Rt=0,Nt=(Xi=function(){ia=[];for(var Vr=0,cn=fe(Ne.length/2);0<=cn?Vr<cn:Vr>cn;0<=cn?Vr++:Vr--)ia.push(Vr);return ia}.apply(this).reverse()).length;Rt<Nt;Rt++)_r.push(ki(Ne,Xi[Rt],at));return _r},Bi=function(Ne,at,ut){var Rt;if(null==ut&&(ut=ve),-1!==(Rt=Ne.indexOf(at)))return ln(Ne,0,Rt,ut),ki(Ne,Rt,ut)},Fn=function(Ne,at,ut){var Vi,Nt,wi,Xi;if(null==ut&&(ut=ve),!(Vi=Ne.slice(0,at)).length)return Vi;for(ke(Vi,ut),Nt=0,wi=(Xi=Ne.slice(at)).length;Nt<wi;Nt++)_t(Vi,Xi[Nt],ut);return Vi.sort(ut).reverse()},_n=function(Ne,at,ut){var Rt,Nt,wi,Xi,_r,ia,Vr,cn,We;if(null==ut&&(ut=ve),10*at<=Ne.length){if(!(wi=Ne.slice(0,at).sort(ut)).length)return wi;for(Nt=wi[wi.length-1],Xi=0,ia=(Vr=Ne.slice(at)).length;Xi<ia;Xi++)ut(Rt=Vr[Xi],Nt)<0&&(Ki(wi,Rt,0,null,ut),wi.pop(),Nt=wi[wi.length-1]);return wi}for(ke(Ne,ut),We=[],_r=0,cn=ni(at,Ne.length);0<=cn?_r<cn:_r>cn;0<=cn?++_r:--_r)We.push(Ze(Ne,ut));return We},ln=function(Ne,at,ut,Rt){var Vi,Nt,wi;for(null==Rt&&(Rt=ve),Vi=Ne[ut];ut>at&&Rt(Vi,Nt=Ne[wi=ut-1>>1])<0;)Ne[ut]=Nt,ut=wi;return Ne[ut]=Vi},ki=function(Ne,at,ut){var Rt,Vi,Nt,wi,Xi;for(null==ut&&(ut=ve),Vi=Ne.length,Xi=at,Nt=Ne[at],Rt=2*at+1;Rt<Vi;)(wi=Rt+1)<Vi&&!(ut(Ne[Rt],Ne[wi])<0)&&(Rt=wi),Ne[at]=Ne[Rt],Rt=2*(at=Rt)+1;return Ne[at]=Nt,ln(Ne,Xi,at,ut)},_e=function(){function Ne(at){this.cmp=at??ve,this.nodes=[]}return Ne.push=mt,Ne.pop=Ze,Ne.replace=kt,Ne.pushpop=_t,Ne.heapify=ke,Ne.updateItem=Bi,Ne.nlargest=Fn,Ne.nsmallest=_n,Ne.prototype.push=function(at){return mt(this.nodes,at,this.cmp)},Ne.prototype.pop=function(){return Ze(this.nodes,this.cmp)},Ne.prototype.peek=function(){return this.nodes[0]},Ne.prototype.contains=function(at){return-1!==this.nodes.indexOf(at)},Ne.prototype.replace=function(at){return kt(this.nodes,at,this.cmp)},Ne.prototype.pushpop=function(at){return _t(this.nodes,at,this.cmp)},Ne.prototype.heapify=function(){return ke(this.nodes,this.cmp)},Ne.prototype.updateItem=function(at){return Bi(this.nodes,at,this.cmp)},Ne.prototype.clear=function(){return this.nodes=[]},Ne.prototype.empty=function(){return 0===this.nodes.length},Ne.prototype.size=function(){return this.nodes.length},Ne.prototype.clone=function(){var at;return(at=new Ne).nodes=this.nodes.slice(0),at},Ne.prototype.toArray=function(){return this.nodes.slice(0)},Ne.prototype.insert=Ne.prototype.push,Ne.prototype.top=Ne.prototype.peek,Ne.prototype.front=Ne.prototype.peek,Ne.prototype.has=Ne.prototype.contains,Ne.prototype.copy=Ne.prototype.clone,Ne}(),J=[],void 0===(me="function"==typeof(Z=function(){return _e})?Z.apply(Ye,J):Z)||(he.exports=me)}).call(this)},4994:(he,Ye,Z)=>{var J=Z(4312),me=Z(6421),_e=Z(5764),ve=Z(8685),fe=Z(6676);function ke(Ze){var mt=-1,_t=null==Ze?0:Ze.length;for(this.clear();++mt<_t;){var kt=Ze[mt];this.set(kt[0],kt[1])}}ke.prototype.clear=J,ke.prototype.delete=me,ke.prototype.get=_e,ke.prototype.has=ve,ke.prototype.set=fe,he.exports=ke},9215:(he,Ye,Z)=>{var J=Z(1840),me=Z(4378),_e=Z(4981),ve=Z(7343),fe=Z(8895);function ke(Ze){var mt=-1,_t=null==Ze?0:Ze.length;for(this.clear();++mt<_t;){var kt=Ze[mt];this.set(kt[0],kt[1])}}ke.prototype.clear=J,ke.prototype.delete=me,ke.prototype.get=_e,ke.prototype.has=ve,ke.prototype.set=fe,he.exports=ke},1501:(he,Ye,Z)=>{var _e=Z(3436)(Z(2119),"Map");he.exports=_e},9850:(he,Ye,Z)=>{var J=Z(638),me=Z(1184),_e=Z(866),ve=Z(3771),fe=Z(1772);function ke(Ze){var mt=-1,_t=null==Ze?0:Ze.length;for(this.clear();++mt<_t;){var kt=Ze[mt];this.set(kt[0],kt[1])}}ke.prototype.clear=J,ke.prototype.delete=me,ke.prototype.get=_e,ke.prototype.has=ve,ke.prototype.set=fe,he.exports=ke},443:(he,Ye,Z)=>{var J=Z(2119);he.exports=J.Symbol},4633:he=>{he.exports=function Ye(Z,J){for(var me=-1,_e=null==Z?0:Z.length,ve=Array(_e);++me<_e;)ve[me]=J(Z[me],me,Z);return ve}},9719:(he,Ye,Z)=>{var J=Z(5683),me=Z(217),ve=Object.prototype.hasOwnProperty;he.exports=function fe(ke,Ze,mt){var _t=ke[Ze];(!ve.call(ke,Ze)||!me(_t,mt)||void 0===mt&&!(Ze in ke))&&J(ke,Ze,mt)}},3503:(he,Ye,Z)=>{var J=Z(217);he.exports=function me(_e,ve){for(var fe=_e.length;fe--;)if(J(_e[fe][0],ve))return fe;return-1}},5683:(he,Ye,Z)=>{var J=Z(6713);he.exports=function me(_e,ve,fe){"__proto__"==ve&&J?J(_e,ve,{configurable:!0,enumerable:!0,value:fe,writable:!0}):_e[ve]=fe}},5456:(he,Ye,Z)=>{var J=Z(6884),me=Z(8533);he.exports=function _e(ve,fe){for(var ke=0,Ze=(fe=J(fe,ve)).length;null!=ve&&ke<Ze;)ve=ve[me(fe[ke++])];return ke&&ke==Ze?ve:void 0}},3337:(he,Ye,Z)=>{var J=Z(443),me=Z(1318),_e=Z(2902),ke=J?J.toStringTag:void 0;he.exports=function Ze(mt){return null==mt?void 0===mt?"[object Undefined]":"[object Null]":ke&&ke in Object(mt)?me(mt):_e(mt)}},7304:(he,Ye,Z)=>{var J=Z(5946),me=Z(1943),_e=Z(5940),ve=Z(2827),ke=/^\[object .+?Constructor\]$/,Ki=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");he.exports=function ni(Fn){return!(!_e(Fn)||me(Fn))&&(J(Fn)?Ki:ke).test(ve(Fn))}},5963:(he,Ye,Z)=>{var J=Z(9719),me=Z(6884),_e=Z(8442),ve=Z(5940),fe=Z(8533);he.exports=function ke(Ze,mt,_t,kt){if(!ve(Ze))return Ze;for(var Ki=-1,ni=(mt=me(mt,Ze)).length,Fn=ni-1,_n=Ze;null!=_n&&++Ki<ni;){var Bi=fe(mt[Ki]),ln=_t;if("__proto__"===Bi||"constructor"===Bi||"prototype"===Bi)return Ze;if(Ki!=Fn){var ki=_n[Bi];void 0===(ln=kt?kt(ki,Bi,_n):void 0)&&(ln=ve(ki)?ki:_e(mt[Ki+1])?[]:{})}J(_n,Bi,ln),_n=_n[Bi]}return Ze}},3935:(he,Ye,Z)=>{var J=Z(443),me=Z(4633),_e=Z(1503),ve=Z(4129),ke=J?J.prototype:void 0,Ze=ke?ke.toString:void 0;he.exports=function mt(_t){if("string"==typeof _t)return _t;if(_e(_t))return me(_t,mt)+"";if(ve(_t))return Ze?Ze.call(_t):"";var kt=_t+"";return"0"==kt&&1/_t==-1/0?"-0":kt}},3348:(he,Ye,Z)=>{var J=Z(2760),me=/^\s+/;he.exports=function _e(ve){return ve&&ve.slice(0,J(ve)+1).replace(me,"")}},6884:(he,Ye,Z)=>{var J=Z(1503),me=Z(5352),_e=Z(2855),ve=Z(3943);he.exports=function fe(ke,Ze){return J(ke)?ke:me(ke,Ze)?[ke]:_e(ve(ke))}},9454:he=>{he.exports=function Ye(Z,J){var me=-1,_e=Z.length;for(J||(J=Array(_e));++me<_e;)J[me]=Z[me];return J}},4610:(he,Ye,Z)=>{var J=Z(2119);he.exports=J["__core-js_shared__"]},6713:(he,Ye,Z)=>{var J=Z(3436),me=function(){try{var _e=J(Object,"defineProperty");return _e({},"",{}),_e}catch{}}();he.exports=me},9122:he=>{var Ye="object"==typeof global&&global&&global.Object===Object&&global;he.exports=Ye},4537:(he,Ye,Z)=>{var J=Z(3819);he.exports=function me(_e,ve){var fe=_e.__data__;return J(ve)?fe["string"==typeof ve?"string":"hash"]:fe.map}},3436:(he,Ye,Z)=>{var J=Z(7304),me=Z(1990);he.exports=function _e(ve,fe){var ke=me(ve,fe);return J(ke)?ke:void 0}},1318:(he,Ye,Z)=>{var J=Z(443),me=Object.prototype,_e=me.hasOwnProperty,ve=me.toString,fe=J?J.toStringTag:void 0;he.exports=function ke(Ze){var mt=_e.call(Ze,fe),_t=Ze[fe];try{Ze[fe]=void 0;var kt=!0}catch{}var Ki=ve.call(Ze);return kt&&(mt?Ze[fe]=_t:delete Ze[fe]),Ki}},1990:he=>{he.exports=function Ye(Z,J){return Z?.[J]}},4312:(he,Ye,Z)=>{var J=Z(862);he.exports=function me(){this.__data__=J?J(null):{},this.size=0}},6421:he=>{he.exports=function Ye(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}},5764:(he,Ye,Z)=>{var J=Z(862),ve=Object.prototype.hasOwnProperty;he.exports=function fe(ke){var Ze=this.__data__;if(J){var mt=Ze[ke];return"__lodash_hash_undefined__"===mt?void 0:mt}return ve.call(Ze,ke)?Ze[ke]:void 0}},8685:(he,Ye,Z)=>{var J=Z(862),_e=Object.prototype.hasOwnProperty;he.exports=function ve(fe){var ke=this.__data__;return J?void 0!==ke[fe]:_e.call(ke,fe)}},6676:(he,Ye,Z)=>{var J=Z(862);he.exports=function _e(ve,fe){var ke=this.__data__;return this.size+=this.has(ve)?0:1,ke[ve]=J&&void 0===fe?"__lodash_hash_undefined__":fe,this}},8442:he=>{var Z=/^(?:0|[1-9]\d*)$/;he.exports=function J(me,_e){var ve=typeof me;return!!(_e=_e??9007199254740991)&&("number"==ve||"symbol"!=ve&&Z.test(me))&&me>-1&&me%1==0&&me<_e}},5352:(he,Ye,Z)=>{var J=Z(1503),me=Z(4129),_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/;he.exports=function fe(ke,Ze){if(J(ke))return!1;var mt=typeof ke;return!("number"!=mt&&"symbol"!=mt&&"boolean"!=mt&&null!=ke&&!me(ke))||ve.test(ke)||!_e.test(ke)||null!=Ze&&ke in Object(Ze)}},3819:he=>{he.exports=function Ye(Z){var J=typeof Z;return"string"==J||"number"==J||"symbol"==J||"boolean"==J?"__proto__"!==Z:null===Z}},1943:(he,Ye,Z)=>{var ve,J=Z(4610),me=(ve=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+ve:"";he.exports=function _e(ve){return!!me&&me in ve}},1840:he=>{he.exports=function Ye(){this.__data__=[],this.size=0}},4378:(he,Ye,Z)=>{var J=Z(3503),_e=Array.prototype.splice;he.exports=function ve(fe){var ke=this.__data__,Ze=J(ke,fe);return!(Ze<0||(Ze==ke.length-1?ke.pop():_e.call(ke,Ze,1),--this.size,0))}},4981:(he,Ye,Z)=>{var J=Z(3503);he.exports=function me(_e){var ve=this.__data__,fe=J(ve,_e);return fe<0?void 0:ve[fe][1]}},7343:(he,Ye,Z)=>{var J=Z(3503);he.exports=function me(_e){return J(this.__data__,_e)>-1}},8895:(he,Ye,Z)=>{var J=Z(3503);he.exports=function me(_e,ve){var fe=this.__data__,ke=J(fe,_e);return ke<0?(++this.size,fe.push([_e,ve])):fe[ke][1]=ve,this}},638:(he,Ye,Z)=>{var J=Z(4994),me=Z(9215),_e=Z(1501);he.exports=function ve(){this.size=0,this.__data__={hash:new J,map:new(_e||me),string:new J}}},1184:(he,Ye,Z)=>{var J=Z(4537);he.exports=function me(_e){var ve=J(this,_e).delete(_e);return this.size-=ve?1:0,ve}},866:(he,Ye,Z)=>{var J=Z(4537);he.exports=function me(_e){return J(this,_e).get(_e)}},3771:(he,Ye,Z)=>{var J=Z(4537);he.exports=function me(_e){return J(this,_e).has(_e)}},1772:(he,Ye,Z)=>{var J=Z(4537);he.exports=function me(_e,ve){var fe=J(this,_e),ke=fe.size;return fe.set(_e,ve),this.size+=fe.size==ke?0:1,this}},719:(he,Ye,Z)=>{var J=Z(535);he.exports=function _e(ve){var fe=J(ve,function(Ze){return 500===ke.size&&ke.clear(),Ze}),ke=fe.cache;return fe}},862:(he,Ye,Z)=>{var me=Z(3436)(Object,"create");he.exports=me},2902:he=>{var Z=Object.prototype.toString;he.exports=function J(me){return Z.call(me)}},2119:(he,Ye,Z)=>{var J=Z(9122),me="object"==typeof self&&self&&self.Object===Object&&self,_e=J||me||Function("return this")();he.exports=_e},2855:(he,Ye,Z)=>{var J=Z(719),me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,ve=J(function(fe){var ke=[];return 46===fe.charCodeAt(0)&&ke.push(""),fe.replace(me,function(Ze,mt,_t,kt){ke.push(_t?kt.replace(_e,"$1"):mt||Ze)}),ke});he.exports=ve},8533:(he,Ye,Z)=>{var J=Z(4129);he.exports=function _e(ve){if("string"==typeof ve||J(ve))return ve;var fe=ve+"";return"0"==fe&&1/ve==-1/0?"-0":fe}},2827:he=>{var Z=Function.prototype.toString;he.exports=function J(me){if(null!=me){try{return Z.call(me)}catch{}try{return me+""}catch{}}return""}},2760:he=>{var Ye=/\s/;he.exports=function Z(J){for(var me=J.length;me--&&Ye.test(J.charAt(me)););return me}},406:(he,Ye,Z)=>{var J=Z(5940),me=Z(1710),_e=Z(1467),fe=Math.max,ke=Math.min;he.exports=function Ze(mt,_t,kt){var Ki,ni,Fn,_n,Bi,ln,ki=0,Ne=!1,at=!1,ut=!0;if("function"!=typeof mt)throw new TypeError("Expected a function");function Rt(We){var Ai=Ki,gi=ni;return Ki=ni=void 0,ki=We,_n=mt.apply(gi,Ai)}function Vi(We){return ki=We,Bi=setTimeout(Xi,_t),Ne?Rt(We):_n}function wi(We){var Ai=We-ln;return void 0===ln||Ai>=_t||Ai<0||at&&We-ki>=Fn}function Xi(){var We=me();if(wi(We))return _r(We);Bi=setTimeout(Xi,function Nt(We){var vt=_t-(We-ln);return at?ke(vt,Fn-(We-ki)):vt}(We))}function _r(We){return Bi=void 0,ut&&Ki?Rt(We):(Ki=ni=void 0,_n)}function cn(){var We=me(),Ai=wi(We);if(Ki=arguments,ni=this,ln=We,Ai){if(void 0===Bi)return Vi(ln);if(at)return clearTimeout(Bi),Bi=setTimeout(Xi,_t),Rt(ln)}return void 0===Bi&&(Bi=setTimeout(Xi,_t)),_n}return _t=_e(_t)||0,J(kt)&&(Ne=!!kt.leading,Fn=(at="maxWait"in kt)?fe(_e(kt.maxWait)||0,_t):Fn,ut="trailing"in kt?!!kt.trailing:ut),cn.cancel=function ia(){void 0!==Bi&&clearTimeout(Bi),ki=0,Ki=ln=ni=Bi=void 0},cn.flush=function Vr(){return void 0===Bi?_n:_r(me())},cn}},217:he=>{he.exports=function Ye(Z,J){return Z===J||Z!=Z&&J!=J}},8817:(he,Ye,Z)=>{var J=Z(5456);he.exports=function me(_e,ve,fe){var ke=null==_e?void 0:J(_e,ve);return void 0===ke?fe:ke}},1503:he=>{he.exports=Array.isArray},5946:(he,Ye,Z)=>{var J=Z(3337),me=Z(5940);he.exports=function Ze(mt){if(!me(mt))return!1;var _t=J(mt);return"[object Function]"==_t||"[object GeneratorFunction]"==_t||"[object AsyncFunction]"==_t||"[object Proxy]"==_t}},5940:he=>{he.exports=function Ye(Z){var J=typeof Z;return null!=Z&&("object"==J||"function"==J)}},2671:he=>{he.exports=function Ye(Z){return null!=Z&&"object"==typeof Z}},4129:(he,Ye,Z)=>{var J=Z(3337),me=Z(2671);he.exports=function ve(fe){return"symbol"==typeof fe||me(fe)&&"[object Symbol]"==J(fe)}},535:(he,Ye,Z)=>{var J=Z(9850);function _e(ve,fe){if("function"!=typeof ve||null!=fe&&"function"!=typeof fe)throw new TypeError("Expected a function");var ke=function(){var Ze=arguments,mt=fe?fe.apply(this,Ze):Ze[0],_t=ke.cache;if(_t.has(mt))return _t.get(mt);var kt=ve.apply(this,Ze);return ke.cache=_t.set(mt,kt)||_t,kt};return ke.cache=new(_e.Cache||J),ke}_e.Cache=J,he.exports=_e},1710:(he,Ye,Z)=>{var J=Z(2119);he.exports=function(){return J.Date.now()}},4793:(he,Ye,Z)=>{var J=Z(5963);he.exports=function me(_e,ve,fe){return null==_e?_e:J(_e,ve,fe)}},1467:(he,Ye,Z)=>{var J=Z(3348),me=Z(5940),_e=Z(4129),fe=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,Ze=/^0o[0-7]+$/i,mt=parseInt;he.exports=function _t(kt){if("number"==typeof kt)return kt;if(_e(kt))return NaN;if(me(kt)){var Ki="function"==typeof kt.valueOf?kt.valueOf():kt;kt=me(Ki)?Ki+"":Ki}if("string"!=typeof kt)return 0===kt?kt:+kt;kt=J(kt);var ni=ke.test(kt);return ni||Ze.test(kt)?mt(kt.slice(2),ni?2:8):fe.test(kt)?NaN:+kt}},4152:(he,Ye,Z)=>{var J=Z(4633),me=Z(9454),_e=Z(1503),ve=Z(4129),fe=Z(2855),ke=Z(8533),Ze=Z(3943);he.exports=function mt(_t){return _e(_t)?J(_t,ke):ve(_t)?[_t]:me(fe(Ze(_t)))}},3943:(he,Ye,Z)=>{var J=Z(3935);he.exports=function me(_e){return null==_e?"":J(_e)}}},he=>{he(he.s=7195)}]);